(window.webpackJsonp=window.webpackJsonp||[]).push([[23,7,10],Array(146).concat([function(e,t,i){"use strict";i.r(t),function(e,s,n){i(183),i(40),i(34);var a=i(8),o=i(509),r=i(521),l=i(842),c=i(1138),d=i(770),h=i(1139),u=i(614),p=i(62),v=i(739),m=i(885),f=i(1140),g=i(1141),y=i(585),w=i(599),b=i(849),k=i(745),C=i(1143),S=i(1175),T=i(1187),P=i(1189),x=i(1194),D=i(1196),$=i(1198),E=i(214),M=i(890),_=i(581),R=i(87),N=i(21),I=i(512),V=i(1200),L=i(1205),A=i(35),j=i(537),B=i(893),O=i(1209),z=i(894),U=i(185),F=i(578),H=i(1210),G=i(224),W=i(1212),Y=i.n(W),q=i(670),J=i.n(q),K=i(1213),Q=i(1216),X=i(13),Z=i(529),ee=i(45),te=i.n(ee),ie=a.a.extend({el:"body",currentTab:null,currentSectionModel:null,updatePreRenderedData:!1,regions:{nav:"#nav-region",video:"#video-region",content:"#content-region"},classHeader:{wrapper:{$el:null,$placeholder:null},content:{$el:null,$children:null},outerHeight:0},navigationHeader:{wrapper:{$el:null,$placeholder:null},outerHeight:0},mainRegion:{$el:null,minHeight:0},siteFooter:{$el:null,outerHeight:0},fixedHeaders:{shown:!1,scrollTop:0},window:{$el:null},learnModeOn:!1,premiumPopup:l.a,isFirstSectionLoaded:!1,hasPushStateSupport:!0,userReview:null,isTranscriptModeAllowed:!1,didBootstrapTranscript:!1,playedSessions:null,autoDisplayReviewForm:!1,events:{"click .class-teacher .user-information":"onClickTeacherInfo","click .class-teacher-info .view-teacher-info":"onClickTeacherInfo","click .section-navigation":"_route","click .js-close-recommend":"onRecommendCloseClick","click .recommend-class-box .btn-option-yes":"onRecommendSureClick","click .recommend-class-box .btn-option-no":"onRecommendCloseClick","click .join-module a":"initializePremiumPopupOnClick","click a.locked-enroll-button":"initializePremiumPopupOnClick","click .unenroll":"onUnenroll","click .mark-as-complete":"onMarkAsComplete","click .class-user-menu .action-item":"onUserMenuItemClick","click .share-menu-popover .share-item":"onShareMenuItemClick"},initialize:function(){var t=SS.serverBootstrap.pageData;e.bindAll(this,"routeToMode","toggleRouteToMode","triggerShowSharePopover"),this.documentEl=s("html, body"),this.preRendered=X.a.getPathname(this.hasPushStateSupport),this.legacyRendered=t.legacyRendered,this.baseRendered=s.Deferred(),this.hasPushStateSupport=X.a.hasPushStateSupport(),this.router=new c.a({classes:this}),this._views={},this.classModel=new d.a(SS.serverBootstrap.classData),t.currentUserRoster&&(this.rosterModel=new u.a(t.currentUserRoster)),this.abuseFlagButton=this.$(".abuse-flag-popup-btn");var i=new n.Model(e.extend(SS.serverBootstrap.pageData.videoPlayerData.shareLinks,SS.serverBootstrap.classData.parentClass));new j.a({el:this.$(".social-share-buttons-wrapper"),model:i,hideShortUrl:!0}),this.parentClassModel=new n.Model(this.classModel.get("parentClass"));var l=new b.a(t.unitsData.units,{parse:!0});this._shouldCreateSharePopover()&&(this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-twitter"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showCompact:!0,showOnHover:!0,HOVER_OPEN_DELAY:0,HOVER_CLOSE_DELAY:10}),this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-facebook"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showCompact:!0,showOnHover:!0,HOVER_OPEN_DELAY:0,HOVER_CLOSE_DELAY:10}),this.sharePopover=new V.a({autoPosition:!1,anchor:this.$(".share-popup-btn"),el:this.$(".class-share-popover"),model:this.parentClassModel,roster:this.rosterModel,userIsAffiliateReferrer:t.userIsAffiliateReferrer,showEmail:!0,showOnHover:!1}),n.on("showSharePopover",this.triggerShowSharePopover)),this.playedSessions=new k.a,!t.videoPlayerData.displayEmptyState&&t.syllabusData.isSyllabusUnlocked&&(this.videoPlayer=new C.a({el:this.$(".video-player")}),this.videoPlayer.session.get("hasTranscript")&&(this.isTranscriptModeAllowed=!0),this.listenTo(this.videoPlayer,"scrollToHeaders",this.scrollToFixedHeaders),this.listenTo(this.videoPlayer,"enable:learnMode",this.routeToMode("learnMode")),this.listenTo(this.videoPlayer,"toggle:learnMode",this.toggleRouteToMode("learnMode")),this.listenTo(this.videoPlayer,"toggle:transcriptMode",this.toggleRouteToMode("transcript")),this.listenTo(this.videoPlayer,"change:session",this.onSessionChange),this.listenTo(this.videoPlayer,"click:more",this.onNoteMoreClick),this.listenTo(this.videoPlayer,"remove:note",this.removeVideoPlayerNote),this.listenTo(this.videoPlayer,"change:note",this.changeVideoPlayerNote),this.listenTo(this.videoPlayer,"newClasses:video:player:play",this.onVideoPlayerPlay)),this.initializeUserHasSharedClass(),new E.a({el:this.$(".class-details-page-header")}),new G.a;var h=this.$(".share-menu-button");this.shareMenu=new A.a({autoPosition:!1,anchor:h,el:h.find(".popover"),showOnHover:!0});var v=new n.Model(e.extend({units:l,parentClass:this.parentClassModel},t.videoPlayerData.shareLinks));new M.a({el:h.find(".share-links"),model:v,session:l.getSessionAtIndex(0)}),this.teacherUid=t.headerData.teacher.uid,this.followButton=new U.a({container:this.$(".follow-button-wrapper-class-details"),classes:"follow-button-link-style",modelData:{user:new p.a({uid:this.teacherUid}),followingId:!!t.headerData.isFollowingTeacher&&this.teacherUid,trackingParams:{via:"class-details-header"}}}),new F.a({container:this.$(".btn-save-container"),template:J.a,activeClass:"saved",inactiveClass:"save",modelData:{parent_sku:SS.serverBootstrap.classData.parentClass.sku,wishlistId:!!SS.serverBootstrap.pageData.headerData.isSaved&&SS.serverBootstrap.pageData.headerData.wishlistId,trackingParams:{via:"class-details-header"}},isLabelButton:!0,styles:"button alt-charcoal-ghost"});var m=document.createElement("div");m.className="popover shadow top add-to-calendar-popover-container js-popover-container",this.addToCalendaroPopover=new L.a({autoPosition:!0,anchor:this.$(".add-to-calendar-popup-btn"),placement:"top",arrowPlacement:"bottom",el:m,title:t.headerData.title,duration:t.videoPlayerData.totalSessionsDuration,baseUrl:t.videoPlayerData.baseUrl,description:t.sectionData.description||t.headerData.title,icons:{google:this.getCDNPath("/assets/images/add-to-calendar/google-cal.svg"),outlook:this.getCDNPath("/assets/images/add-to-calendar/outlook.svg"),apple:this.getCDNPath("/assets/images/add-to-calendar/apple.svg"),yahoo:this.getCDNPath("/assets/images/add-to-calendar/yahoo-icon.svg")}}),this.userMenu=new A.a({anchor:this.$(".btn-class-user-menu"),el:this.$(".class-user-menu"),showOnHover:!0,HOVER_OPEN_DELAY:100,autoPosition:!1}),1===SS.currentUser.get("isAdmin")?new O.a({classData:SS.serverBootstrap.classData}):SS.serverBootstrap.pageData.userClassRelationshipData.isTeacher&&new z.a;var f=this.initializePremiumPopupOnRender();f?this.listenTo(f,"onPopupDidCloseEvent",this.triggerVideoPlayerAutoPlay):this.triggerVideoPlayerAutoPlay(),SS.serverBootstrap.showDiscussionsBanner&&new _.a({el:this.$(".welcome-banner"),dialogId:Z.a.CLASS_DETAILS_DISCUSSIONS_WELCOME_BANNER_DIALOG_ID}),"1"===r.a.getParam("unenrolled")&&this.onUnenrollSuccess(),this.setupNavCollection(),this.$videoDrawerContainer=this.$(".video-drawer-container"),o.a.initPopovers(this),a.a.prototype.initialize.call(this,arguments),n.History.started||(this.hasPushStateSupport||(document.location.hash=document.location.pathname.substr(1)),n.history.start({pushState:this.hasPushStateSupport})),fbq&&fbq("track","ViewContent",{content_ids:[SS.serverBootstrap.pageData.headerData.parentClassSku],content_type:"product"})},afterRender:function(){var e=this;this.setupNav(),this.calculateHeaderRelatedAttributes(),this.setMainRegionMinHeight(),window.removeEventListener("scroll",SS.classDetailsHeaderFunction),this.window.$el.on("scroll",function(){e.toggleFixedHeaders()}),this.fixedHeaders.shown=this.classHeader.wrapper.$el.hasClass("fixed-header"),this.baseRendered.resolve()},getCDNPath:function(e){var t=SS.serverBootstrap.staticAssetData.cdnHost;return t?"//"+t+e:e},calculateHeaderRelatedAttributes:function(){this.classHeader.wrapper.$el=this.$(".class-details-header-wrapper"),this.classHeader.wrapper.$placeholder=this.$(".class-details-header-wrapper-placeholder"),this.navigationHeader.wrapper.$el=this.$(".underline-tabs-wrapper"),this.navigationHeader.wrapper.$placeholder=this.$(".underline-tabs-wrapper-placeholder"),this.classHeader.content.$el=this.$(".class-details-header"),this.classHeader.content.$children=this.classHeader.content.$el.children(),this.classHeader.outerHeight=this.classHeader.wrapper.$el.outerHeight(!0),this.navigationHeader.outerHeight=this.navigationHeader.wrapper.$el.outerHeight(!0),this.classHeader.wrapper.$el.css("height",this.classHeader.outerHeight),this.classHeader.wrapper.$placeholder.css("height",this.classHeader.outerHeight),this.navigationHeader.wrapper.$placeholder.css("height",this.navigationHeader.outerHeight),this.mainRegion.$el=this.$("#main-region"),this.window.$el=s(window),this.siteFooter.$el=this.$(".site-footer"),this.siteFooter.outerHeight=this.siteFooter.$el.outerHeight(!0),this.mainRegion.minHeight=this.classHeader.outerHeight+this.siteFooter.outerHeight,this.fixedHeaders.scrollTop=this.mainRegion.$el.offset().top-this.classHeader.outerHeight},showFixedHeaders:function(){this.classHeader.content.$children.css("opacity",0),this.classHeader.content.$el.css("marginTop","-"+this.classHeader.outerHeight+"px"),this.classHeader.wrapper.$el.addClass("fixed-header"),this.classHeader.wrapper.$placeholder.removeClass("hidden"),this.classHeader.content.$children.fadeTo(200,1),this.classHeader.content.$el.animate({marginTop:0},150),this.navigationHeader.wrapper.$el.addClass("fixed-header"),this.navigationHeader.wrapper.$el.css("top",this.classHeader.outerHeight),this.navigationHeader.wrapper.$placeholder.removeClass("hidden"),this.fixedHeaders.shown=!0},hideFixedHeaders:function(){this.classHeader.content.$children.css("opacity",1),this.classHeader.content.$el.css("marginTop",0),this.classHeader.wrapper.$el.removeClass("fixed-header"),this.classHeader.wrapper.$placeholder.addClass("hidden"),this.navigationHeader.wrapper.$el.removeClass("fixed-header"),this.navigationHeader.wrapper.$el.css("top",0),this.navigationHeader.wrapper.$placeholder.addClass("hidden"),this.fixedHeaders.shown=!1},scrollToFixedHeaders:function(){this.documentEl.scrollTop(this.fixedHeaders.scrollTop)},scrollToTop:function(){this.documentEl.scrollTop(0)},toggleFixedHeaders:function(){this.mainRegion.$el.offset().top-this.window.$el.scrollTop()-1<=this.classHeader.outerHeight?!1===this.fixedHeaders.shown&&this.showFixedHeaders():this.hideFixedHeaders()},onVideoPlayerPlay:function(){this.playedSessions.add(this.videoPlayer.session);var e=2===this.playedSessions.length,t=!SS.serverBootstrap.pageData.isTeacher,i=!SS.serverBootstrap.pageData.headerData.isFollowingTeacher;e&&t&&i&&this.showFollowDialog()},removeVideoPlayerNote:function(e){this.videoPlayer.session.notes.remove(e)},changeVideoPlayerNote:function(e){var t=this.videoPlayer.session.notes.get(e);t&&t.set(e.attributes)},onVideoPlayerNoteRemove:function(e){this.videoDrawerView&&this.videoDrawerView.notes.remove(e)},onVideoPlayerNoteChange:function(e){if(this.videoDrawerView){var t=this.videoDrawerView.notes.get(e);t&&t.set(e.attributes)}},onNoteMoreClick:function(e){this.learnModeOn?this.videoDrawerView.highlightNote(e):(this.displayNote=e,this.routeToMode("learnMode")("note-more"))},listenToVideoPlayerNoteEvents:function(){this.listenTo(this.videoPlayer.session.notes,"remove",this.onVideoPlayerNoteRemove),this.listenTo(this.videoPlayer.session.notes,"change",this.onVideoPlayerNoteChange)},onRecommendNoClick:function(e){e.preventDefault()},onAbuseFlagClick:function(e){SS.serverBootstrap.userData.isMember?(e.preventDefault(),this.userAbuseFlag=new m.a({parentClassSku:this.classModel.get("parentClass").sku,uid:SS.serverBootstrap.userData.id}),new B.a({model:this.userAbuseFlag})):new R.a({state:"signup"})},closeRecommendBanner:function(){var e=this;this.$(".recommend-class-box").slideUp("slow",function(){return e.calculateHeaderRelatedAttributes()}),s.cookie("show_recommend_box",!1)},onRecommendCloseClick:function(e){e.preventDefault(),this.closeRecommendBanner()},onRecommendSureClick:function(e){e.preventDefault(),this.closeRecommendBanner(),this.autoDisplayReviewForm=!0,s(".underline-tabs .tab a.reviews").trigger("click")},onClickTeacherInfo:function(e){e.preventDefault(),this.$("*[data-ss-username]").trigger("mouseleave",[!0]),new N.a({className:"user-profile-popup-view",basicPopup:!0,centerVertically:!1,endpoint:"/users/renderProfilePopup",endpointData:{userId:this.teacherUid,classSku:this.classModel.get("sku")}})},onUserMenuItemClick:function(){this.userMenu.close()},onShareMenuItemClick:function(){this.shareMenu.close()},onMarkAsComplete:function(){var e=this;this.rosterModel.set("status",2).save().success(function(){SS.events.trigger("alerts:create",{title:"Class marked as complete.",action:"/lists/continue-watching",actionString:"View Completed Classes",type:"success"}),e.$(".mark-as-complete").parent().remove()}).error(this.onError)},onUnenroll:function(){var e=new I.a({content:te.a.render(Y.a),submitBtnVal:"Unenroll"});e.openPopup(),e.on("onConfirmationDidConfirmEvent",this.performUnenroll,this)},performUnenroll:function(){this.rosterModel.destroy({success:this.onRosterDestroySuccess,error:this.onRosterDestroyError})},onUnenrollSuccess:function(){SS.events.trigger("alerts:create",{title:"Unenrolled from class.",type:"success"})},onRosterDestroySuccess:function(){window.location=SS.serverBootstrap.pageData.headerData.unenrolledUrl},onRosterDestroyError:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error completing that action. Please try again later.",type:"error"})},initializeLearnMode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=SS.serverBootstrap.pageData,s=new v.a(i.videoPlayerData.startingSession),n=e.extend({},i.learnModeData,{sessionTitle:s.get("title")});this.videoDrawerView=new K.a({container:this.$videoDrawerContainer,videoPlayer:this.videoPlayer,session:this.videoPlayer.session,templateData:n,displayNote:this.displayNote,via:t.via}),this.listenTo(this.videoDrawerView,"created:note",function(e){this.videoPlayer.onNoteFormNewNote(e)}),this.listenTo(this.videoDrawerView.notes,"remove",this.removeVideoPlayerNote),this.listenTo(this.videoDrawerView.notes,"change",this.changeVideoPlayerNote),this.listenTo(this.videoDrawerView,"toggle:drawer",this.toggleRouteToMode("learnMode")),this.listenToVideoPlayerNoteEvents()},enableLearnMode:function(t){this.learnModeOn||this.videoPlayer.videoPlayerReady.then(e.bind(function(){this.initializeLearnMode(t),this.$el.addClass("learn-mode"),this.videoPlayer.videoPlayer.hideControlBarTooltips(),this.videoPlayer.closeNotePopovers(),this.videoPlayer.videoPlayer.updateTooltip(this.videoPlayer.videoPlayer.$learnModeToggle,"Hide Notes"),this.displayNote&&(this.videoDrawerView.highlightNote(this.displayNote),this.displayNote=void 0),this.learnModeOn=!0,this.openVideoDrawer()},this))},disableLearnMode:function(e){this.learnModeOn?(this.$el.removeClass("learn-mode"),this.videoPlayer.videoPlayer.updateTooltip(this.videoPlayer.videoPlayer.$learnModeToggle,"View All Notes"),this.videoPlayer.closeNotePopovers(),this.learnModeOn=!1,this.closeVideoDrawer(e)):e&&e()},initializeTranscriptMode:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.didBootstrapTranscript){var i=SS.serverBootstrap.pageData.transcriptData.initialTranscript;i&&i.sessionId===this.videoPlayer.session.get("id")&&(e=i),this.didBootstrapTranscript=!0}this.videoDrawerView=new Q.a({container:this.$videoDrawerContainer,videoPlayer:this.videoPlayer,session:this.videoPlayer.session,transcriptData:e,via:t.via}),this.listenTo(this.videoDrawerView,"toggle:drawer",this.toggleRouteToMode("transcript"))},enableTranscriptMode:function(t){this.transcriptOn||this.videoPlayer.videoPlayerReady.then(e.bind(function(){this.initializeTranscriptMode(t),this.$el.addClass("transcript-mode"),this.videoPlayer.videoPlayer.hideControlBarTooltips(),this.videoPlayer.videoPlayer.enableTranscriptMode(),this.transcriptOn=!0,this.openVideoDrawer()},this))},disableTranscriptMode:function(e){this.transcriptOn?(this.$el.removeClass("transcript-mode"),this.videoPlayer.videoPlayer.disableTranscriptMode(),this.transcriptOn=!1,this.closeVideoDrawer(e)):e&&e()},allowTranscriptMode:function(){this.isTranscriptModeAllowed=!0,this.videoPlayer.videoPlayer.allowTranscriptMode()},disallowTranscriptMode:function(){this.isTranscriptModeAllowed=!1,this.videoPlayer.videoPlayer.disallowTranscriptMode()},closeVideoDrawer:function(e){if(this.videoDrawerView){var t=this;this.videoDrawerView.close(function(){t.videoDrawerView.remove(),e&&e()})}else e&&e()},openVideoDrawer:function(){var e=this.$("#video-region").outerHeight()-this.$(".video-and-playlist").outerHeight()+this.$("#main-region").outerHeight();this.videoDrawerView.open({minHeight:e})},onSessionChange:function(e){e.get("hasTranscript")?this.allowTranscriptMode():(this.unRouteToMode("transcript")("no-transcript"),this.disallowTranscriptMode()),this.videoDrawerView&&(this.videoDrawerView.updateSession(e),this.listenToVideoPlayerNoteEvents())},_route:function(e){e.preventDefault(),this.route(e.currentTarget.href)},route:function(e){var t=e.replace(window.location.protocol+"//"+window.location.hostname,"");this.router.navigate(t,!0)},switchSection:function(e){this._activatingSectionTab||this.route(e.get("link"))},_activateSectionTab:function(e){this._activatingSectionTab=!0,this.navigationTabs.activate(e),this._activatingSectionTab=!1},setupNavCollection:function(){this.navigationTabs=new y.a(SS.serverBootstrap.pageData.navigationTabsData.tabs,{silent:!1}),this.listenTo(this.navigationTabs,"activate",this.switchSection)},setupNav:function(){this.nav.attach(new w.a({collection:this.navigationTabs,className:"underline-tabs"}))},routeToMode:function(t){return e.bind(function(e){var i={via:e};i[t]=1,this.route(r.a.addParams(window.location.pathname,i))},this)},unRouteToMode:function(t){return e.bind(function(){r.a.getParams(window.location.href)[t]&&this.route(window.location.pathname)},this)},toggleRouteToMode:function(t){return e.bind(function(e){r.a.getParams(window.location.href)[t]?this.route(window.location.pathname):("transcript"!==t||this.isTranscriptModeAllowed)&&this.routeToMode(t)(e)},this)},_showSection:function(t,i,s){var n=X.a.getPathname(this.hasPushStateSupport),a=this._views[n],o={classModel:this.classModel},r={pageElementData:this.getPageElementData(),autoDisplayReviewForm:this.autoDisplayReviewForm};if(this.autoDisplayReviewForm=!1,!a){var l={urlRoot:X.a.getPathname(this.hasPushStateSupport)};if(this._isPreRendered()&&!this.updatePreRenderedData)this.currentSectionModel=new s(e.extend(r,SS.serverBootstrap.pageData.sectionData),l),o.model=this.currentSectionModel,this.legacyRendered||(o.el=this.content.view.$el),a=new i(o),this.legacyRendered&&a.render();else{var c=this.currentSectionModel=new s(r,l);o.model=c,a=new i(o),c.fetch()}a.section=t,a.on("change",this._clearViewsCache,this),this._views[n]=a}this.content.attach(a,!0),this._isPreRendered()||this.setMainRegionMinHeight(),this.isFirstSectionLoaded?this.fixedHeaders.shown&&("home"===t?this.scrollToTop():this.scrollToFixedHeaders()):this.isFirstSectionLoaded=!0},getPageElementData:function(){return{classHeader:this.classHeader,navigationHeader:this.navigationHeader,totalHeaderHeight:this.classHeader.outerHeight+this.navigationHeader.outerHeight}},callAction:function(t,i,s){var n=this;this.baseRendered.then(function(){e.result(n,i),s&&(s.learnMode||s.transcript)?s.learnMode?n.disableTranscriptMode(function(){setTimeout(function(){n.enableLearnMode(s)},100)}):s.transcript&&n.disableLearnMode(function(){setTimeout(function(){n.enableTranscriptMode(s)},100)}):(n.disableLearnMode(),n.disableTranscriptMode(),n.closeVideoDrawer())})},home:function(){this._showSection("home",S.a,h.a),this._activateSectionTab("About")},reviews:function(){this._showSection("reviews",P.a,h.a),this._activateSectionTab("Reviews")},lessons:function(){this._showSection("lessons",T.a,h.a),this._activateSectionTab("Lessons")},projects:function(){this._showSection("projects",x.a,f.a),this._activateSectionTab("Projects & Resources")},discussions:function(){this._showSection("discussions",D.a,g.a),this._activateSectionTab("Community")},discussionView:function(){this._showSection("discussionView",$.a,h.a),this._activateSectionTab("Community")},_clearViewsCache:function(){this.updatePreRenderedData=!0,delete this._views,this._views={}},setMainRegionMinHeight:function(){this.mainRegion.$el.css("minHeight",this.window.$el.height()-this.mainRegion.minHeight)},_isPreRendered:function(){return this.preRendered===X.a.getPathname(this.hasPushStateSupport)},_shouldCreateSharePopover:function(){return!SS.serverBootstrap.pageData.headerData.parentClassIsDraft},_showSharePopover:function(){this.sharePopover.source="Class Onboarding",this.sharePopover.onboarding=!0,this.sharePopover.setShowOnHover(!1),this.sharePopover.open()},triggerShowSharePopover:function(){this._showSharePopover()},initializeUserHasSharedClass:function(){this.userHasSharedClass=SS.serverBootstrap.userHasSharedClass;var e=this;n.on("shared",function(){e.userHasSharedClass=!0})},_userIsEnrolled:function(){return SS.serverBootstrap.pageData.userClassRelationshipData.isEnrolled},initializePremiumPopupOnClick:function(e){return this.premiumPopup.initializePremiumPopupOnClick(e)},initializePremiumPopupOnRender:function(){return this.premiumPopup.initializePremiumPopupOnRender()},triggerVideoPlayerAutoPlay:function(){if(this.videoPlayer){var e=this;this.videoPlayer.videoPlayerMetaDataLoaded.then(function(){e.videoPlayer.trigger("video:player:autoplay:ready")})}},showFollowDialog:function(){var e=this,t=this.$(".follow-button-wrapper-class-details");this.followDialog=Z.a.createDialog(Z.a.CLASS_DETAILS_FOLLOW_DIALOG_ID,H.a,{anchor:t,placement:"right"}),this.listenTo(this.followButton,"click",function(){e.followDialog.trigger("dialog:close")})}});t.default=ie}.call(this,i(10),i(9),i(15))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(28),n=i(513),a=i(120);i(121)("search",1,function(e,t,i,o){return[function(i){var s=e(this),n=null==i?void 0:i[t];return void 0!==n?n.call(i,s):new RegExp(i)[t](String(s))},function(e){var t=o(i,e,this);if(t.done)return t.value;var r=s(e),l=String(this),c=r.lastIndex;n(c,0)||(r.lastIndex=0);var d=a(r,l);return n(r.lastIndex,c)||(r.lastIndex=c),null===d?-1:d.index}]})},function(e,t,i){"use strict";i.d(t,"a",function(){return s});i(510),i(183);function s(e){var t=e?e.replace(/^[^?]*/,""):document.location.search,i={};return t.replace(/([^?=&]+)(?:=([^&]*))?/g,function(e,t,s){i[t]=s}),i}},function(e,t,i){"use strict";(function(e){var s=i(21),n=i(527),a=i.n(n),o=s.a.extend({preventCloseOnSubmit:!1,templateFunc:e.template(a.a),templateData:function(){return this.options},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .btn-action-cancel":"onClickCancel","click .btn-action-submit":"onClickSubmit"})},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e.extend({title:"Are you sure?",submitBtnVal:"Submit",cancelBtnVal:"Cancel",includeActions:!0,padding:!0,width:400},t),s.a.prototype.initialize.apply(this,arguments)},render:function(){s.a.prototype.render.apply(this,arguments),this.$el.addClass("action-popup-view"),!1===this.options.padding&&this.$(".popup-content").addClass("no-padding"),this.$el.width(this.options.width)},onClickCancel:function(){this.preventClose=!1,this.trigger("onPopupDidCancelEvent")},onClickSubmit:function(){this.trigger("onPopupDidSubmitEvent"),this.trigger("onConfirmationDidConfirmEvent"),!1===this.preventCloseOnSubmit&&this.closePopup()},disableBtnWithLabel:function(e){var t=this.$(".btn-action-submit");t.addClass("disabled").attr("disabled","disabled"),e&&t.val(e)}});t.a=o}).call(this,i(10))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,i){"use strict";var s=i(22),n=i(72),a=i(88);s(s.P+s.F*i(31)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=n(this),i=a(t);return"number"!=typeof i||isFinite(i)?t.toISOString():null}})},,,,,function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.on("change:errors",this.onErrorChange,this)},onErrorChange:function(e,t,s){i.isEmpty(t)?this.trigger("valid"):this.trigger("invalid",e,t,s)}});t.a=s}).call(this,i(15),i(10))},,function(e,t,i){"use strict";(function(e,s){i(183),i(119),i(184),i(510),i(118);var n={addParams:function(t,i){var s=e.param(i);return-1!==t.indexOf("?")?t+"&"+s:t+"?"+s},hasParam:function(e){var t=n.getParams();return s.has(t,e)},getParam:function(e){return n.getParams()[e]},getParams:function(){return n.getParamsFromString(window.location.search)},getParamsFromString:function(e){return s.chain(e.replace("?","").split("&")).map(function(e){if(e)return e.split("=")}).compact().object().value()}};t.a=n}).call(this,i(9),i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(511),a=e.Model.extend({urlRoot:"/shares/track",initialize:function(){if(e.Model.prototype.initialize.apply(this,arguments),!this.get("type"))throw new Error("Missing `type` attribute");if(!this.get("method"))throw new Error("Missing `method` attribute");if(!this.get("via"))throw new Error("Missing `via` attribute")},toJSON:function(){e.trigger("shared");var t=s.clone(this.attributes);t.parentClassId&&(t.object_type="ParentClasses",t.object_id=t.parentClassId),t.liveSessionId&&(t.object_type="LiveSession",t.object_id=t.liveSessionId),t=s.pick(t,"method","via","type","object_id","object_type","num_recipients");var i=Object(n.a)();return t.utm_campaign=i.utm_campaign,t.utm_medium=i.utm_medium,t.utm_source=i.utm_source,t}},{METHODS:{FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",MANUAL_EMAIL:"manual-email",GMAIL_CONTACTS:"gmail-contacts"},TYPES:{LINK:1,REFERRAL_LINK:2}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({urlRoot:"/votes",initialize:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Model.prototype.initialize.apply(this,arguments),this.isNew&&!i.isUndefined(s.voteable)&&(this.set("voteable_id",s.voteable.id),this.set("voteable_type",s.voteable.get("type")))},hasUserVoted:function(){return 1==this.get("value")}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var s=i(539),n=e.Collection.extend({model:s.a,defaults:{id:null}});t.a=n}).call(this,i(15))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.originalAttributes=this.attributes},destroy:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).silent){var t=this;this.sync("delete",this,{success:function(){t.attributes=t.originalAttributes,t.set("id",null)}})}else e.Model.prototype.destroy.apply(this,arguments)}});t.a=i}).call(this,i(15))},function(e,t){e.exports='<div class="ss-card__info">\n\t{{#author}}\n\t\t<span class="ss-card__author"><a href="{{url}}" class="link-main no-bold title-link" data-ss-username="{{username}}">{{fullName}}</a></span>\n\t{{/author}}\n\t<span class="count num-likes ss-card__likes">{{numStat}}</span>\n</div>\n<div class="ss-card__stats">\n\t<span class="ss-card__comments">{{commentStat}}</span>\n    <div class="like-btn-wrapper"></div>\n</div>\n'},function(e,t){e.exports='<% if (typeof title !== \'undefined\' && title != \'\') { %>\n    <h5 class="popup-title clear"><%= title %> <a href="javascript:;" class="btn-close icon-x"></a></h5>\n<% } %>\n<div class="popup-content">\n<% if (typeof content !== \'undefined\' && content != window.content) { %>\n    <%= content %>\n<% } %>\n</div>\n<% if (typeof includeActions !== \'undefined\' && includeActions !== false && includeActions !== \'\') { %>\n    <div class="popup-actions clear">\n        <input type="submit" class="btn-action-submit button left" value="<%= submitBtnVal %>"></input>\n        <a href="javascript:;" class="btn-action-cancel button alt-charcoal-ghost left"><%= cancelBtnVal %></a>\n    </div>\n<% } %>\n'},function(e,t,i){"use strict";var s=i(536),n=i.n(s),a=i(117),o={getTimeAgo:function(e){var t=n()(),i=n.a.unix(e),s=t.diff(i,"minutes"),o=t.diff(i,"hours"),r=t.diff(i,"days"),l=t.diff(i,"weeks"),c=t.diff(i,"months"),d=t.diff(i,"years");return s<=0?"less than a minute ago":o<=0?a.a.pluralize(s,"minute")+" ago":r<=0?a.a.pluralize(o,"hour")+" ago":l<=0?a.a.pluralize(r,"day")+" ago":c<=0?a.a.pluralize(l,"week")+" ago":d<=0?a.a.pluralize(c,"month")+" ago":"about "+a.a.pluralize(d,"year")+" ago"},getTimeFromSeconds:function(e){var t=n.a.duration(e,"seconds"),i=this.formatTimeInterval(t.hours()),s=this.formatTimeInterval(t.minutes()),a=this.formatTimeInterval(t.seconds());return t.hours()?i+":"+s+":"+a:s+":"+a},formatTimeInterval:function(e){return e<10?"0"+e:e}};t.a=o},function(e,t,i){"use strict";(function(e){i(118);var s=i(61),n={CLASS_DETAILS_PROJECT_DIALOG_ID:1,CLASS_DETAILS_NOTES_DIALOG_ID:2,HOME_WELCOME_BANNER_DIALOG_ID:3,AMA_WELCOME_BANNER_DIALOG_ID:4,HOME_PREMIUM_BANNER_DIALOG_ID:5,CLASS_DETAILS_COMMUNITY_DIALOG_ID:7,HOME_ENROLL_BANNER_DIALOG_ID:8,CLASS_DETAILS_PREMIUM_BANNER_DIALOG_ID:9,LISTS_WELCOME_BANNER_DIALOG_ID:10,VIDEO_PLAYBACK_SPEED_DIALOG_ID:11,PERSONALIZE_DIALOG_ID:12,CLASS_DETAILS_DISCUSSIONS_WELCOME_BANNER_DIALOG_ID:13,STUDENTS_GRAPH_DIALOG_ID:14,CLASS_DETAILS_FOLLOW_DIALOG_ID:15,viewedDialogIds:[],currentDialogView:null,initialize:function(){return this.viewedDialogIds=Object(s.a)(SS,"serverBootstrap","userDialogViewData")||[],this},addViewedDialogId:function(e){this.viewedDialogIds.push(e)},setCurrentDialogView:function(e){this.removeCurrentDialogView(),this.currentDialogView=e},removeCurrentDialogView:function(){this.currentDialogView&&(this.currentDialogView.remove(),this.currentDialogView=null)},createDialog:function(t,i,s){if(!(SS.currentUser.isGuest()||e.indexOf(this.viewedDialogIds,t)>-1)){var n=new i(s);return this.setCurrentDialogView(n),n}}};t.a=n.initialize()}).call(this,i(10))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var s,n,a,o,r,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?s=function(e){t.nextTick(function(){v(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){v(e.data)},s=function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(n=h.documentElement,s=function(e){var t=h.createElement("script");t.onreadystatechange=function(){v(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):s=function(e){setTimeout(v,0,e)}:(o="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&v(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,s(l),l++},u.clearImmediate=p}function p(e){delete c[e]}function v(e){if(d)setTimeout(v,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(i,s)}}(t)}finally{p(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(37),i(64))},,function(e,t,i){"use strict";(function(e){var s=i(41),n=i(523),a=i(117),o=i(575),r=i.n(o),l=s.a.extend({template:r.a,tooltips:["Like this","Unlike this"],initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.extend(this,e.pick(t,["model","parentModel","type"])),this.templateData={},e.isUndefined(t.tooltips)||(this.tooltips=t.tooltips),t.showCounter&&(this.showCounter=!0,this.templateData.showCounter=!0,e.isUndefined(this.parentModel.get("numLikes"))?e.isUndefined(this.parentModel.get("numVotes"))?this.templateData.numLikes=0:this.templateData.numLikes=this.parentModel.get("numVotes"):this.templateData.numLikes=this.parentModel.get("numLikes")),t.modelData){var i={voteable_id:t.modelData.voteable_id,voteable_type:t.modelData.voteable_type};0!==t.modelData.voteId&&e.extend(i,{id:t.modelData.voteId}),this.model=new n.a(i)}t.initialState?this.initialState=t.initialState:this.initialState=e.isUndefined(this.model.get("id"))?s.a.states.INACTIVE:s.a.states.ACTIVE,"label"===t.type?(t.labels||(this.labels=["Like","Unlike"]),this.templateData.styles=""):"circle"===t.type?this.templateData.styles="circle-btn circle-like-btn ss-icon-heart":"oval"===t.type&&this.initialState===s.a.states.INACTIVE?this.templateData.styles="oval-btn oval-like-btn ss-icon-empty-heart":this.templateData.styles="oval-btn oval-like-btn ss-icon-heart",e.isUndefined(t.styles)||(this.templateData.styles+=" "+t.styles);var a=this;this.model.on("change",function(){"oval"===a.type&&(a.model.get("state")===s.a.states.INACTIVE?(a.$el.removeClass("ss-icon-heart"),a.$el.addClass("ss-icon-empty-heart")):(a.$el.removeClass("ss-icon-empty-heart"),a.$el.addClass("ss-icon-heart")))}),s.a.prototype.initialize.apply(this,arguments)},onClick:function(t){if(t.stopPropagation(),!e.isUndefined(this.parentModel)){var i=0,n=0;e.isUndefined(this.parentModel.get("numLikes"))?e.isUndefined(this.parentModel.get("numVotes"))||(i=this.parentModel.get("numVotes")):i=this.parentModel.get("numLikes"),i=a.a.stripCommas(i),n=this.determineNewState()===s.a.states.ACTIVE?i+1:i-1,this.showCounter&&this.$(".counter-wrapper").text(n),this.parentModel.set({numLikes:n,userVote:{value:this.determineNewState()===s.a.states.ACTIVE?1:0}})}s.a.prototype.onClick.apply(this,arguments)}});t.a=l}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(85),a=e.View.extend({currentCount:0,showCounter:!1,countUrl:null,shareOptions:{},modelTrackingParams:null,trackingParams:null,initialize:function(e){var t=this;s.bindAll(this,"setCount"),s.extend(this,s.pick(e,["modelTrackingParams","trackingParams","shareOptions","countUrl","showCounter"])),this.showCounter&&(this.$countWrapper=this.$el.find(".count-wrapper"),this.$count=this.$countWrapper.find(".count")),n.a.loaded.done(function(){t.showCounter&&t.countUrl&&n.a.getShareCount(t.countUrl,t.setCount),t.$el.click(function(){return SS.EventTracker.track("Clicked Share Button",t.modelTrackingParams,s.extend({},t.trackingParams,SS.EventTracker.classDetails({type:"Facebook"}))),n.a.shareObject(t.shareOptions,function(){t.showCounter&&t.setCount(t.currentCount+1)}),t.trigger("element:click"),!1})})},setCount:function(e){var t=parseInt(e,10);s.isNaN(t)||(this.$count.text(t),this.$countWrapper.toggleClass("hidden",t<=0),this.currentCount=t)}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,i){var s=e.View.extend({events:{click:"onClick"},initialize:function(e){i.extend(this,i.pick(e,["modelTrackingParams","trackingParams"]))},onClick:function(){this.trigger("element:click"),SS.EventTracker.track("Clicked Share Button",this.modelTrackingParams,i.extend({},this.trackingParams,SS.EventTracker.classDetails({type:"Twitter"})))}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";var s=i(525).a.extend({urlRoot:"/completions",defaults:{completed:!1}});t.a=s},,function(e,t,i){"use strict";(function(e,s){i(58),i(34);var n=i(8),a=i(533),o=i(534),r=i(566),l=i(546),c=i(522),d=i(572),h=i.n(d),u=i(82),p=n.a.extend({darkVersion:!1,template:h.a,templateData:function(){return e.extend({showCompact:this.showCompact,showEmail:this.showEmail,showLinkBtn:this.showLinkBtn,linkOnly:this.linkOnly,hideShortUrl:this.hideShortUrl},this.model.attributes)},events:{"click .link-input":"onLinkSelect","click .share-link":"onLinkButtonClick","click .share-button":"onButtonClick","click .video-embed-button":"onClickVideoEmbed"},initialize:function(t){e.extend(this,e.pick(t,["trackingParams","modelTrackingParams","darkVersion","shareModel","showCompact","showEmail","showLinkBtn","linkOnly","hideShortUrl"])),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.darkVersion&&this.$(".social-share-buttons").addClass("dark"),this.linkOnly||(this.initializeFacebookButton(),this.initializeTwitterButton(),this.initializePinterestButton()),u.a.initRestrictedAccessHandlers(this.$el),n.a.prototype.afterRender.apply(this,arguments)},getShortUrl:function(e,t){s.ajax({url:"/shortener",type:"GET",async:!1,datatype:"JSON",data:{url:e},success:t})},initializeFacebookButton:function(){this.facebookShareButton=new a.a({el:this.$(".share-button.fb"),shareOptions:this.model.get("facebookShare"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.facebookShareButton,"element:click",this.onButtonClick),this.listenTo(this.facebookShareButton,"element:click",this.onFacebookButtonClick)},initializeTwitterButton:function(){this.twitterShareButton=new o.a({el:this.$(".share-button.twitter"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.twitterShareButton,"element:click",this.onTwitterButtonClick)},initializePinterestButton:function(){this.pinterestShareButton=new r.a({el:this.$(".share-pinterest"),trackingParams:this.trackingParams,modelTrackingParams:this.modelTrackingParams}),this.listenTo(this.pinterestShareButton,"element:click",this.onPinterestButtonClick)},onClickVideoEmbed:function(){var e=this.model.get("id"),t=this.model.get("authToken");new l.a({sessionId:e,authToken:t,linkTitle:this.shareModel.get("embedTitle"),linkUrl:this.shareModel.get("embedUrl"),tagLine:this.shareModel.get("embedTagline"),basicPopup:!0})},onLinkSelect:function(e){s(e.currentTarget).find("input").trigger("select")},onButtonClick:function(){this.trigger("button:click")},onLinkButtonClick:function(){var e=this.$(".link-input"),t=e.find("input"),i=this.$(".share-link");t.val().length||this.getShortUrl(i.attr("longurl"),function(e){t.val(e.shortURL)}),e.removeClass("hidden"),e.animate({width:"100%"},250),this.trigger("link:button:click")},onFacebookButtonClick:function(){this.trigger("facebook:click"),this.trackShare(c.a.METHODS.FACEBOOK)},onTwitterButtonClick:function(){var e=this.twitterShareButton;void 0===e.$el.attr("shorturl")||e.$el.attr("shorturl").length||this.getShortUrl(e.$el.attr("longurl"),function(t){e.$el.attr("shorturl",t.shortURL).attr("href",e.$el.attr("href")+t.shortURL)}),this.trigger("twitter:click"),this.trackShare(c.a.METHODS.TWITTER)},onPinterestButtonClick:function(){this.trigger("pinterest:click"),this.trackShare(c.a.METHODS.PINTEREST)},trackShare:function(t){this.trackingParams&&this.trackingParams.trackShares&&new c.a(e.extend({},this.trackingParams,this.modelTrackingParams,{method:t,type:c.a.TYPES.LINK,via:this.trackingParams.source,object_type:this.modelTrackingParams.name,object_id:this.modelTrackingParams.id})).save()}});t.a=p}).call(this,i(10),i(9))},,function(e,t,i){"use strict";(function(e,s){var n=i(13),a=e.Model.extend({url:function(){return this.get("following")?"/tags/"+this.get("id")+"/follow":"/tags/"+this.get("id")+"/unfollow"},constructor:function(t){this.options=s.extend({},t),this.parentClass=this.options.collection&&this.options.collection.parentClass,e.Model.prototype.constructor.apply(this,arguments)},sync:function(){n.a.ajaxRequest(this.url(),s.extend({},this.attributes,{type:"POST"}))},toggleFollow:function(){this.set({following:!this.get("following")}),this.sync()}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var i=e.Collection.extend({constructor:function(){this.on("add remove rerank",this.remapRanks),e.Collection.apply(this,arguments),this.trigger("rerank")},comparator:function(e){return parseInt(e.get("rank"),10)},moveModelTo:function(e,t){this.remove(e,{silent:!0}),this.add(e,{at:t,silent:!0}),this.trigger("rerank")},remapRanks:function(){this.each(function(e,t){e.set("rank",t)})}});t.a=i}).call(this,i(15))},,function(e,t,i){"use strict";(function(e){var s=i(8),n=i(549),a=i(550),o=i(552),r=i(555),l=i.n(r),c=s.a.extend({events:{"click .retry-btn":"onRetry"},autoRender:!1,template:l.a,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,["trackingParams","referralData"])),s.a.prototype.initialize.apply(this,arguments)},authorize:function(){var e=this;n.a.loaded.done(function(){n.a.authorize().done(function(){e.trigger("user:authorized"),e.render()})})},afterRender:function(){var e=this;this.$contactsList=this.$(".contacts-list"),this.$errorMessage=this.$(".error-message");var t=n.a.loadContacts();t.done(function(t){e.trigger("contacts:loaded"),e.$contactsList.removeClass("loading-overlay");var i=new a.a(t,{referralData:e.referralData});i.length<=0?e.showError("You have no contacts."):new o.a({collection:i,el:e.$contactsList})}),t.fail(function(){e.showError("There was an error fetching your contacts.",!0)}),s.a.prototype.afterRender.apply(this,arguments)},onRetry:function(){this.$el.removeClass("error retry"),this.authorize()},showError:function(e,t){this.$contactsList.empty(),this.$errorMessage.html(e),this.$el.addClass("error"),t&&this.$el.addClass("retry")}});t.a=c}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(13),a=e.View.extend({events:{"click .invite-via-email":"emailReferrals",submit:"pressEnterInEmailForm"},initialize:function(e){s.bindAll(this,"onSuccess","onError"),this.trackingParams=s.isUndefined(e.trackingParams)?{}:e.trackingParams,this.$submit=this.$(".invite-via-email"),this.$input=this.$(".emails")},pressEnterInEmailForm:function(e){e.preventDefault(),this.emailReferrals()},emailReferrals:function(){var t=this.$submit,i=this.$input;if(!t.hasClass("disabled")){var a=this.$el,o=a.serializeArray();t.add(i).addClass("disabled"),i.removeClass("error"),n.a.ajaxRequest(a.attr("action"),{type:"POST",data:o,dataType:"json",success:this.onSuccess,error:this.onError});var r=s.extend({},this.trackingParams,SS.EventTracker.classDetails({type:"Email"}));SS.EventTracker.track("Clicked Share Button",{},r),e.trigger("shared")}},onError:function(){var e=this.$input;e.addClass("error"),e.add(this.$submit).removeClass("disabled"),SS.events.trigger("alerts:create",{type:"error",title:"Oops, something went wrong"})},onSuccess:function(e){if(!e.success)return this.onError();this.$input.val("").add(this.$submit).removeClass("disabled"),SS.events.trigger("alerts:create",{type:"success",title:"Sent!"})}});t.a=a}).call(this,i(15),i(10))},,,function(e,t,i){"use strict";var s=i(21),n=i(567),a=i(571),o=i.n(a),r=s.a.extend({initialize:function(e){s.a.prototype.initialize.apply(this,arguments),this.options=e||{}},template:o.a,afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),new n.a({el:this.$(".video-embed-wrapper"),templateOptions:this.options}),this.centerPopup()}});t.a=r},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({url:function(){if(this.isNew()){var e=SS.serverBootstrap.newDiscussionSectionId,t="/discussions/create";return e?"".concat(t,"?sectionId=").concat(e):t}return"/discussions/"+this.get("id")},defaults:{notify_all_students:!1},parse:function(e){return e.discussion?e.discussion:e}});t.a=i}).call(this,i(15))},function(e,t,i){e.exports=i(47)(5)},function(e,t,i){"use strict";(function(e){var s=i(65),n=i(13),a={init:function(e){this.gapi=e,a.loaded.resolve(this)},authorize:function(){var t=this,i=e.Deferred();return this.gapi.auth.authorize({client_id:"281295984696-b1i9mp3r2qnpgd80rplqig1so711j1an.apps.googleusercontent.com",scope:"https://www.google.com/m8/feeds",immediate:!1},function(e){e&&!e.error?(t.authResult=e,i.resolve(e)):i.reject()}),i},makeRequest:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=e.Deferred();return i.access_token=this.authResult.access_token,n.a.ajaxRequest(t,{data:i,type:s,success:function(e){e.error?a.reject(e.error):a.resolve(e)}}),a},loadContacts:function(e){return this.makeRequest("/contacts",e,"POST")}};a.loaded=new e.Deferred,window.onGoogleLoad=function(){a.init(window.gapi)};try{s.a.google(function(){},function(){a.loaded.reject()})}catch(e){}t.a=a}).call(this,i(9))},function(e,t,i){"use strict";(function(e,s){var n=i(551),a=e.Collection.extend({initialize:function(e,t){s.extend(this,s.pick(t,["referralData"]))},model:n.a});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({});t.a=i}).call(this,i(15))},function(e,t,i){"use strict";var s=i(81),n=i(553),a=s.a.extend({itemView:n.a,animateOnRemove:!0});t.a=a},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(13),a=i(554),o=i.n(a),r=i(511),l=s.a.extend({tagName:"li",className:"contact-row",template:o.a,templateData:function(){return this.model.attributes},events:{"click .invite-btn":"sendInvite"},initialize:function(){s.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"remove")},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$inviteStatus=this.$(".invite-status"),this.$inviteBtn=this.$(".invite-btn")},sendInvite:function(){var t=this;this.showLoader();var i=this.model.collection.referralData,s=i?i.endpoint:"/listings/emailReferrals",a=Object(r.a)(),o=e.extend({},i,{emails:this.model.get("email"),utm_campaign:a.utm_campaign,utm_source:a.utm_source,utm_medium:a.utm_medium});n.a.ajaxRequest(s,{type:"POST",data:o,success:function(e){e.success?(t.showCheck(),setTimeout(t.remove,1e3)):t.showButton()}})},showButton:function(){this.clearStatus(),this.$inviteStatus.addClass("initial")},showLoader:function(){this.clearStatus(),this.$inviteStatus.addClass("loading icon-loading")},showCheck:function(){this.clearStatus(),this.$inviteStatus.addClass("checked ss-icon-check")},clearStatus:function(){this.$inviteStatus.removeClass("initial checked loading ss-icon-check icon-loading")},remove:function(){this.model.collection.remove(this.model)}});t.a=l}).call(this,i(10))},function(e,t){e.exports='<div class="contact-wrapper clear {{^name}}no-name{{/name}} {{^isMember}}{{^name}}vertical-center{{/name}}{{/isMember}}">\n    {{^isMember}}\n        <div class="right">\n            <div class="invite-status initial">\n                <a href="javascript:;" class="invite-btn btn small bordered">Send</a>\n            </div>\n        </div>\n    {{/isMember}}\n    <div class="contact-info">\n        {{#isMember}}\n            {{#name}}<p class="ellipsis"><strong>{{name}}</strong></p>{{/name}}\n            {{^name}}<p class="contact-email ellipsis"><strong>{{email}}</strong></p>{{/name}}\n            <p class="contact-note">Already a Skillshare Member.</p>\n        {{/isMember}}\n        {{^isMember}}\n            {{#name}}<p class="ellipsis"><strong>{{name}}</strong></p>{{/name}}\n            <p class="contact-email ellipsis">{{email}}</p>\n        {{/isMember}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="placeholder-area error-wrapper">\n    <div class="error-message"></div>\n    <a href="javascript:;" class="secondary retry-btn">Retry</a>\n</div>\n<ul class="scrollable-list contacts-list loading-overlay"></ul>\n'},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({urlRoot:"/projects",initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.isUndefined(t.classModel)||(this.classModel=t.classModel)},parse:function(e){return this.content=e.content,delete e.content,e},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.data=i.extend({},t.data,{id:this.id||null,sku:this.classModel.get("sku"),classId:this.classModel.id}),e.Model.prototype.fetch.apply(this,arguments)},fetchCreatePage:function(e){var t=i.extend({},e,{url:"/projects/create"});return this.fetch(t)},fetchUpdatePage:function(e){var t=i.extend({},e,{url:"/projects/update"});return this.fetch(t)},fetchViewPage:function(e){var t=i.extend({},e,{url:"/projects/view"});return this.fetch(t)}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){(function(e){var s=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(n.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new a(n.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(530),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(37))},function(e,t,i){"use strict";(function(e,s){var n=i(117),a=e.Model.extend({urlRoot:"/discussions",initialize:function(){},parse:function(e){return e.discussion?(this.content=e.content,delete e.content,e.discussion.commentSort=e.commentSort,e.discussion.lastFetchTime=(new Date).getTime(),e.discussion):e},sync:function(t,i,n){return n.data=n.data||{},s.extend(n.data,{commentSort:this.get("commentSort"),type:this.get("sectionType")}),e.sync.apply(this,arguments)},numVotesAsInt:function(){return n.a.stripCommas(this.get("numVotes"))},formatVotesWithCommas:function(){return n.a.formatWithCommas(this.get("numVotes"))},numVotesWithString:function(){var e=1===this.numVotesAsInt()?"Like":"Likes";return this.formatVotesWithCommas()+" "+e}},{DISCUSSABLE_TYPES:{LIVE_SESSION:"LiveSession",USER:"Users",AMA:"AMA",PARENT_CLASS:"ParentClasses"}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(609),a=e.Collection.extend({model:n.a,comparator:function(e){return parseInt(e.get("rank"),10)},initialize:function(e,t){this.session=t.session},updateAttachmentWithResponse:function(e){var t=s.first(this.where(s.pick(e,"title")));return t&&t.set(e),this},deleteWhere:function(e){var t=this.where(e);return t&&(this.remove(t),s.each(t,function(e){e.trigger("destroy")})),this}});t.a=a}).call(this,i(15),i(10))},,function(e,t){e.exports='<div class="flex-grid-item ss-card ss-class ss-project row">\n    {{#hasNoDefaultImage}}\n        <div class="ss-card__thumbnail js-class-preview ss-card__no-image">\n            <div class="project-modal-container"></div>\n            <span class="ss-card__thumbnail-img-holder project-title">{{shortenedTitle}}</span>\n        </div>\n    {{/hasNoDefaultImage}}\n    {{^hasNoDefaultImage}}\n        <div class="ss-card__thumbnail js-class-preview">\n            <div class="project-modal-container"></div>\n            <img class="ss-card__thumbnail-img-holder"\n            srcset="{{cover_246}} 246w,\n            {{cover_450}} 450w,\n            {{cover_800}} 800w"\n            sizes="(max-width: 541px) 100vw, 541px"\n            src="{{cover_800}}" />\n        </div>\n    {{/hasNoDefaultImage}}\n    <div class="ss-card__content">\n        {{> partials/_user-information-small}}\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var s=i(41),n=i(523),a=i(117),o=i(586),r=i.n(o),l=s.a.extend({template:r.a,tooltips:["Like this","Unlike this"],initialize:function(t){var i=t||{};if(e.extend(this,e.pick(i,["model","parentModel","remountProjectModal"])),this.templateData={},this.labels=['<svg class="ss-svg-icon empty-heart"><use xlink:href="#heart--empty" /></svg>','<svg class="ss-svg-icon heart-icon-filled"><use xlink:href="#heart--filled" /></svg>'],i.modelData){var a={voteable_id:i.modelData.voteable_id,voteable_type:i.modelData.voteable_type};0!==i.modelData.voteId&&e.extend(a,{id:i.modelData.voteId}),this.model=new n.a(a)}i.initialState?this.initialState=i.initialState:this.initialState=this.model.get("id")?s.a.states.ACTIVE:s.a.states.INACTIVE,i.styles&&(this.templateData.styles=i.styles),s.a.prototype.initialize.apply(this,arguments)},onClick:function(e){if(e&&e.stopPropagation(),this.parentModel){var t=0,i=0;this.parentModel.get("numLikes")&&(t=this.parentModel.get("numLikes")),t=a.a.stripCommas(t),this.determineNewState()===s.a.states.ACTIVE?(i=t+1,this.$(".empty-heart").hide(),this.$(".filled-heart").show()):(i=t-1,this.$(".empty-heart").show(),this.$(".filled-heart").hide()),this.parentModel.set({hasVoted:this.determineNewState(),numLikes:i,userVote:{value:this.determineNewState()===s.a.states.ACTIVE?1:0}}),e&&this.remountProjectModal&&this.remountProjectModal()}s.a.prototype.onClick.apply(this,arguments)}});t.a=l}).call(this,i(10))},,,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/userDialogViews"});t.a=i}).call(this,i(15))},function(e,t,i){"use strict";(function(e,i){var s=e.View.extend({events:{click:"onClick"},initialize:function(e){i.extend(this,i.pick(e,["modelTrackingParams","trackingParams"]))},onClick:function(){this.trigger("element:click"),SS.EventTracker.track("Clicked Share Button",this.modelTrackingParams,i.extend({},this.trackingParams,SS.EventTracker.classDetails("Pinterest")))}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(82),a=i(8),o=i(44),r=i(568),l=i(569),c=i.n(l),d=i(570),h=i.n(d),u=i(45),p=i.n(u),v=a.a.extend({events:{"change .video-size-selector":"onDropdownChange","keyup .custom-height":"onHeightInput","keyup .custom-width":"onWidthInput"},template:c.a,templateData:function(){return e.extend({sizes:this.sizes,width:this.model.get("width"),height:this.model.get("height"),hostName:"https://"+window.location.hostname},this.options.templateOptions)},templatePartials:function(){return{"_video-embed":this.getEmbedCode()}},sizes:[{value:"small",width:480,height:270},{value:"medium",width:640,height:360},{value:"large",width:800,height:450}],maxWidth:1920,maxHeight:1080,minWidth:0,minHeight:0,initialize:function(e){this.options=e,this.model=new r.a,this.model.on("change",this.onChange,this),this.render(),this.customDimensionsEl=this.$(".custom-dimensions"),this.textareaEl=this.$("textarea"),this.previewImageEl=this.$(".preview-image"),this.customWidthEl=this.$(".custom-width"),this.customHeightEl=this.$(".custom-height")},render:function(){a.a.prototype.render.apply(this,arguments),n.a.addShortUrlFocusEvents(),o.a.initInputsAndSelectMenus(this.$el),o.a.initPlaceholders(this.$el)},getEmbedCode:function(){return p.a.render(h.a,this.templateData())},onDropdownChange:function(e){var t=s(e.currentTarget),i=t.find(":selected");if("custom"===t.val())this.customDimensionsEl.css("display","inline-block");else{this.customDimensionsEl.css("display","");var n=i.data("ss-width"),a=i.data("ss-height");this.model.set({width:n,height:a})}},onHeightInput:function(t){var i=s(t.currentTarget),n=parseInt(i.val(),10);if(!e.isNaN(n))if(n>this.maxHeight)this.setMaximum();else if(n<this.minHeight)this.setMinimum();else{var a=Math.round(16/9*n);this.model.set({width:a,height:n})}},onWidthInput:function(t){var i=s(t.currentTarget),n=parseInt(i.val(),10);if(!e.isNaN(n))if(n>this.maxWidth)this.setMaximum();else if(n<this.minWidth)this.setMinimum();else{var a=Math.round(n/16*9);this.model.set({width:n,height:a})}},setMaximum:function(){this.model.set({width:this.maxWidth,height:this.maxHeight})},setMinimum:function(){this.model.set({width:this.minWidth,height:this.minHeight})},onChange:function(){this.customWidthEl.removeClass("placeholder"),this.customHeightEl.removeClass("placeholder"),this.customWidthEl.val(this.model.get("width")),this.customHeightEl.val(this.model.get("height"));var e=this.getEmbedCode();this.textareaEl.text(e)}});t.a=v}).call(this,i(10),i(9))},function(e,t,i){"use strict";var s=i(525).a.extend({defaults:{width:480,height:270}});t.a=s},function(e,t){e.exports='<h4 class="popup-title">Embed Video</h4>\n{{#sessionId}}\n    <div class="section">\n        <div class="title"><strong>Paste this in your HTML</strong></div>\n        <div class="textarea-wrapper">\n            <textarea class="select-on-click">{{> _video-embed }}</textarea>\n        </div>\n\n        <div class="video-size">\n            <div class="column">\n                <strong>Video Size:</strong>\n            </div>\n            <select class="video-size-selector">\n                {{#sizes}}\n                <option value="{{value}}" data-ss-width="{{width}}" data-ss-height="{{height}}">{{width}} x {{height}}</option>\n                {{/sizes}}\n\n                <option value="custom">Custom</option>\n            </select>\n\n            <div class="custom-dimensions column">\n                <input class="placeholder custom-width" name="custom-width" type="text" data-ss-placeholder-copy="Width" maxlength="4" /><span class="x">x</span><input class="placeholder custom-height" name="custom-height" type="text" data-ss-placeholder-copy="Height" maxlength="4"/> \n            </div>\n        </div>\n    </div>\n{{/sessionId}}\n{{^sessionId}}\n    <div class="section">\n        <div class="title"><strong>Sorry, this video cannot be embedded at this time.</strong></div>\n    </div>\n{{/sessionId}}\n'},function(e,t){e.exports='<iframe src="{{{hostName}}}/embed/video?sessionId={{sessionId}}&width={{width}}&height={{height}}{{#authToken}}&authToken={{authToken}}{{/authToken}}" width="{{width}}" height="{{height}}" frameborder="0" allowfullscreen></iframe>\n<div style="margin: 15px 0 5px; width: {{width}};"><a href="{{linkUrl}}" style="color: #41444b; text-decoration: none; font-weight: 600; font-family: \'Arial\', sans-serif; font-size: 14px; margin-top: 15px;" >{{linkTitle}}</a></div>\n{{#tagLine}}<div style="width: {{width}}; color: #999999; font-family: \'Arial\', san-serif; font-size: 12px; padding-bottom: 15px; border-bottom: solid 1px #ddd; margin-bottom: 20px;">{{tagLine}}</div>{{/tagLine}}\n'},function(e,t){e.exports='<div class="video-embed-popup-wrapper">\n    <a href="javascript:;" class="btn-close ss-icon-close"></a>\n    <div class="video-embed-wrapper"></div>\n</div>\n'},function(e,t){e.exports='<div class="social-share-buttons">\n    {{#showLinkBtn}}\n        <div class="link-input btn small hidden">\n            <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n        </div>\n        <div class="share-link btn large-icon ss-icon-link share-button" longurl="{{directUrl}}"></div>\n    {{/showLinkBtn}}\n        <div class="share-facebook btn fb large-icon ss-icon-facebook share-button"></div>\n    <a class="share-twitter btn twitter large-icon ss-icon-twitter share-button"\n        href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}" longurl="{{twitterUrl}}" shorturl=""></a>\n    {{#pinterestShare}}\n        <a class="share-pinterest btn red large-icon ss-icon-pinterest share-button"\n            href="http://pinterest.com/pin/create/button/?url={{url}}&media={{media}}&description={{description}}" target="_blank"></a>\n    {{/pinterestShare}}\n    \x3c!-- for now you have to add email-share-popup separately from social-share-buttons.js --\x3e\n    {{#showEmail}}\n        <div class="btn email large-icon ss-icon-envelope share-button" data-ss-restrict="login"></div>\n    {{/showEmail}}\n    {{^hideShortUrl}}\n        {{#shortUrl}}\n            <a href="javascript:;" class="btn small link-btn share-button ss-icon-link">\n                <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n            </a>\n        {{/shortUrl}}\n    {{/hideShortUrl}}\n    {{#showEmbedButton}}\n        <a href="javascript:;" class="btn small transparent video-embed-button">Embed</a>\n    {{/showEmbedButton}}\n</div>\n'},function(e,t,i){"use strict";(function(e,s){i(282);var n=i(8),a=i(628),o=i(629),r=i(532),l=i(686),c=i(590),d=i(512),h=i(591),u=i(82),p=i(509),v=i(528),m=i(687),f=i.n(m),g=i(688),y=i.n(g),w=(i(548),n.a.extend({className:"inline-discussion",templateData:function(){var t=this.model.get("comments");return e.extend({},this.model.attributes,{isPremiumMember:SS.currentUser.isPremiumMember(),isAdmin:SS.currentUser.isAdmin(),timeAgo:this.getTimeAgo(),currentUser:SS.currentUser.attributes,userIsGuest:SS.currentUser.isGuest(),numReplies:t.length,truncateReplies:this.shouldTruncateReplies(t,this.model.get("expanded")),discussableCreator:function(){return this.discussableCreatorId&&this.discussableCreatorId===this.author.uid}})},templatePartials:{"discussions/default":f.a},events:{"click .js-discussion-reply":"onClickReply","click .js-discussion-edit":"onClickEdit","click .js-discussion-delete":"onClickDelete","click .js-discussion-pin":"onClickPin","click .js-show-all":"onClickShowAll","click .js-group-preview-join-btn":"onClickJoinGroup","click .navigation.back":"onClickBack"},initialize:function(t){var i=this;this.template=this.model.get("discussionsUrl")?y.a:f.a;var s=this.model.get("comments");e.extend(this,e.pick(t,["collectionView"])),this.model.set("expanded",!1),this.model.set("additionalReplyCount",s.length-2),this.model.set("hiddenCreatorReplyCount",this.countHiddenCreatorReplies(s)),this.on("addedToParent",function(){u.a.initRestrictedAccessHandlers(i)}),s.length>2&&(s=e.last(s,2)),this.replies=new a.a(s,{activityModel:this.model,parse:!0}),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$discussionStatFollowers=this.$(".js-discussion-stat-followers"),this.$discussionStatLikes=this.$(".js-discussion-stat-likes"),this.$discussionStatReplies=this.$(".js-discussion-stat-replies"),this.initializeLikeButton(),this.initializeFollowButton(),this.initializePinButton(),this.repliesView=new o.a({el:this.$(".js-replies"),activityModel:this.model,collection:this.replies}),this.listenTo(this.replies,"add remove",this.onRepliesUpdate),p.a.initUserPopovers(this),u.a.initAllImages(this.$el),new c.a({el:this.$(".js-discussion-body"),model:new s.Model({text:this.model.get("description")})}),this.$(".js-comment").autosize(),n.a.prototype.afterRender.apply(this,arguments)},initializeLikeButton:function(){var t={voteable_id:this.model.get("id"),voteable_type:"Discussion"},i=this.model.get("userVote");i&&1===parseInt(i.value,10)&&e.extend(t,{voteId:this.model.get("userVote").id}),new r.a({container:this.$(".js-discussion-like"),parentModel:this.model,modelData:t,type:"label",styles:"secondary"}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},initializeFollowButton:function(){var e=new s.Model({discussion:this.model.get("id"),id:this.model.get("userFollow")});new l.a({el:this.$(".js-discussion-follow"),model:e,parentModel:this.model}),this.listenTo(this.model,"change:numFollowers",this.onFollowerUpdate)},initializePinButton:function(){if(this.$(".js-discussion-pin").length){var e=this.model.get("isPinned");this.$(".js-discussion-pin").text(e?"Unpin":"Pin to Top")}},getTimeAgo:function(){if(this.model.get("isGroup")){var t=this.model.get("createTimeTimestamp");return"Posted ".concat(v.a.getTimeAgo(t))}var i=this.model.get("comments"),s=this.model.get("updateTimeTimestamp");return i&&i.length&&(s=e.last(i).timestamp),"Last active ".concat(v.a.getTimeAgo(s))},onFollowerUpdate:function(e,t){t<1?this.$discussionStatFollowers.hide():this.$discussionStatFollowers.html(t).show()},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$discussionStatLikes.addClass("liked"):this.$discussionStatLikes.removeClass("liked"),t<1?this.$discussionStatLikes.hide():this.$discussionStatLikes.html(t).show()},onRepliesUpdate:function(){var e=this.model.get("comments");if(this.replies.length<1)this.$discussionStatReplies.hide();else{var t=this.replies.length;this.shouldTruncateReplies(e,this.model.get("expanded"))&&(t=e.length-2+t),this.$discussionStatReplies.html(t).show()}},onClickReply:function(){this.$(".reply-form textarea").focus()},onClickEdit:function(e){e.preventDefault(),new h.a({endpoint:"/discussions/renderForm",endpointData:{discussionId:this.model.get("id"),showRichDescription:"true"}})},onClickDelete:function(e){var t=this;e.preventDefault();var i=new d.a({title:"Delete Discussion",content:"<p>Are you sure you'd like to delete this discussion?</p>",submitBtnVal:"Delete"});i.openPopup(),this.listenTo(i,"onConfirmationDidConfirmEvent",function(){t.model.destroy(),SS.serverBootstrap.pageData&&SS.serverBootstrap.pageData.baseUrl&&(window.location=SS.serverBootstrap.pageData.baseUrl)})},onClickPin:function(e){e.preventDefault(),s.trigger("change:discussions:pinDiscussion",this.model)},onClickShowAll:function(){this.replies=new a.a(this.model.get("comments"),{activityModel:this.model,parse:!0}),this.model.set("expanded",!0),this.render()},shouldTruncateReplies:function(e,t){return e.length>2&&!t},onClickJoinGroup:function(){s.trigger("change:groups:joinGroupFromDiscussionItem")},onClickBack:function(e){e.preventDefault();var t=this.model.get("discussionsUrl");s.history.navigate(t,!0)},countHiddenCreatorReplies:function(t){if(t.length<=2)return 0;var i=t.slice(0,t.length-2);return e.filter(i,function(e){return e.greatestAncestor&&e.greatestAncestor.user_uid===e.user.id}).length}}));t.a=w}).call(this,i(10),i(15))},function(e,t,i){"use strict";i(183);t.a={formatPossessive:function(e){return"s"===e.slice(-1)?e+"'":e+"'s"},addHTMLLineBreaks:function(e){return e.replace(/(\r\n?|\n)/g,"<br />")},toTitleCase:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}}},function(e,t){e.exports='<a href="javascript:;" class="{{styles}}">{{#showCounter}}<span class="counter-wrapper left">{{numLikes}}</span>{{/showCounter}}</a>\n'},function(e,t,i){"use strict";(function(e,s){i(514),i(184),i(122),i(123);var n=i(535),a=i(519),o=i(559),r=a.a.extend({sessionEvent:null,constructor:function(){this.attachments=new o.a([],{session:this}),this.completion=new n.a,e.Model.prototype.constructor.apply(this,arguments)},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parentClass=t.parentClass||t.collection.parentClass,this.set("cid",this.cid),this.id||this.set("isNew",!0),this.sessionEvent=this.getSessionEvent(),this.sessionEvent.on("invalid",function(e,t){this.trigger("invalid",e,t)},this),this.on("destroy",function(){this.sessionEvent.trigger("destroy",this.sessionEvent)}),a.a.prototype.initialize.apply(this,arguments)},getSessionEvent:function(){var e,t=this.parentClass.currentClass.sessionEvents;return(e=this.id?t.where({session_id:this.id})[0]:t.where({session_cid:this.cid})[0])||(e=t.add({session_cid:this.cid},{currentClass:this.parentClass.currentClass})),e},parse:function(e){var t=s.clone(e);return t.rank=parseInt(t.rank,10),this.completion.set({target_type:"Session",target_id:t.id,parent_id:t.parent_id}),s.isUndefined(t.sessionCompletion)||(this.completion.set(t.sessionCompletion,{parse:!0}),this.completion.set({completed:!0})),t.index=(parseInt(t.rank,10)+1).toString(),t.attachments=this.convertCids(t.attachments),this.attachments.set(t.attachments,{parse:!0}),delete t.attachments,t},convertCids:function(e){return s.map(e,function(e){var t=this.attachments.get(e.id||e.cid);return t&&t.set(t.parse(e)),t||e},this)},filterCompletions:function(e){var t=this;s.each(e,function(e){t.get("id")===e.target_id&&"Session"===e.target_type&&t.updateCompletion(e)})},updateCompletion:function(e){this.completion.set(e),s.isUndefined(e.id)||this.completion.set("completed",!0)},toJSON:function(){var e=s.clone(this.attributes);return e.attachments=this.attachments.toJSON(),e},recursiveMap:function(e){var t=[];return t.push(e.call(this,this)),t.push(s.map(this.attachments.models,function(t){t.recursiveMap(e)})),t}});t.a=r}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(13),a=s.a.extend({el:".admin-area",actionOnClick:function(e,t,i,s,n,a){if(e&&!window.confirm(e))return void(n&&n());this.callApi(t,i,s,a)},callApi:function(e,t,i,s){var a=this;n.a.ajaxRequest(e,{data:t,type:"POST",success:function(e){return a.onResponse(e,i,s)},error:function(e){return a.onError(i,e)}})},onResponse:function(t,i,s){var n=t;e.isObject(t)||(n=JSON.parse(t)),n.success?n.redirectTo?window.location=n.redirectTo:s?s():window.location.reload():this.onError(i)},onError:function(e){alert(e)}});t.a=a}).call(this,i(10))},,,,function(e,t,i){"use strict";(function(e,s){i(119);var n=i(8),a=i(565),o=i(529),r=n.a.extend({dialogId:null,parentClassId:null,events:{"click .close-button":"onClose","click .dismiss-banner":"onClose"},initialize:function(t){if(e.extend(this,e.pick(t,["dialogId","cookieName","parentClassId"])),!this.dialogId)throw new Error("A dialogId is required.");n.a.prototype.initialize.apply(this,arguments)},close:function(){var e=this;this.$el.slideUp(500,function(){e.$el.remove()})},onClose:function(){SS.currentUser.isGuest()||(new a.a({dialog_id:this.dialogId,user_uid:SS.currentUser.id,parent_class_id:this.parentClassId}).save(),o.a.addViewedDialogId(this.dialogId));var e=this.parentClassId,t=this.cookieName,i=1;e&&((i=(i=s.cookie(t))?i.split("-"):[]).push(e),i=i.join("-")),t&&s.cookie(t,i,{path:"/",expires:365}),this.close()}});t.a=r}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,s){i(183);var n=e.Model.extend({urlRoot:"/comments",sanitize:function(e){return e.replace(/((?!<((\/)?a|br))<[^>]*>)/gi,"")},toJSON:function(){var e=s.clone(this.attributes),t=this.get("comment")||"";return e.comment=this.sanitize(t),e}});t.a=n}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){i(40),i(183);var n=i(8),a=i(512),o=i(528),r=i(574),l=i(44),c=i(509),d=i(619),h=i(590),u=i(532),p=i(633),v=i.n(p),m=i(621),f=i.n(m);i(548);var g=n.a.extend({tagName:"li",className:"reply-item clear",template:v.a,templateData:function(){var t=this.model.get("user"),i=SS.currentUser.get("id")===t.id||1===SS.currentUser.get("isAdmin"),s=i||this.model.collection.activityModel.get("isCurrentUserGroupAdmin");return e.extend({},this.model.attributes,{timeago:o.a.getTimeAgo(this.model.get("timestamp")),shouldShowLike:!SS.currentUser.isGuest(),shouldShowEdit:i,shouldShowDelete:s,comment:this.toHTML(this.model.get("comment"))})},initialize:function(){if(this.model.get("greatestAncestor")&&this.model.get("greatestAncestor").user_uid===this.model.get("user").id){var e=this.model.get("user");e.isCreator=!0,this.model.set("user",e)}n.a.prototype.initialize.apply(this,arguments)},toHTML:function(e){return r.a.addHTMLLineBreaks(e)},templatePartials:{userSnippet:f.a},events:{"click .js-action-delete":"onClickDelete","click .js-action-edit":"onClickEdit"},render:function(){n.a.prototype.render.apply(this,arguments),c.a.initPopovers(this)},afterRender:function(){this.$replyStatLikes=this.$(".reply-stat-likes"),new h.a({el:this.$(".body-content"),model:new s.Model({text:this.model.get("comment")})}),this.initializeLikeButton(),n.a.prototype.afterRender.apply(this,arguments)},initializeLikeButton:function(){var t={voteable_id:this.model.get("id"),voteable_type:"Comment"},i=this.model.get("userVote");i&&1===i.value&&e.extend(t,{voteId:i.id}),new u.a({container:this.$(".js-action-like"),parentModel:this.model,modelData:t,type:"label",styles:"secondary"}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$replyStatLikes.addClass("liked"):this.$replyStatLikes.removeClass("liked"),t<1?this.$replyStatLikes.hide():this.$replyStatLikes.html(t).show()},onClickEdit:function(e){e.preventDefault();var t=this.model.get("comment");this.model.set("comment",t.replace(/<br\s*\/?>/gm,"\n").replace(/<[^>]+>/g,""));var i=new d.a({el:this.$(".meta:first"),parentModel:this.model,parentView:this,editable:{comment:{selector:".body-content:first",type:"textarea",class:"single-line"}}});this.$("textarea.single-line").autosize(),i.on("done",function(){var e=this;""===this.model.get("comment")?(l.a.showFieldMessage(this.$("textarea.single-line")),i.stickit()):this.model.save(null,{wait:!0,success:function(){e.render()}})},this),i.on("cancel",function(){this.model.set("comment",t),this.render()},this)},onClickDelete:function(e){var t=this;e.preventDefault();var i=new a.a({title:"Delete Post",content:"<p>Are you sure you'd like to delete this post?</p>",submitBtnVal:"Delete"});i.openPopup(),i.bind("onConfirmationDidConfirmEvent",function(){t.model.destroy()})}});t.a=g}).call(this,i(10),i(15))},,function(e,t,i){"use strict";(function(e){var s=i(616),n=e.Collection.extend({model:s.a,initialize:function(){this.on("add",this.setupModelListener,this),this.on("remove",this.removeModelListener,this)},setupModelListener:function(e){this.listenTo(e,"change:active",this.changeActive),this.active?e.deactivate():e.get("active")&&(this.active=e)},removeModelListener:function(e){this.stopListening(e)},changeActive:function(e,t){t&&(this.active&&this.active!=e&&this.active.deactivate(),this.active=e,this.trigger("activate",e,this))},activate:function(e){var t=this.detect(function(t){return t.get("label")==e});t&&t.activate()}});t.a=n}).call(this,i(15))},function(e,t){e.exports='<a href="javascript:;"></a>\n'},,,,function(e,t,i){"use strict";(function(e,s){var n=i(8),a=i(632),o=i.n(a),r=(i(620),n.a.extend({truncateLength:350,template:o.a,templateData:function(){if(!e.has(this.model.attributes,"truncatedText")){var t=this.model.get("text"),i=null;t.length>this.truncateLength&&(i=s.truncate(t,{length:this.truncateLength,ellipsis:'... <a href="javascript:;" class="text-more">Read More</a>'})),this.model.set("truncatedText",i)}return this.model.attributes},events:{"click .text-more":"onClickTextMore"},onClickTextMore:function(){this.$(".more-text-container").html(this.model.get("text"))}}));t.a=r}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,s,n){var a=i(21),o=i(44),r=a.a.extend({centerVertically:!1,className:"form-popup-view",preventClose:!0,templateData:function(){return this.options},templateFunc:function(){},events:function(){return e.extend(a.a.prototype.events.call(this),{"click .submit-btn":"submit","click #notify_all_students":"toggleEmailSubjectField"})},initialize:function(t){e.bindAll(this,"onSuccess","onFormRendered"),this.postUrl=t.postUrl||null,a.a.prototype.initialize.apply(this,arguments)},afterRender:function(){a.a.prototype.afterRender.apply(this,arguments),s(o.a).off("form:render").on("form:render",this.onFormRendered),o.a.renderForm(this.$("form")),this.model=new n.Model,this.model.url=this.$("form").attr("action")||this.postUrl,this.model.sync=function(e,t,i){return i.beforeSend=function(e){e.setRequestHeader("X-CSRFToken",s.cookie("YII_CSRF_TOKEN"))},n.sync.apply(this,arguments)},this.$notifyAll=this.$("#notify_all_students"),this.$emailSubjectField=this.$(".email-subject-field")},onFormRendered:function(){this.centerPopup()},submit:function(e){e.preventDefault();var t=s(e.currentTarget);if(!t.hasClass("disabled")){o.a.clearFormErrors(this.$("form")),o.a.clean(this.$("form"));var i=o.a.formDataToJSON(this.$("form"));this.model.save(i,{success:this.onSuccess}),t.addClass("disabled").attr("disabled","disabled")}},onSuccess:function(t,i){if(i.success&&i.redirectUrl)window.location=i.redirectUrl;else{var s=this;void 0!==i.formErrors&&e.each(i.formErrors,function(e,t){var i=e[0],n=s.$("#"+t);o.a.showFieldMessage(n,i,{})}),void 0!==i.errors&&e.each(i.errors,function(e,t){var i=e[0],n=s.$("[name="+t+"]");o.a.showFieldMessage(n,i,{})}),o.a.restorePlaceholders(this.$("form")),this.$(".submit-btn").removeClass("disabled").removeAttr("disabled")}},toggleEmailSubjectField:function(){var e=this.$notifyAll.prop("checked");this.$emailSubjectField.toggle(e)}});t.a=r}).call(this,i(10),i(9),i(15))},function(e,t,i){"use strict";(function(e,s,n){i(184),i(186),i(183),i(514);var a=i(606),o=i(524),r=i(610),l=i(519),c=i(559),d=l.a.extend({urlRoot:"/listings",lastServerState:null,units:null,currentClass:null,dontOverWriteModels:0,constructor:function(t){this.units=new a.a(null,{parentClass:this}),this.attachments=new c.a([],{parentClass:this}),t.parentClass?this.tags=new o.a(t.parentClass.tags):this.tags=new o.a(t.tags),this.currentClass=new r.a(null,{parentClass:this}),e.Model.prototype.constructor.apply(this,arguments)},initialize:function(){var e=this;s.defer(function(){e.lastServerState=e.toJSON()}),this.on("sync",function(){this.lastServerState=this.toJSON()}),this.on("request",function(e,t,i){this.units.each(function(e){e.trigger("request",e,t,i)})}),l.a.prototype.initialize.apply(this,arguments)},onErrorChange:function(e,t,i){t.syllabus||t.units?(this.units.trigger("invalid",e,{syllabus:t.syllabus},i),delete t.syllabus):this.units.trigger("valid",e,{syllabus:t.syllabus},i),this.trigger("invalid",e,t,i),l.a.prototype.onErrorChange.apply(this,arguments)},treeHasChanged:function(){return!s.isEqual(this.toJSON(),this.lastServerState)},revertToLastSyncState:function(){this.set(this.parse(this.lastServerState))},isOnline:function(){return"1"===this.get("is_hybrid")||1===this.get("is_hybrid")},isLocal:function(){return!this.isOnline()},isPublished:function(){return"1"===this.get("status_id")||1===this.get("status_id")},isDraft:function(){return"2"===this.get("status_id")||2===this.get("status_id")},isPendingReview:function(){return"3"===this.get("status_id")||3===this.get("status_id")},isMembershipClass:function(){return"1"===this.get("enrollment_type")||"2"===this.get("enrollment_type")},getPreviewUrl:function(){var e=this.get("title")||"untitled-class";return e=e.trim().replace(/ /g,"-").replace(/[^\w-]+/g,""),this.get("sku")?"/"+e+"/"+this.get("sku")+"/"+this.currentClass.get("id"):"#"},parse:function(e){if(this.dontOverWriteModels>0)return this.dontOverWriteModels--,this.setSessionIds(e.parentClass),void this.set("errors",e.parentClass.errors);var t=s.clone(e);s.isUndefined(t.currentClass)||(this.currentClass.set(this.currentClass.parse(t.currentClass)),delete t.currentClass);var i=s.isUndefined(t.parentClass)?t:t.parentClass;return i.units=this.convertCids(i.units),this.units.set(i.units,{parse:!0}),delete t.units,this.attachments.set(i.attachments,{parse:!0}),delete i.attachments,i},setSessionIds:function(e){var t=this;e.units&&s.each(e.units,function(e){s.each(e.sessions,function(e){e.id&&e.cid&&t.findSessionByCid(e.cid).set("id",e.id)})})},findSessionByCid:function(e){var t;return this.units.each(function(i){var s=i.sessions.get({cid:e});s&&(t=s)}),t},toJSON:function(e){var t=s.clone(this.attributes);return t.units=this.units.toJSON(e),t.attachments=this.attachments.toJSON(e),t.tags=this.tags.toJSON(e),{parentClass:t,currentClass:this.currentClass.toJSON(e)}},sync:function(t,i,n){if(s.isUndefined(n.data)&&i&&("create"===t||"update"===t||"patch"===t)){n.contentType="application/json";var a=n.attrs||i.toJSON(n);a.action=n.action||"save",n.data=JSON.stringify(a)}return e.sync.apply(this,arguments)},deleteDraft:function(e){var t={YII_CSRF_TOKEN:n.cookie("YII_CSRF_TOKEN"),sku:this.get("sku")};n.ajax({type:"POST",url:"/listings/deletedraft",data:t,success:e})},convertCids:function(e){return s.map(e,function(e){var t=this.units.get(e.cid);return t&&t.set(t.parse(e)),t||e},this)},recursiveMap:function(e){var t=[];return t.push(e.call(this,this)),t.push(this.currentClass.recursiveMap(e)),t.push(this.units.map(function(t){t.recursiveMap(e)})),t.push(this.attachments.map(function(t){t.recursiveMap(e)})),t}});t.a=d}).call(this,i(15),i(10),i(9))},,,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:function(){return this.isNew()&&this.get("parentClassSku")?"/classes/"+this.get("parentClassSku")+"/reviews":"/reviews"}});i.FLAG_STATUS={OK:0,NOT_COMPLETED:1,LOW_QUALITY:2},t.a=i}).call(this,i(15))},function(e,t){e.exports='<a href="{{link}}"{{#className}} class="{{className}}"{{/className}} data-text="{{label}}" data-type="{{name}}">{{#locked}}<span class="ss-icon-lock"></span>{{/locked}}{{label}}{{#count}} <span class="count">{{count}}</span>{{/count}}</a>\n'},function(e,t){e.exports='<ul class="list clear">\n    {{#tabs}}\n        <li class="tab left{{#active}} active{{/active}}">{{> shared/_tab }}</li>\n    {{/tabs}}\n</ul>\n<div class="underline"></div>\n'},,function(e,t,i){"use strict";var s=i(81),n=i(8),a=i(596),o=i.n(a),r=n.a.extend({tagName:"li",template:o.a,events:{click:"onClick"},className:function(){var e=["tab","left"];return this.model.get("active")&&e.push("active"),e.join(" ")},templateData:function(){return this.model.attributes},initialize:function(){this.listenTo(this.model,"change:active",this.updateActiveClass)},onClick:function(e){e.preventDefault(),this.model.activate()},updateActiveClass:function(e,t){this.$el.toggleClass("active",t)},afterRender:function(){}}),l=i(597),c=i.n(l),d=i(45),h=i.n(d),u=s.a.extend({itemView:r,template:c.a,templateFunc:h.a.compile(c.a),insertView:function(e,t){this.$("ul.list").append(t.$el),t.trigger("addedToParent"),e&&this.updateVisibleItems(e),this.trigger("didInsertView")}});t.a=u},,function(e,t,i){"use strict";(function(e){var s=i(86),n=i(547),a=s.a.extend({url:function(){return this.modelUrlPrefix+"/"+this._modelId+"/discussions"},model:n.a,parse:function(e){return s.a.prototype.parse.apply(this,arguments),e.discussions},initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.extend(this,e.pick(i,["modelUrlPrefix","_modelId"])),s.a.prototype.initialize.apply(this,arguments)}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";var s=i(81),n=i(573),a=s.a.extend({className:"inline-discussions",itemView:n.a});t.a=a},function(e,t,i){"use strict";(function(e){i(186),i(34);var s=i(604),n=i(44),a=i(580),o=i.n(a),r=i(605),l=i.n(r),c=s.a.extend({className:"discussion-form-container",template:l.a,events:{"click .submit-button":"onSubmitButton","click .form-toggle":"onFormToggle","click .discussion-type":"onFormToggle","click .notify-all":"toggleEmailSubjectField"},bindings:{".discussion-title":"title",".discussion-description":"description",".notify-all":"notify_all_students"},placeholderText:{Announcement:"Share tips and shortcuts or simply start a discussion about this class",Question:"Ask the teacher or other students a question related to this class",Project:""},enabled:!1,initialize:function(t){e.extend(this,e.pick(t,["currentUser","placeholderText"])),e.bindAll(this,"onSubmitSuccess","onSubmitFail"),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$fieldsWrapper=this.$(".fields-wrapper"),this.$formToggle=this.$(".form-toggle"),this.$discussionTypes=this.$(".discussion-types"),this.$notifyAll=this.$(".notify-all"),this.$emailSubjectContainer=this.$(".email-subject-field"),this.$emailSubject=this.$(".discussion-title"),this.$submitButton=this.$(".submit-button"),this.$submitButton.addClass("disabled"),this.$discussionTextarea=this.$("#discussion-textarea_ifr").contents().find("#tinymce"),this.stickit(),n.a.initRichTextareas(this.$el),s.a.prototype.afterRender.apply(this,arguments)},onFormToggle:function(e){var t=this;e.preventDefault();var i=this.$(e.target).closest("div").attr("ss-data-discussion-type");"Review"!==i&&(this.$fieldsWrapper.show(),this.$el.addClass("opened"),this.$discussionTextarea=this.$("#discussion-textarea_ifr").contents().find("#tinymce"),this.$("textarea#discussion-textarea").on("change",function(e){t.checkIfEmpty(e)}),this.$discussionTextarea.on("keyup",function(e){t.checkIfEmpty(e)}),i?(this.$(e.target).closest("div").addClass("active").siblings().removeClass("active"),this.$discussionTypes.addClass("opened"),this.$discussionTextarea.on("focus",function(){t.$("iframe").contents().find(".form-toggle-placeholder").remove(),t.$discussionTypes.addClass("active")}),this.$discussionTextarea.on("blur",function(){t.$discussionTypes.removeClass("active")}),this.setPlaceholder(i),this.model.set("type",i),"Class"!==i&&"Project"!==i||o.a.activeEditor.buttons["embed-media-button"].onclick(null,i)):(this.$formToggle.hide(),this.$discussionTextarea.focus()))},checkIfEmpty:function(){""===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).target.innerText.trim()&&""===o.a.activeEditor.getContent()?(this.enabled=!1,this.$submitButton.hasClass("disabled")||this.$submitButton.addClass("disabled")):(this.enabled=!0,this.$submitButton.removeClass("disabled"))},setPlaceholder:function(e){var t=this,i=function(e){return'<p class="form-toggle-placeholder">'.concat(t.placeholderText[e],"</p>")};""!==o.a.activeEditor.getContent()&&o.a.activeEditor.getContent()!==i("Announcement")&&o.a.activeEditor.getContent()!==i("Question")||o.a.activeEditor.setContent(i(e))},onSubmitButton:function(){this.enabled&&(s.a.prototype.onSubmitButton.apply(this,arguments),this.model.save().success(this.onSubmitSuccess).fail(this.onSubmitFail))},onSubmitSuccess:function(){this.model.set("canModify",!0),this.trigger("new:discussion",this.model),s.a.prototype.onSubmitSuccess.apply(this,arguments)},onSubmitFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error creating your discussion. Please try again.",type:"error"}),s.a.prototype.onSubmitFail.apply(this,arguments)},toggleEmailSubjectField:function(){this.$notifyAll.prop("checked")?(this.$emailSubjectContainer.show(),this.$emailSubject.focus()):this.$emailSubjectContainer.hide()}});t.a=c}).call(this,i(10))},function(e,t,i){"use strict";var s=i(8),n=s.a.extend({enabled:!0,afterRender:function(){this.$actionButtons=this.$(".action-button"),s.a.prototype.afterRender.apply(this,arguments)},onSubmitButton:function(){this.enabled&&(this.$actionButtons.addClass("disabled"),this.enabled=!1)},onSubmitSuccess:function(){this.enabled=!0,this.$actionButtons.removeClass("disabled")},onSubmitFail:function(){this.enabled=!0,this.$actionButtons.removeClass("disabled")}});t.a=n},function(e,t){e.exports='<img src="{{currentUser.images.medium}}" class="user-img-50" data-ss-username="{{currentUser.username}}" />\n<form class="discussion-form{{#discussionTypes.0}} discussion-buttons{{/discussionTypes.0}}">\n    <fieldset>\n        <div class="discussion-types{{^discussionTypes}} hidden{{/discussionTypes}}">\n            {{#discussionTypes}}\n                <div class="discussion-type{{#classes}} {{classes}}{{/classes}}" ss-data-discussion-type="{{type}}"><a href="javascript:;"><span>{{text}}</span></a></div>\n            {{/discussionTypes}}\n        </div>\n        {{^discussionTypes}}\n            <input class="form-toggle" placeholder="{{formTogglePlaceholder}}" type="text" />\n        {{/discussionTypes}}\n    </fieldset>\n    <div class="fields-wrapper hidden">\n        <fieldset>\n            <div class="fields">\n                <textarea\n                    id="discussion-textarea"\n                    class="discussion-description rich"\n                    data-ss-upload-type="Discussion"\n                    data-ss-rich-enable-images="true"\n                    data-ss-rich-enable-media-embeds="true"\n                    data-height="100">\n                </textarea>\n            </div>\n        </fieldset>\n        <div class="email-subject-field">\n            <fieldset>\n                <label for="discussion-title">Email Subject</label>\n                <div class="fields input-wrapper">\n                    <input class="discussion-title" id="discussion-title" size="60" maxlength="200" type="text" />\n                </div>\n            </fieldset>\n        </div>\n        <fieldset>\n            <a href="javascript:;" class="button medium submit-button action-button">Post</a>\n            {{#currentUser.canNotifyAll}}\n                <input class="notify-all" type="checkbox" name="notify_all_students" id="notify_all_students">\n                <label class="inline" for="notify_all_students">{{#emailPrompt}}{{emailPrompt}}{{/emailPrompt}}{{^emailPrompt}}Email all students{{/emailPrompt}}</label>\n            {{/currentUser.canNotifyAll}}\n        </fieldset>\n    </div>\n</form>\n'},function(e,t,i){"use strict";var s=i(540),n=i(607),a=s.a.extend({model:n.a,initialize:function(e,t){this.parentClass=t.parentClass,this.on("add remove",this.toggleModelDestroyable)},toggleModelDestroyable:function(){var e=this.length>1;this.invoke("toggleDestroyable",e)}});t.a=a},function(e,t,i){"use strict";(function(e,s){i(184),i(514);var n=i(608),a=i(535),o=i(519),r=o.a.extend({constructor:function(t,i){this.parentClass=i.collection.parentClass,this.lectures=this.sessions=new n.a(null,{parentClass:this.parentClass,unit:this}),this.completion=new a.a,e.Model.apply(this,arguments)},defaults:{destroyable:!0},initialize:function(){this.set("cid",this.cid),this.on("request",function(e,t,i){this.sessions.each(function(e){e.trigger("request",e,t,i)})}),this.on("destroy",function(){this.sessions.each(function(e){e.trigger("destroy",e)})}),o.a.prototype.initialize.apply(this,arguments)},parse:function(e){var t=s.clone(e);return t.rank=parseInt(t.rank,10),t.sessions=this.convertCids(t.sessions),this.sessions.set(t.sessions,{parse:!0}),delete t.sessions,this.completion.set({target_type:"Unit",target_id:t.id,parent_id:t.parent_id}),s.isUndefined(t.unitCompletion)||(this.completion.set(t.unitCompletion,{parse:!0}),this.completion.set({completed:!0})),t},toJSON:function(){var e=s.omit(this.attributes,"destroyable");return e.sessions=this.sessions.toJSON(),e},convertCids:function(e){return s.map(e,function(e){var t=this.sessions.get(e.id);return t||(t=this.sessions.get(e.cid)),t&&t.set(t.parse(e)),t||e},this)},recursiveMap:function(e){var t=[];return t.push(e.call(this,this)),t.push(this.sessions.map(function(t){t.recursiveMap(e)})),t},toggleDestroyable:function(e){this.set("destroyable",e)}});t.a=r}).call(this,i(15),i(10))},function(e,t,i){"use strict";var s=i(540),n=i(576),a=s.a.extend({model:n.a,initialize:function(e,t){this.parentClass=t.parentClass,this.unit=t.unit},onAdd:function(e){e.set("unit_id",this.unit.get("id")),s.a.prototype.onAdd.apply(this,arguments)}});t.a=a},function(e,t,i){"use strict";var s=i(519),n=s.a.extend({defaults:{url:"#"},initialize:function(){this.set("cid",this.cid),s.a.prototype.initialize.apply(this,arguments)},recursiveMap:function(e){return e.call(this,this)},isComplete:function(){return this.get("url")!==this.defaults.url}});t.a=n},function(e,t,i){"use strict";(function(e,s){i(188),i(184),i(514);var n=i(611),a=i(519),o=a.a.extend({constructor:function(t,i){return this.sessionEvents=new n.a(null,{parentClass:i.parentClass}),this.parentClass=i.parentClass,e.Model.prototype.constructor.apply(this,arguments)},onErrorChange:function(e,t){t.sessionEvents&&delete t.sessionEvents,a.a.prototype.onErrorChange.apply(this,arguments)},isNewDate:function(){return!0===this.get("isNewDate")},parse:function(e){var t=s.clone(e);return t.sessionEvents=this.convertCids(t.sessionEvents),this.sessionEvents.set(t.sessionEvents,{parse:!0,remove:!1}),delete t.sessionEvents,t},toJSON:function(){var e=s.clone(this.attributes);return e.sessionEvents=this.sessionEvents.toJSON(),e.isNewDate=void 0,e},convertCids:function(e){return s(e).map(function(e){var t=this.sessionEvents.get(e.cid);return t&&t.set(t.parse(e)),t||e},this)},recursiveMap:function(e){var t=[];return t.push(e.call(this,this)),t.push(s.map(this.sessionEvents.models,function(t){t.recursiveMap(e)})),s.flatten(t)},areAllSessionEventsNew:function(){return s.every(this.sessionEvents.models,function(e){return e.isNew()},this)}});t.a=o}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var s=i(612),n=e.Collection.extend({model:s.a,initialize:function(e,t){this.parentClass=t.parentClass}});t.a=n}).call(this,i(15))},function(e,t,i){"use strict";(function(e,s){i(514);var n=i(613),a=i(519),o=a.a.extend({currentClass:null,defaults:{time_zone:e.isUndefined(SS.serverBootstrap.classCreatorData)?8:SS.serverBootstrap.classCreatorData.userTimeZone.id,startTime:"7:30 pm",endTime:"9:00 pm"},constructor:function(e){this.venue=new n.a,this.currentClass=e.currentClass,s.Model.prototype.constructor.apply(this,arguments)},initialize:function(){this.set("cid",this.cid),a.a.prototype.initialize.apply(this,arguments)},onErrorChange:function(t,i,s){e.isEmpty(i)?this.trigger("valid"):(i.start_time&&(i.startTime=i.startDate=i.start_time),i.end_time&&(i.endTime=i.endDate=i.end_time),this.trigger("invalid",t,i,s))},parse:function(t){var i=e.clone(t);return this.venue.set(this.venue.parse(i.venue)),delete i.venue,i},toJSON:function(){var t=e.clone(this.attributes);return this.collection.parentClass.isOnline()||(t.venue=this.venue.toJSON()),t},recursiveMap:function(e){return e.call(this,this)}});t.a=o}).call(this,i(10),i(15))},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({defaults:{geo_state_abbr:"AK"},initialize:function(){this.on("change:errors",function(e,t,s){i.isEmpty(t)||this.trigger("invalid",e,t,s)})}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/rosters"},{STATUS_ENROLLED:1,STATUS_COMPLETED:2});t.a=i}).call(this,i(15))},,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({activate:function(){this.get("active")?this.trigger("change:active",this,!0,{}):this.set("active",!0)},deactivate:function(){this.set("active",!1)}});t.a=i}).call(this,i(15))},,function(e,t,i){"use strict";(function(e,s){i(122),i(123),i(560),i(40);var n=i(0),a=i.n(n),o=i(42),r=i.n(o),l=i(74),c=i(128),d=i(194),h=i(681),u=i(8),p=i(561),v=i.n(p),m=i(526),f=i.n(m),g=i(562),y=i(509),w=i(61),b=i(95),k=i(13),C=i(82),S=u.a.extend({setElementToTemplate:!0,template:v.a,events:{"click .ss-card__thumbnail":"onClickProjectCard"},templateData:function(){return e.extend({},this.model.attributes,{clientRendered:!0})},templatePartials:{"partials/_user-information-small":f.a},initialize:function(){e.bindAll(this,"onChangeNumLikes"),this.useProjectModal="on"===Object(b.a)("community_user_projectmodal"),u.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(y.a.initUserPopovers(this),!SS.currentUser.isGuest()){var t={voteable_id:this.model.get("id"),voteable_type:"Project",trackingParams:{via:"project-item"}};0!==this.model.get("voteId")&&e.extend(t,{voteId:this.model.get("voteId")}),this.likeButton=new g.a({container:this.$(".like-btn-wrapper"),modelData:t,parentModel:this.model,initialState:this.model.get("hasVoted"),remountProjectModal:this.useProjectModal?this.remountProjectModal.bind(this):null}),this.likeCounter=this.$(".num-likes"),this.model.on("change:numLikes",this.onChangeNumLikes)}!SS.currentUser.isGuest()&&this.useProjectModal&&this.renderProjectModal(),u.a.prototype.afterRender.apply(this,arguments)},onClickProjectCard:function(){!SS.currentUser.isGuest()&&this.useProjectModal?this.renderProjectModal():window.location.href=this.model.get("url")},remountProjectModal:function(){r.a.unmountComponentAtNode(this.$projectModalTarget),this.renderProjectModal()},renderProjectModal:function(){var e;if(this.model.get("parentClass")&&this.model.get("parentClass").teacher){var t=this.model.get("parentClass");e={title:t.title,url:t.url,image:t.image_thumbnail,classAuthorName:t.teacher.fullName,classAuthorProfile:t.teacher.url}}var i=Object(w.a)(SS,"serverBootstrap","apiData","host"),n=d.ApolloClientManager.createClient({uri:"".concat(i,"/api/graphql")});this.$projectModalTarget=this.$(".project-modal-container").get(0);var o=s('<div class="project-body-wrapper"></div>'),u=this.model.get("projectBody");s(u).appendTo(o);var p=this.model.get("author"),v=p.uid,m=p.fullName,f=p.url,g=p.image,y=p.isTeacher,b=p.isTopTeacher,S=p.headline,T=p.currentUserIsFollowing,P={uid:v,name:m,profileUrl:f,img:g,isTeacher:y,isTopTeacher:b,headline:S},x=this.model.attributes,D=x.id,$=x.title,E=x.projectCover,M=x.numLikes,_=x.comments,R=x.numViews,N=x.hasVoted,I=SS.currentUser,V={uid:I.get("id"),name:I.get("fullName"),profileUrl:I.get("profileUrl"),img:I.get("images").small,isTeacher:I.get("is_teacher"),isTopTeacher:I.get("isTopTeacher"),headline:I.get("headline")};r.a.render(a.a.createElement(c.ApolloProvider,{client:n},a.a.createElement(l.ThemeProvider,{theme:l.DefaultTheme},a.a.createElement(h.ProjectModalWrapper,{projectId:D.toString(),projectTitle:$,projectBody:o.html(),initLazyLoadedImages:function(){return C.a.initAllImages(o,!0).html()},projectCover:E,projectAuthor:P,projectNumLikes:M,projectNumComments:_,projectNumViews:R,onLikeBackboneHandler:this.onProjectLike.bind(this),onFollowBackboneHandler:k.a.toggleFollowUser.bind(k.a),hasLiked:!!N,viewerIsFollowing:T,viewer:V,projectClass:e}))),this.$projectModalTarget)},onProjectLike:function(){this.likeButton.onClick()},onChangeNumLikes:function(){var e="";1===this.model.get("numLikes")?e=this.model.get("numLikes")+" like":this.model.get("numLikes")>1&&(e=this.model.get("numLikes")+" likes"),this.likeCounter.text(e)}});t.a=S}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,s,n){i(60),i(83);var a=i(8),o=i(44),r=i(631),l=i.n(r),c=a.a.extend({template:l.a,events:{"click.inline-editable .submit-btn":"done","click.inline-editable .cancel-btn":"cancel"},initialize:function(t){e.extend(this,e.pick(t,"parentModel","parentView","editable")),this.model=new s.Model(this.parentModel.attributes),a.a.prototype.initialize.call(this,t)},render:function(){a.a.prototype.render.call(this),this._transformElements(),o.a.renderForm(this.parentView.$el),this.stickit()},_transformElements:function(){e.each(this.editable,function(t,i){var s="input",n={type:"text"},a=t;e.isString(a)||(n=e.defaults(e.omit(a,"selector"),n),"textarea"===a.type&&(s=a.type,delete n.type),a=a.selector);var o=this._transformElement(a,s,n,this.model.get(i));this._addBinding(o,i)},this)},_transformElement:function(e,t,i,s){var a=this.parentView.$(e),o=n("<"+t+"/>").attr(i).val(s);return a.replaceWith(o),o},_addBinding:function(t,i){this.bindings||(this.bindings={});var s=e.uniqueId("inline-editable");t.addClass(s),this.bindings["."+s]=i},stickit:function(){var e=this.$el;this.$el=this.parentView.$el,a.a.prototype.stickit.apply(this,arguments),this.$el=e},unstickit:function(){var e=this.$el;this.$el=this.parentView.$el,a.a.prototype.unstickit.apply(this,arguments),this.$el=e},done:function(){var t=e.pick(this.model.attributes,e.keys(this.editable));this.parentModel.set(t),this.cleanup(),this.trigger("done")},cancel:function(){this.cleanup(),this.trigger("cancel")},cleanup:function(){this.unstickit(this.model),this.parentView.$el.off(".inline-editable")}});t.a=c}).call(this,i(10),i(15),i(9))},function(e,t,i){e.exports=i(47)(9)},function(e,t){e.exports='{{#user}}\n    <div class="user-snippet">\n        <h5>\n            <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{name}}</a>\n            {{#isTeacher}}\n                {{#isTopTeacher}}\n                    <span class="teacher-tag teacher-tag-top-teacher-badge">\n                        <span class="ss-icon-premium-badge"></span>Top Teacher\n                    </span>\n                {{/isTopTeacher}}\n                {{^isTopTeacher}}\n                    <span class="teacher-tag">Teacher</span>\n                {{/isTopTeacher}}\n            {{/isTeacher}}\n            {{#isCreator}}\n                <span class="teacher-tag">Creator</span>\n            {{/isCreator}}\n        </h5>\n        {{#headline}}\n            <p class="secondary">{{headline}}</p>\n        {{/headline}}\n    </div>\n{{/user}}\n'},,,,function(e,t,i){"use strict";(function(e){i(40);var s=i(82),n=i(8),a=n.a.extend({autoRender:!1,legacyRender:!1,id:"content-region",className:"content-wrapper icon-loading",initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&!!t.el&&e.isFunction(this.afterPreRender)&&this.afterPreRender(),e.extend(this,e.pick(t,"model","classModel","autoRender")),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"sync",this.removeLoadingClass),n.a.prototype.initialize.apply(this,arguments)},render:function(){this.legacyRender&&(this.$el.html(this.model.get("content")),this.removeLoadingClass()),n.a.prototype.render.apply(this,arguments)},afterRender:function(){s.a.runPageRoutine(),n.a.prototype.afterRender.apply(this,arguments)},removeLoadingClass:function(){this.$el.removeClass("icon-loading")},_bubbleChanges:function(t){this.listenTo(t,"change",e.bind(function(){this.trigger("change")},this))}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s,n){i(520);var a=i(86),o=i(556),r=a.a.extend({model:o.a,url:function(){var t=this.path,i=e.param(this.params);return""!==i&&(t+="?"+i),t},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.bindAll(this,"fetchMore"),this.page=t.page||0,this.loadMore=t.loadMore||!1,this.sortMethod=t.sortMethod||void 0,this.lastViewTime=t.lastViewTime||null,SS.serverBootstrap.projectsData&&(this.loadMore=!!SS.serverBootstrap.projectsData.loadMore,this.page=SS.serverBootstrap.projectsData.page?parseInt(SS.serverBootstrap.projectsData.page,10):0),this.params=t.params||{},this.path=t.path||"/projects"},parse:function(e){return this.content=e.content,this.sortMethod=e.sort,this.loadMore=e.loadMore,e.projects},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=s.extend({},e.data,{sort:this.sortMethod}),n.Collection.prototype.fetch.call(this,e)},fetchSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=s.extend({},e.data,{sort:this.sortMethod}),a.a.prototype.fetchSet.call(this,e)},fetchMore:function(e){var t=this,i=s.extend({},e,{update:!0,remove:!1,success:function(e,i){t.trigger("projects:update",i),t.trigger("update",i)},error:function(){t.trigger("update:error")}});return this.page=this.page+1,i.data=s.extend({},i.data,{offset:this.length,page:this.page,slim:1}),this.lastViewTime&&(i.data.lastViewTime=this.lastViewTime),this.fetch(i)}});t.a=r}).call(this,i(9),i(10),i(15))},,function(e,t,i){"use strict";(function(e,s){i(184);var n=i(582),a=e.Collection.extend({model:n.a,url:function(){return"/comments/"+(this.activityModel.get("commentableType")||this.activityModel.get("type"))+"/"+this.activityModel.get("commentableId")},parse:function(e){return e.map(function(e){return this.model.prototype.parse(e)},this)},initialize:function(e,t){this.activityModel=t.activityModel},create:function(t){return t.commentable_type=this.activityModel.get("commentableType"),t.commentable_id=this.activityModel.get("commentableId"),e.Collection.prototype.create.apply(this,arguments)},fetchMore:function(e){var t=this,i=s.extend({},e,{update:!0,remove:!1,silent:!0,success:function(e,i){t.trigger("update",i)},error:function(){t.trigger("update:error")}});return this.fetch(i)}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(25),a=i(630),o=i(582),r=i(583),l=i(44),c=i(89),d=(i(548),n.a.extend({activityModel:null,bindings:{".comment":{observe:"comment",updateView:!1}},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .btn-submit":"onClickPost","focus textarea":"onFocus"})},initialize:function(t){n.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"fetchAll","onClickPost","onPostError"),e.extend(this,e.pick(t,["replyItemView"])),this.$el.show(),this.repliesListEl=this.$(".replies-list"),this.fetched=this.collection.length>=this.options.activityModel.get("numReplies"),e.isUndefined(this.options.activityModel.get("lastReply"))||(this.lastReply=this.collection.last()),this.repliesCollectionView=new a.a({collection:this.collection,el:this.repliesListEl,autoRender:!0,animateOnRemove:!0,itemView:this.replyItemView?this.replyItemView:r.a}),l.a.renderForm(this.$("form")),this.model=new o.a,this.stickit(),this.options.activityModel.on("showAll",this.fetchAll)},afterRender:function(){var e=this;n.a.prototype.afterRender.apply(this,arguments),window.setTimeout(function(){e.$("form textarea").length>0&&e.$("form textarea").autosize()},1e3)},fetchAll:function(){var e=this;if(!this.fetched){var t=this.lastReply?this.lastReply.get("timestamp"):void 0;this.options.activityModel.trigger("loading",!0,this.repliesListEl),this.collection.fetchMore({data:{baseTimestamp:t}}),this.collection.on("update",function(){e.repliesCollectionView.renderAllItems(),e.options.activityModel.trigger("loading",!1,e.repliesListEl),e.fetched=!0})}},onFocus:function(e){e.stopPropagation(),s(e.currentTarget).parent().addClass("hasButton"),s(e.currentTarget).parent().find(".post-button-wrapper").show()},onClickPost:function(e){var t=this;if(e.preventDefault(),!s(e.currentTarget).hasClass("disabled")){s(e.currentTarget).addClass("disabled");var i=this.$("textarea");l.a.hideFieldMessage(i),this.collection.create(this.model.attributes,{wait:!0,error:this.onPostError,success:function(){t.repliesListEl.show(),t.$(".btn-submit").removeClass("disabled"),i.val("").trigger("blur"),i.css("height","16px"),t.model.set("comment","")}})}},onPostError:function(e,t){if(this.$(".btn-submit").removeClass("disabled"),400===t.status){var i=s.parseJSON(t.responseText);c.a.handleValidationErrors(this,i.errors,{inErrorState:!0,showErrors:!0})}}}));t.a=d}).call(this,i(10),i(9))},function(e,t,i){"use strict";var s=i(81),n=i(583),a=s.a.extend({itemView:n.a});t.a=a},function(e,t){e.exports='<a href="javascript:;" class="btn small primary submit-btn">Update</a>\n<a href="javascript:;" class="btn small no-background cancel-btn">Cancel</a>\n'},function(e,t){e.exports='<div class="more-text-container">\n    {{#truncatedText}}\n        {{{truncatedText}}}\n    {{/truncatedText}}\n    {{^truncatedText}}\n        {{{text}}}\n    {{/truncatedText}}\n</div>\n'},function(e,t){e.exports='<div class="col-left left">\n    <div class="user-img-30 rounded-image-wrapper">\n        <a href="{{user.url}}" data-ss-username="{{user.username}}">\n            <img src="{{user.img}}" />\n        </a>\n    </div>\n</div>\n<div class="col-right">\n    {{> userSnippet}}\n    <div class="body-content rich-content-wrapper"></div>\n    <div class="meta clear">\n        {{#shouldShowLike}}\n            <a href="javascript:;" class="secondary js-action-like left"></a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowLike}}\n        {{#shouldShowEdit}}\n            <a href="javascript:;" class="secondary js-action-edit left">Edit</a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowEdit}}\n        {{#shouldShowDelete}}\n            <a href="javascript:;" class="secondary js-action-delete left">Delete</a>\n            <span class="middot left">&middot;</span>\n        {{/shouldShowDelete}}\n        <span class="left">{{timeago}}</span>\n        <span class="right">\n            <span class="ss-icon-heart reply-stat reply-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n        </span>\n    </div>\n</div>\n'},,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var s=i(676),n=i(511),a=i(707),o=i.n(a),r=s.a.extend({via:"email-share-popup",className:"base-share-popup email-share-popup",template:o.a,templateData:function(){var t=Object(n.a)();return e.extend({via:this.via,popupTitle:this.popupTitle,showCompact:!0,utm_campaign:t.utm_campaign,utm_source:t.utm_source,utm_medium:t.utm_medium},this.model.attributes)},initialize:function(t){e.extend(this,e.pick(t,["via","popupTitle"])),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(10))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s=i(72),n=i(94);i(289)("keys",function(){return function(e){return n(s(e))}})},,,,function(e,t,i){"use strict";(function(e){i(34);var s=i(35),n=i(778),a=i.n(n),o=s.a.extend({className:"popover confirmation-popover",addShadow:!0,placement:"top",template:a.a,templateData:function(){return e.pick(this.options,["message","confirmButtonText"])},onPopoverCreated:function(){s.a.prototype.onPopoverCreated.apply(this,arguments);var e=this;this.visibleEl.find(".confirmation-button").on("click",function(){e.onConfirm()}),this.visibleEl.find(".cancel-button").on("click",function(){e.onCancel()})},onConfirm:function(){this.trigger("confirm"),this.close()},onCancel:function(){this.trigger("cancel"),this.close()}});t.a=o}).call(this,i(10))},,function(e,t,i){"use strict";(function(e){var s=i(701),n=e.Collection.extend({model:s.a});t.a=n}).call(this,i(15))},function(e,t,i){"use strict";(function(e){i(34);var s=i(21),n=i(522),a=i(537),o=i(543),r=i(542),l=i(706),c=i.n(l),d=i(677),h=i.n(d),u=i(678),p=i.n(u),v=s.a.extend({className:"base-share-popup base-share",template:p.a,templatePartials:{"shared/_email-invite":h.a},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .invite-contacts":"onInviteContactsClick","click .manual-toggle":"onManualToggleClick"})},initialize:function(){s.a.prototype.initialize.apply(this,arguments),this.trackingParams=e.extend({via:this.via},e.pick(this.model.get("formData"),["parentClassId","liveSessionId"]))},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$email=this.$(".email-invite"),this.$emailForm=this.$email.find("form"),this.$manualToggle=this.$(".manual-toggle"),this.$manualSection=this.$(".manual-section"),this.$contactsSection=this.$(".contacts-section");var e=new a.a({template:c.a,el:this.$(".social-share-buttons-wrapper"),model:this.model,trackingParams:this.trackingParams,showCompact:this.showCompact,showEmail:this.showEmail,hideShortLink:!1});this.listenTo(e,"facebook:click",function(){this.trackSocialShare(n.a.METHODS.FACEBOOK)}),this.listenTo(e,"twitter:click",function(){this.trackSocialShare(n.a.METHODS.TWITTER)}),this.listenTo(e,"link:button:click",function(){this.trigger("link:button:click")}),new o.a({el:this.$emailForm,trackingParams:this.trackingParams}),this.centerPopup()},trackSocialShare:function(t){var i=e.extend(this.model.get("formData"),this.trackingParams,{method:t,type:n.a.TYPES.REFERRAL_LINK});new n.a(i).save()},onInviteContactsClick:function(){var t=e.extend({endpoint:this.model.get("formData").action,method:n.a.METHODS.GMAIL_CONTACTS},this.trackingParams);this.googleContactsView=new r.a({el:this.$contactsSection,trackingParams:this.trackingParams,referralData:t}),this.showCompact?(this.$(".compact-gmail-contacts-show").show(),this.$(".compact-gmail-contacts-hide").hide()):this.googleContactsView.on("user:authorized",this.hideForm,this),this.googleContactsView.on("user:authorized",this.onUserAuthorized,this),this.googleContactsView.authorize(),SS.EventTracker.track("Clicked Invite Gmail Contacts",{},this.trackingParams)},onManualToggleClick:function(){this.showForm(),this.centerPopup()},hideForm:function(){this.$manualSection.hide(),this.$manualToggle.css("display","inline-block")},showForm:function(){this.$manualSection.show(),this.$manualToggle.hide()},onUserAuthorized:function(){this.trigger("google:user:authorized")}});t.a=v}).call(this,i(10))},function(e,t){e.exports='<div class="email-invite">\n    <div class="header-section">\n        {{#showCompact}}\n            <p class="section-title">Share via Email</p>\n            <div class="contacts-section">\n                <a class="invite-contacts {{inviteContactsBtnClasses}}{{^inviteContactsBtnClasses}}btn red small full-width{{/inviteContactsBtnClasses}}">Import Your Gmail Contacts</a>\n            </div>\n        {{/showCompact}}\n    </div>\n    <div class="manual-section">\n        {{#showCompact}}\n            <div class="form-separator"><p>or</p></div>\n        {{/showCompact}}\n        {{#formData}}\n            <form action="{{action}}" method="post">\n                {{> forms/_csrf}}\n                {{#parentClassId}}\n                    <input type="hidden" name="parentClassId" value="{{parentClassId}}">\n                {{/parentClassId}}\n                {{#liveSessionId}}\n                    <input type="hidden" name="liveSessionId" value="{{liveSessionId}}">\n                {{/liveSessionId}}\n                {{#method}}\n                    <input type="hidden" name="method" value="{{method}}">\n                {{/method}}\n                {{#via}}\n                    <input type="hidden" name="via" value="{{via}}">\n                {{/via}}\n                {{#utm_campaign}}\n                    <input type="hidden" name="utm_campaign" value="{{utm_campaign}}">\n                {{/utm_campaign}}\n                {{#utm_medium}}\n                    <input type="hidden" name="utm_medium" value="{{utm_medium}}">\n                {{/utm_medium}}\n                {{#utm_source}}\n                    <input type="hidden" name="utm_source" value="{{utm_source}}">\n                {{/utm_source}}\n                <fieldset class="no-margin-top">\n                    <div class="fields input-wrapper">\n                        <input class="emails" type="text" name="emails" placeholder="Email Addresses (Separate by Commas)" />\n                    </div>\n                </fieldset>\n                {{^showCompact}}\n                    <a class="invite-contacts alternate small left compact-gmail-contacts-hide">Import Gmail Contacts</a>\n                {{/showCompact}}\n                {{#showCompact}}\n                    <fieldset>\n                        <div class="fields input-wrapper">\n                            <textarea class="message" name="message" placeholder="Optional Message">{{message}}</textarea>\n                        </div>\n                    </fieldset>\n                {{/showCompact}}\n                <fieldset class="send-button-wrapper">\n                    {{^showCompact}}\n                        <a href="javascript:;" class="send-button button large right invite-via-email">Send</a>\n                    {{/showCompact}}\n                    {{#showCompact}}\n                        <a href="javascript:;" class="send-button button alt-charcoal-ghost left invite-via-email">Send</a>\n                    {{/showCompact}}\n                    <div class="left status-lbl"></div>\n                </fieldset>\n            </form>\n        {{/formData}}\n    </div>\n    {{^showCompact}}\n        <div class="form-separator hidden compact-gmail-contacts-show"><p>or</p></div>\n        <div class="contacts-section"></div>\n    {{/showCompact}}\n    {{#showCompact}}\n        <a href="javascript:;" class="small secondary manual-toggle">Or Manually Enter Emails</a>\n    {{/showCompact}}\n</div>\n'},function(e,t){e.exports='<div class="compact">\n    <h4 class="title">{{{viewTitle}}}</h4>\n    <p class="description">{{{viewDescription}}}</p>\n    {{^showCompact}}\n       \t<div class="social-share-buttons-wrapper"></div>\n    \t<div class="form-separator"><p>or</p></div>\n    \t{{> shared/_email-invite }}\n    {{/showCompact}}\n</div>\n'},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({urlRoot:"/notes",defaults:{privacy_status:1},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.session&&this.setSession(t.session)},setSession:function(e){this.session=e,this.set({session_id:this.session.id})},isValid:function(){for(var e=["body","session_id","video_time","privacy_status"],t=0;t<e.length;t++){var s=this.get(e[t]);if(i.isUndefined(s)||i.isNull(s))return!1}return!0},isCurrentUsers:function(){return SS.currentUser.get("username")===this.get("author").username}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var s=i(81),n=i(618),a=i(45),o=i.n(a),r=s.a.extend({itemView:n.a,initialize:function(t){e.extend(this,e.pick(t,["data","prependTemplate","appendTemplate"])),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(this.prependTemplate){var e=o.a.render(this.prependTemplate,this.data);this.$el.prepend(e)}if(this.appendTemplate){var t=o.a.render(this.appendTemplate,this.data);this.$el.append(t)}s.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(10))},,,,,,function(e,t,i){"use strict";(function(e){var s=i(41),n=i(521),a=i(13),o=s.a.extend({urlRoot:window.location.protocol+"//"+window.location.host+"/discussions/",followUrl:"follow",unfollowUrl:"unfollow",requiresLogin:!0,tooltips:["Follow this","Unfollow this"],labels:["Follow Thread","Unfollow"],initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,["model","parentModel"])),this.initialState=e.isNull(this.model.get("id"))?s.a.states.INACTIVE:s.a.states.ACTIVE,s.a.prototype.initialize.apply(this,arguments)},onClick:function(e){e.stopPropagation(),this.endpoint=this.constructEndpoint(this.determineNewState()),s.a.prototype.onClick.apply(this,arguments)},sync:function(){var e=this;a.a.ajaxRequest(this.endpoint,{type:"GET",success:function(){var t=parseInt(e.parentModel.get("numFollowers"),10),i=e.model.get("state")===s.a.states.ACTIVE;t+=i?1:-1,i||e.parentModel.set({userFollow:null}),e.parentModel.set({numFollowers:t})}})},constructEndpoint:function(e){var t=e===s.a.states.ACTIVE?this.followUrl:this.unfollowUrl;return n.a.addParams(this.urlRoot+t,{id:this.model.get("discussion")})}});t.a=o}).call(this,i(10))},function(e,t){e.exports='<a href="{{author.url}}{{#via}}?via={{via}}{{/via}}" target="_blank">\n    <img src="{{author.image}}" class="user-img-50 left" data-ss-username="{{author.username}}" {{#via}}data-ss-via="{{via}}"{{/via}} />\n</a>\n<div class="discussion-info">\n    {{#isPinned}}\n        <svg class="ss-svg-icon pin-icon"><use xlink:href="#pin--on" /></svg>\n    {{/isPinned}}\n    {{#isGroup}}\n        <div class="author-name-wrapper">\n            <a href="{{author.url}}{{#via}}?via={{via}}{{/via}}" class="author-name link-main" data-ss-username="{{author.username}}" {{#via}}data-ss-via="{{via}}"{{/via}} target="_blank">{{author.fullName}}</a>\n            {{#isNewDiscussion}}\n                <span class="unread-indicator"></span>\n            {{/isNewDiscussion}}\n        </div>\n    {{/isGroup}}\n    {{^isGroup}}\n        <a href="{{author.url}}{{#via}}?via={{via}}{{/via}}" class="author-name link-main" data-ss-username="{{author.username}}" {{#via}}data-ss-via="{{via}}"{{/via}} target="_blank">{{author.fullName}}</a>\n    {{/isGroup}}\n    {{#discussableCreator}}\n        {{^author.isTopTeacher}}\n            <span class="teacher-tag">{{discussableCreatorText}}</span>\n        {{/author.isTopTeacher}}\n        {{#author.isTopTeacher}}\n            <span class="teacher-tag teacher-tag-top-teacher-badge">\n                <span class="ss-icon-premium-badge"></span>Top Teacher\n            </span>\n        {{/author.isTopTeacher}}\n    {{/discussableCreator}}\n    {{#author.headline}}<p class="author-headline secondary-type">{{author.headline}}</p>{{/author.headline}}\n    <div class="js-discussion-body discussion-body rich-content-wrapper">\n\n    </div>\n    <div class="toolbar clear">\n        {{^userIsGuest}}\n            <a class="js-discussion-like discussion-like secondary"></a><i class="middot">&middot;</i>\n            <a class="js-discussion-reply discussion-reply secondary">Reply</a><i class="middot">&middot;</i>\n            <a class="js-discussion-follow discussion-follow secondary"></a><i class="middot">&middot;</i>\n            {{#canPin}}\n                <a class="js-discussion-pin discussion-pin secondary"></a><i class="middot">&middot;</i>\n            {{/canPin}}\n            {{^isCurrentUserGroupAdmin}}\n                {{#canModify}}\n                    <a class="js-discussion-edit discussion-edit secondary" data-ss-discussion-id="{{id}}">Edit</a><i class="middot">&middot;</i>\n                    <a class="js-discussion-delete discussion-delete secondary">Delete</a><i class="middot">&middot;</i>\n                {{/canModify}}\n            {{/isCurrentUserGroupAdmin}}\n            {{#isCurrentUserGroupAdmin}}\n                {{#canModify}}\n                    <a class="js-discussion-edit iscussion-edit secondary" data-ss-discussion-id="{{id}}">Edit</a><i class="middot">&middot;</i>\n                {{/canModify}}\n                <a class="js-discussion-delete discussion-delete secondary">Delete</a><i class="middot">&middot;</i>\n            {{/isCurrentUserGroupAdmin}}\n        {{/userIsGuest}}\n        <span class="secondary-row">\n            <span class="secondary-type">{{timeAgo}}</span>\n            <span class="discussion-stats">\n                <span class="ss-icon-heart discussion-stat js-discussion-stat-likes discussion-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n                <span class="ss-icon-comment discussion-stat js-discussion-stat-replies"{{^numReplies}} style="display:none;"{{/numReplies}}>{{numReplies}}</span>\n                <span class="ss-icon-followers-filled discussion-stat js-discussion-stat-followers discussion-stat-followers"{{^numFollowers}} style="display:none;"{{/numFollowers}}>{{numFollowers}}</span>\n            </span>\n        </span>\n    </div>\n    <div class="js-replies replies">\n        <div class="arrow"></div>\n        {{#truncateReplies}}\n            <div class="js-show-all"><a>Show {{additionalReplyCount}} more{{#hiddenCreatorReplyCount}} including {{hiddenCreatorReplyCount}} by the <span class="teacher-tag">Creator</span>{{/hiddenCreatorReplyCount}}</a></div>\n        {{/truncateReplies}}\n\n        <ul class="replies-list"></ul>\n\n        <form class="reply-form">\n            {{^isGroup}}\n                {{^userIsGuest}}\n                    <img src="{{currentUser.images.small}}" class="user-img user-img-30" />\n                {{/userIsGuest}}\n            {{/isGroup}}\n            {{#isGroup}}\n                {{^userIsGuest}}\n                    {{#isMember}}\n                        {{#canPost}}\n                            <img src="{{currentUser.images.small}}" class="user-img user-img-30" />\n                        {{/canPost}}\n                    {{/isMember}}\n                {{/userIsGuest}}\n            {{/isGroup}}\n            <div class="textarea-wrapper">\n                {{#isGroup}}\n                    {{#userIsGuest}}\n                        Please <a data-ss-restrict="login" data-ss-redirect-return="true">sign in</a> or <a data-ss-restrict="signup" data-ss-redirect-return="true">sign up</a> to reply.\n                    {{/userIsGuest}}\n                    {{^userIsGuest}}\n                        {{#isMember}}\n                            {{#canPost}}\n                                <textarea class="js-comment comment" rows="1" aria-label="Leave a reply" data-ss-placeholder-copy="Leave a reply..."></textarea>\n                                <div class="post-button-wrapper">\n                                  <a class="btn-submit button medium">Post</a>\n                                </div>\n                            {{/canPost}}\n                            {{^canPost}}\n                                <a href="{{premiumUrl}}" target="_blank">Upgrade to Premium</a> to post a reply.\n                            {{/canPost}}\n                        {{/isMember}}\n                        {{^isMember}}\n                            <a class="js-group-preview-join-btn group-preview-join-btn" data-ss-restrict="signup">Join {{groupName}}</a> to reply.\n                        {{/isMember}}\n                    {{/userIsGuest}}\n                {{/isGroup}}\n                {{^isGroup}}\n                    {{^userIsGuest}}\n                        <textarea class="js-comment comment" rows="1" aria-label="Leave a reply" data-ss-placeholder-copy="Leave a reply..."></textarea>\n                        <div class="post-button-wrapper">\n                          <a class="btn-submit button medium">Post</a>\n                        </div>\n                    {{/userIsGuest}}\n                    {{#userIsGuest}}\n                        Please <a data-ss-restrict="login" data-ss-redirect-return="true">sign in</a> or <a data-ss-restrict="signup" data-ss-redirect-return="true">sign up</a> to reply.\n                    {{/userIsGuest}}\n                {{/isGroup}}\n            </div>\n        </form>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="discussions-wrapper">\n    <div class="grid">\n        <div class="row">\n            <div class="col-9">\n                <div id="question-view" class="classroom-content section-view post-view">\n                    <div class="inline-discussion">\n                        <div class="navigation back">\n                           <span class="ss-icon-arrow-left"></span>\n                           <a href="{{discussionsUrl}}" class="secondary no-underline section-navigation">Back to all Discussions</a>\n                        </div>\n                    </div>\n                    <div class="inline-discussion">\n                        {{> discussions/default }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var s=i(524),n=i(13),a=e.Model.extend({initialize:function(){var e=this.get("tags")||[];this.tags=new s.a(e)},createRosterFromSku:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;if(this.get("userRosterId"))return!1;var a=this.get("sku"),o="/classes/".concat(a,"/roster"),r={last_video_index:1,via:s};null!==i&&(r.roster_status=i);var l={data:r,type:"POST",success:e};return null!==t&&(l.error=t),n.a.ajaxRequest(o,l)}});t.a=a}).call(this,i(15))},,function(e,t,i){"use strict";(function(e,s){var n=i(558).a.extend({initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isUndefined(i.classModel)||(this.classModel=i.classModel)},sync:function(t,i,n){return n.data=n.data||{},e.extend(n.data,{commentSort:this.get("commentSort")}),s.sync.apply(this,arguments)}});t.a=n}).call(this,i(10),i(15))},,function(e,t,i){"use strict";(function(e){var s=i(8),n=i(82),a=i(645),o=s.a.extend({events:{"click .email.share-button":"onClickEmailShare"},initialize:function(t){e.extend(this,e.pick(t,["currentSession","nextSession","parentClass","baseUrl"])),s.a.prototype.initialize.apply(this,arguments)},close:function(){this.trigger("close"),this.$el.remove()},nextVideo:function(){this.trigger("nextVideo")},viewAssignment:function(){this.trigger("scrollToHeaders")},replay:function(){this.trigger("replay")},afterRender:function(){n.a.initRestrictedAccessHandlers(this),s.a.prototype.afterRender.apply(this,arguments)},onClickEmailShare:function(){SS.currentUser.isGuest()||new a.a({model:this.parentClass})}});t.a=o}).call(this,i(10))},function(e,t){e.exports='<div class="social-share-buttons">\n    <a href="javascript:;" class="link-input btn small{{#hideShortLink}} hidden{{/hideShortLink}}">\n        <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" style="display: block;" />\n    </a>\n    {{#hideShortLink}}\n        <div class="share-link btn grey share-button large-wide" style="display: block; color: white; width: 100%" longurl="{{directUrl}}">Get Shareable Link</div>\n    {{/hideShortLink}}\n    {{^hideShortLink}}\n    <div class="share-link btn grey share-button large-wide" style="color: white; width: 100%" longurl="{{directUrl}}">Get Shareable Link</div>\n    {{/hideShortLink}}\n</div>\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">\n    {{#popupTitle}}{{popupTitle}}{{/popupTitle}}\n    {{^popupTitle}}Email This Class{{/popupTitle}}\n</h4>\n{{> shared/_email-invite }}\n'},function(e,t,i){"use strict";var s=i(86),n=i(679),a=s.a.extend({url:"/notes",model:n.a,comparator:"update_time",parse:function(e){return s.a.prototype.parse.apply(this,arguments),this.total=e.total,e.notes}});t.a=a},,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,s){i(119);var n=i(21),a=i(511),o=i(13),r=i(724),l=i.n(r),c=n.a.extend({className:"resume-membership-popup",template:l.a,events:function(){return e.extend(n.a.prototype.events.call(this),{"click #resume-membership-id":"clickAndDisable"})},resumeUrl:SS.serverBootstrap.pageData.resumeUrl,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,n.a.prototype.initialize.apply(this,arguments)},clickAndDisable:function(e){e.preventDefault(),s(e.target).addClass("disabled");var t=s(e.target).closest(".content");t.addClass("loading-overlay");var i=this.resumeUrl.split("?")[0],n=Object(a.a)(this.resumeUrl);o.a.ajaxRequest(i,{type:"POST",data:n,success:function(e){window.location.href=e.data.redirect},error:function(e){window.location.href=e.responseJSON.data.redirect},done:function(){t.removeClass("loading-overlay")}})}});t.a=c}).call(this,i(10),i(9))},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<div class="content">\n    <div class="resume-membership-prompt">\n        <h3 class="font-size-3 popup-header">Resume your Premium Membership</h3>\n        <p class="font-size-4 desc">You must resume your Premium Membership to access premium classes.</p>\n        <a class="btn small primary resume-membership" id="resume-membership-id">Resume Premium Membership</a>\n    </div>\n    <a href="javascript:;" class="btn-close ss-icon-close"></a>\n</div>\n\n'},,,,,,,,,,,function(e,t){e.exports='<div class="user-snippet">\n    <h5>\n        <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{fullName}}</a>\n        {{#isTeacher}}\n            {{#isTopTeacher}}\n                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                </span>\n            {{/isTopTeacher}}\n            {{^isTopTeacher}}\n                <span class="teacher-tag">Teacher</span>\n            {{/isTopTeacher}}\n        {{/isTeacher}}\n        {{#isCreator}}\n            <span class="teacher-tag">Creator</span>\n        {{/isCreator}}\n    </h5>\n    {{#headline}}\n        <p class="secondary">{{headline}}</p>\n    {{/headline}}\n</div>\n'},,,function(e,t,i){"use strict";(function(e,s){i(282),i(60),i(83),i(118),i(34);var n=i(8),a=i(13),o=i(795),r=i(529),l=i(796),c=i(797),d=(i(195),n.a.extend({className:"video-player-module",video:null,playbackState:null,playbackSpeed:null,useMP4VideoSources:!0,useM2TSVideoSources:!1,useRTMPVideoSources:!1,captionIntroShown:!1,captionTooltipText:"",controlBarTransitioning:!1,videoHasCaptions:!1,captionsOn:!1,videojs:null,posterImage:null,controlBar:null,currentTimeDisplay:null,durationDisplay:null,progressControl:null,seekBar:null,loadProgressBar:null,playProgressBar:null,dummyDivider:null,playbackSpeedButton:null,fifteenSecondRewindButton:null,skillshareButton:null,playToggle:null,fullscreenToggle:null,learnModeToggle:null,transcriptModeToggle:null,volumeButton:null,preventControlBarHide:{},$videojs:null,$posterImage:null,$controlBar:null,$currentTimeDisplay:null,$durationDisplay:null,$progressControl:null,$seekBar:null,$loadProgressBar:null,$playProgressBar:null,$dummyDivider:null,$playbackSpeedButton:null,$fifteenSecondRewindButton:null,$skillshareButton:null,$playToggle:null,$fullscreenToggle:null,$learnModeToggle:null,$transcriptModeToggle:null,$volumeButton:null,$embedButton:null,$playlistArrowButton:null,initialize:function(t){var i=t||{};e.extend(this,e.pick(i,["video","playbackState","useMP4VideoSources","useM2TSVideoSources"])),e.bindAll(this,"onUnloadHandler","syncCurrentPlaybackSpeed","syncPlaybackSpeedOnVideoLoad"),this.initializePlaybackState(),this.initializePlaybackSpeed(),window.addEventListener("beforeunload",this.onUnloadHandler),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var e=this,t=this.$el.children(".vjs-video:first")[0];this.ensureVideoJsLoaded(function(){window.bc(t),window.videojs(t).ready(function(){e.videojs=this,e.initializeVideoPlayer(),SS.serverBootstrap.showDebugger&&e.initializeVideoPlayerDebugger(),SS.serverBootstrap.forceProgressBar&&e.setPreventControlBarHide("progressBarDebugging",!0)},!0)}),n.a.prototype.afterRender.apply(this,arguments)},ensureVideoJsLoaded:function(e){window.videojs?e():this.trigger("video:player:error","videojs object not found! Video Player could not be initialized!")},initializePlaybackState:function(){e.isNull(this.playbackState)&&(this.playbackState=new o.a),this.listenTo(this.playbackState,"change:state",this.onPlaybackStateChange)},initializePlaybackSpeed:function(){e.isNull(this.playbackSpeed)&&(this.playbackSpeed=new l.a,this.playbackSpeed.fetch()),this.listenTo(this.playbackSpeed,"change:playback_speed",this.syncCurrentPlaybackSpeed)},initializeVideoPlayerDebugger:function(){this.videojs.playerDebugger({logClasses:!0,debugAds:!1})},initializeVideoPlayer:function(){this.initializeVideojs(),this.initializePosterImage(),this.initializeControlBar(),this.initializeCurrentTimeDisplay(),this.initializeDurationDisplay(),this.initializeProgressControl(),this.initializeSeekBar(),this.initializeLoadProgressBar(),this.initializePlayProgressBar(),this.initializeDummyDivider(),this.initializePlaybackSpeedButton(),this.initializeFifteenSecondRewindButton(),this.initializeVolumeButton(),this.initializePlayToggle(),this.initializeFullscreenToggle(),this.listenTo(this,"video:player:ready",this.onReady),this.listenTo(this,"video:player:videoLoaded",this.onVideoLoaded),this.listenTo(this,"video:player:metadataLoaded",this.onMetadataLoaded),this.listenTo(this,"video:player:play",this.onPlay),this.listenTo(this,"video:player:pause",this.onPause),this.listenTo(this,"video:player:ended",this.onEnded),this.listenTo(this,"video:player:windowClosed",this.onWindowClosed),this.listenTo(this,"video:player:playbackSpeedButtonClick",this.onPlaybackSpeedButtonClick),this.listenTo(this,"video:player:fifteenSecondRewindButtonClick",this.onFifteenSecondRewindButtonClick),this.listenTo(this,"video:player:controlBarItemClick",this.onControlBarItemClick),this.listenTo(this,"video:player:fullscreenChange",this.onFullscreenChange),this.listenTo(this,"video:player:mouseEnter",this.onMouseEnterEvent),this.listenTo(this,"video:player:mouseLeave",this.onMouseLeaveEvent),this.listenTo(this,"video:player:keyDown",this.onKeyDownEvent),this.listenTo(this,"video:player:contextMenu",this.onContextMenuEvent),this.listenTo(this,"video:player:transcriptModeToggleClick",this.onTranscriptModeToggleClick),this.trigger("video:player:ready")},initializeVideojs:function(){var e=this;this.videojs.on("play",function(){e.trigger("video:player:play")}),this.videojs.on("pause",function(){e.trigger("video:player:pause")}),this.videojs.on("windowClosed",function(){e.trigger("video:player:windowClosed")}),this.videojs.on("ended",function(){e.trigger("video:player:ended")}),this.videojs.on("fullscreenchange",function(){e.trigger("video:player:fullscreenChange")}),this.videojs.on("timeupdate",function(){e.trigger("video:player:timeUpdate",e.getCurrentTime())}),this.videojs.on("loadedmetadata",function(){e.trigger("video:player:metadataLoaded")}),this.$videojs=s(this.videojs.el()),this.$videojs.on("mouseenter",function(t){e.trigger("video:player:mouseEnter",t)}),this.$videojs.on("mouseleave",function(t){e.trigger("video:player:mouseLeave",t)}),this.$videojs.on("keydown",function(t){e.trigger("video:player:keyDown",t)}),this.$videojs.on("contextmenu",function(t){e.trigger("video:player:contextMenu",t)})},onTranscriptModeToggleClick:function(){this.$transcriptModeToggle&&(this.$transcriptModeToggle.hasClass("vjs-on")?this.disableTranscriptMode(!0):this.enableTranscriptMode(!0))},initializePosterImage:function(){this.posterImage=this.videojs.posterImage,this.$posterImage=s(this.posterImage.el())},initializeControlBar:function(){var e=this;this.controlBar=this.videojs.controlBar,this.$controlBar=s(this.controlBar.el()),this.controlBar.getChild("LiveDisplay").hide(),this.controlBar.getChild("SeekToLive").hide(),this.$controlBar.on(a.a.getTransitionEndEvent(),function(){e.controlBarTransitioning=!1,e.hideControlBarTooltips()})},initializeEmbedButton:function(){var e=this;this.$videojs.append('<div class="video-share-button hover-button btn extra-small black transparent ss-icon-share with-icon">Embed</div>'),this.$embedButton=this.$videojs.find(".video-share-button:first"),this.$embedButton.on("click",function(){e.trigger("video:player:embedButtonClick")})},initializePlaylistCloseButton:function(){var e=this;this.$videojs.append('<div class="playlist-arrow-button hover-button"><svg class="ss-svg-icon playlist-icon"><use xlink:href="#playlist" /></svg><svg class="ss-svg-icon fullscreen-icon"><use xlink:href="#fullscreen" /></svg></div>'),this.$playlistArrowButton=this.$videojs.find(".playlist-arrow-button:first"),this.$playlistArrowButton.on("click",function(){e.trigger("video:player:playlistArrowButtonClick")})},initializeCurrentTimeDisplay:function(){this.currentTimeDisplay=this.controlBar.getChild("currentTimeDisplay"),this.$currentTimeDisplay=s(this.currentTimeDisplay.el())},initializeDurationDisplay:function(){this.durationDisplay=this.controlBar.getChild("durationDisplay"),this.$durationDisplay=s(this.durationDisplay.el())},initializeProgressControl:function(){this.progressControl=this.controlBar.getChild("progressControl"),this.$progressControl=s(this.progressControl.el())},initializeSeekBar:function(){this.seekBar=this.progressControl.getChild("seekBar"),this.$seekBar=s(this.seekBar.el())},initializeLoadProgressBar:function(){this.loadProgressBar=this.seekBar.getChild("loadProgressBar"),this.$loadProgressBar=s(this.loadProgressBar.el())},initializePlayProgressBar:function(){this.playProgressBar=this.seekBar.getChild("playProgressBar"),this.$playProgressBar=s(this.playProgressBar.el())},initializeVolumeButton:function(){this.volumeButton=this.controlBar.getChild("volumePanel"),this.$volumeButton=s(this.volumeButton.el()),this.$volumeButton.attr({rel:"tooltip","data-title":"Volume"}).data("ss-tooltip-delay",150)},initializeDummyDivider:function(){this.dummyDivider=this.controlBar.addChild("TimeDivider"),this.$dummyDivider=s(this.dummyDivider.el()),this.dummyDivider.addClass("vjs-dummy-divider")},initializePlaybackSpeedButton:function(){var e=this;this.playbackSpeedButton=this.controlBar.addChild("Button"),this.$playbackSpeedButton=s(this.playbackSpeedButton.el()),this.playbackSpeedButton.addClass("vjs-play-speed"),this.playbackSpeedButton.on("click",function(){e.trigger("video:player:playbackSpeedButtonClick"),e.trigger("video:player:controlBarItemClick")}),this.$playbackSpeedButton.text(this.playbackSpeed.defaultPlaybackSpeedLabel),new c.a({anchor:this.$playbackSpeedButton,el:s(".playback-speed-popover"),model:this.playbackSpeed,videoPlayer:this,HOVER_OPEN_DELAY:0})},initializePlaybackSpeedTooltip:function(){var e=this.playbackSpeed.getCurrentPlaybackSpeed();if(1!==e.value){var t="Playing at "+e.label;this.$playbackSpeedButton.attr({rel:"tooltip","data-original-title":t,"data-trigger":"manual"}),this.onMouseEnterEvent(),this.setPreventControlBarHide("playbackSpeedTooltip",!0);var i=this;setTimeout(function(){i.$playbackSpeedButton.tooltip("show"),setTimeout(function(){i.$playbackSpeedButton.tooltip("destroy"),i.setPreventControlBarHide("playbackSpeedTooltip",!1),i.onMouseLeaveEvent()},4e3)},1e3)}},onPlaybackSpeedDialogClose:function(){this.setPreventControlBarHide("playbackSpeedDialog",!1),this.trigger("video:player:playbackSpeedDialogClosed")},hideDialogs:function(){r.a.removeCurrentDialogView(),this.setPreventControlBarHide("playbackSpeedDialog",!1)},setPreventControlBarHide:function(e,t){this.preventControlBarHide[e]=t},getPreventControlBarHide:function(){return-1!==e.indexOf(e.values(this.preventControlBarHide),!0)},initializeFifteenSecondRewindButton:function(){var e=this;this.fifteenSecondRewindButton=this.controlBar.addChild("Button"),this.$fifteenSecondRewindButton=s(this.fifteenSecondRewindButton.el()),this.fifteenSecondRewindButton.addClass("vjs-fifteen-second-rewind"),this.fifteenSecondRewindButton.on("click",function(){e.trigger("video:player:fifteenSecondRewindButtonClick"),e.trigger("video:player:controlBarItemClick")}),this.$fifteenSecondRewindButton.attr({rel:"tooltip","aria-label":"15-Second Rewind","data-title":"15-Second Rewind"}).data("ss-tooltip-delay",150)},initializeSkillshareButton:function(){var e=this;this.skillshareButton=this.controlBar.addChild("Button"),this.$skillshareButton=s(this.skillshareButton.el()),this.skillshareButton.addClass("vjs-skillshare-button"),this.skillshareButton.on("click",function(){e.trigger("video:player:skillshareButtonClick"),e.trigger("video:player:controlBarItemClick")})},initializePlayToggle:function(){var e=this;this.playToggle=this.controlBar.getChild("playToggle"),this.$playToggle=s(this.playToggle.el()),this.playToggle.on("click",function(){e.trigger("video:player:playToggleClick"),e.trigger("video:player:controlBarItemClick")}),this.$playToggle.attr({rel:"tooltip","data-title":"Play"}).data("ss-tooltip-delay",150)},initializeFullscreenToggle:function(){var e=this;this.fullscreenToggle=this.controlBar.getChild("fullscreenToggle"),this.$fullscreenToggle=s(this.fullscreenToggle.el()),this.fullscreenToggle.on("click",function(){e.trigger("video:player:fullscreenToggleClick"),e.trigger("video:player:controlBarItemClick")}),this.$fullscreenToggle.attr({rel:"tooltip","data-title":"Full Screen"}).data("ss-tooltip-delay",150)},initializeLearnModeToggle:function(){var e=this;this.learnModeToggle=this.controlBar.addChild("Button"),this.$learnModeToggle=s(this.learnModeToggle.el()),this.$learnModeToggle.addClass("vjs-learn-mode"),this.$learnModeToggle.on("click",function(){e.trigger("video:player:learnModeToggleClick"),e.trigger("video:player:controlBarItemClick")}),this.$learnModeToggle.attr({rel:"tooltip","aria-label":"View All Notes","data-title":"View All Notes"}).data("ss-tooltip-delay",150)},initializeTranscriptModeToggle:function(){var e=this;this.transcriptModeToggle=this.controlBar.addChild("Button"),this.$transcriptModeToggle=s(this.transcriptModeToggle.el()),this.transcriptModeToggle.addClass("vjs-transcript-mode"),this.transcriptModeToggle.on("click",function(){e.trigger("video:player:transcriptModeToggleClick"),e.trigger("video:player:controlBarItemClick")}),this.$transcriptModeToggle.attr({rel:"tooltip","data-title":"View Transcript"}).data("ss-tooltip-delay",150)},initializePlayerSeparator:function(){this.$controlBar.append('<div class="vjs-player-separator"></div>')},blockForWindowClose:function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);},onUnloadHandler:function(){this.trigger("video:player:windowClosed"),this.blockForWindowClose(60)},loadVideo:function(){var e=this;this.videojs.catalog.getVideo(this.video.get("platform_video_id"),function(t,i){if(!t){var s=e.sanitizeVideoAttributes(i);e.videojs.catalog.load(s),e.trigger("video:player:videoLoaded")}})},hideControlBarTooltips:function(){this.$fifteenSecondRewindButton.tooltip("hide"),this.$playToggle.tooltip("hide"),this.$fullscreenToggle.tooltip("hide"),this.$volumeButton.tooltip("hide"),this.$learnModeToggle&&this.$learnModeToggle.tooltip("hide"),this.$transcriptModeToggle&&this.$transcriptModeToggle.tooltip("hide")},setPosterImage:function(e){var t="none";e&&(t='url("'+e+'")'),this.$posterImage.css("cssText","background-image:"+t+" !important"),this.$posterImage.removeClass("vjs-hidden")},updateCaptionSettings:function(){var e="on"===s.cookie("CAPTIONS");this.videojs&&this.videojs.mediainfo&&this.videojs.mediainfo.textTracks&&this.videojs.mediainfo.textTracks.length?(this.videoHasCaptions=!0,this.allowTranscriptMode(),e?this.enableTranscriptMode():this.disableTranscriptMode()):(this.videoHasCaptions=!1,this.disallowTranscriptMode())},updatePlayerComponents:function(){this.updateCaptionSettings(),this.currentTimeDisplay.updateContent(),this.durationDisplay.updateContent()},load:function(){this.videojs.load()},play:function(){this.videojs.play()},pause:function(){this.videojs.pause()},togglePlayPause:function(){this.videojs.paused()||this.videojs.ended()?this.play():this.pause()},stop:function(){this.pause(),this.setCurrentTime(0)},isFullscreen:function(){return this.videojs.isFullscreen()},exitFullscreen:function(){this.videojs.exitFullscreen()},replay:function(){this.stop(),this.play()},getDuration:function(){var t=parseInt(this.videojs.duration(),10);return(e.isNaN(t)||t<0)&&(t=0),t},getCurrentTime:function(){var t=parseInt(this.videojs.currentTime(),10);return(e.isNaN(t)||t<0)&&(t=0),t},setCurrentTime:function(t){var i=parseInt(t,10);(e.isNaN(i)||i<0)&&(i=0),this.videojs.currentTime(i)},setCurrentPlaybackSpeed:function(e){this.playbackSpeed.setCurrentPlaybackSpeed(e)},syncCurrentPlaybackSpeed:function(){var e=this.playbackSpeed.getCurrentPlaybackSpeed();this.videojs&&(this.videojs.playbackRate(e.value),this.$playbackSpeedButton.text(e.label))},updateTooltip:function(e,t){e.attr("title",t).tooltip("fixTitle")},sanitizeVideoSources:function(t){return e.filter(t,this._filterVideoSource,this)},sanitizeVideoAttributes:function(t){return e.isArray(t.rawSources_)&&(t.rawSources_=this.sanitizeVideoSources(t.rawSources_)),e.isArray(t.sources)&&(t.sources=this.sanitizeVideoSources(t.sources)),t},onPlaybackStateChange:function(){this.hideControlBarTooltips()},onReady:function(){this.$videojs.find("[tabindex]").removeAttr("tabindex"),this.$videojs.attr("tabindex",0),this.loadVideo()},onVideoLoaded:function(){this.setPosterImage(this.video.getThumbnailForVideoPlayer()),this.updatePlayerComponents()},onMetadataLoaded:function(){this.playbackSpeed.getCurrentPlaybackSpeed()?this.syncPlaybackSpeedOnVideoLoad():this.playbackSpeed.once("change:playback_speed",this.syncPlaybackSpeedOnVideoLoad),this.updatePlayerComponents()},syncPlaybackSpeedOnVideoLoad:function(){this.syncCurrentPlaybackSpeed(),this.initializePlaybackSpeedTooltip()},allowTranscriptMode:function(){this.$transcriptModeToggle&&(this.$transcriptModeToggle.removeClass("vjs-disabled"),this.$transcriptModeToggle.tooltip("enable"),this.updateTooltip(this.$transcriptModeToggle,"Captions"))},disallowTranscriptMode:function(){this.$transcriptModeToggle&&(this.$transcriptModeToggle.addClass("vjs-disabled"),this.updateTooltip(this.$transcriptModeToggle,"This video has no captions"))},enableTranscriptMode:function(e){this.$transcriptModeToggle&&(this.$transcriptModeToggle.hasClass("vjs-disabled")||(this.$transcriptModeToggle.addClass("vjs-on"),this.$videojs.find(".vjs-text-track-display").css("visibility","visible"),e&&SS.EventTracker.track("Enable Captions","",this.getTrackingParams()),this.captionsOn=!0,"on"!==s.cookie("CAPTIONS")&&s.cookie("CAPTIONS","on",{path:"/"}),this.safariTranscriptMode("showing"),this.updateTooltip(this.$transcriptModeToggle,"Hide Captions")))},safariTranscriptMode:function(e){var t=this.$videojs.find(".vjs-tech")[0];t.textTracks&&t.textTracks.length&&t.textTracks[0].mode&&(t.textTracks[0].mode=e)},getTrackingParams:function(){var e=SS.EventTracker.classDetails();return SS.serverBootstrap.classData&&SS.serverBootstrap.classData.sku&&(e.parentClassSku=SS.serverBootstrap.classData.sku),e},disableTranscriptMode:function(e){this.$transcriptModeToggle&&(this.$transcriptModeToggle.hasClass("vjs-disabled")||(this.$transcriptModeToggle.removeClass("vjs-on"),this.$videojs.find(".vjs-text-track-display").css("visibility","hidden"),e&&SS.EventTracker.track("Disable Captions","",this.getTrackingParams()),this.captionsOn=!1,"off"!==s.cookie("CAPTIONS")&&s.cookie("CAPTIONS","off",{path:"/"}),this.safariTranscriptMode("hidden"),this.updateTooltip(this.$transcriptModeToggle,"Captions")))},hidePlaylistCloseButton:function(){this.$playlistArrowButton.hide()},showPlaylistCloseButton:function(){this.$playlistArrowButton.show()},onPlay:function(){this.updateTooltip(this.$playToggle,"Pause"),this.updateCaptionSettings(),this.playbackState.setPlaying()},onPause:function(){this.updateTooltip(this.$playToggle,"Play"),this.playbackState.setPaused()},onWindowClosed:function(){this.playbackState.setPaused()},onEnded:function(){this.playbackState.setEnded(),this.hideDialogs()},onPlaybackSpeedButtonClick:function(){this.setCurrentPlaybackSpeed(this.playbackSpeed.getNextPlaybackSpeed())},onFifteenSecondRewindButtonClick:function(){this.setCurrentTime(this.getCurrentTime()-15)},onControlBarItemClick:function(){this.hideControlBarTooltips()},onFullscreenChange:function(){this.isFullscreen()?(this.$el.addClass("fullscreen"),this.$fullscreenToggle.addClass("vjs-minimize-video"),this.updateTooltip(this.$fullscreenToggle,"Minimize")):(this.$el.removeClass("fullscreen"),this.$fullscreenToggle.removeClass("vjs-minimize-video"),this.updateTooltip(this.$fullscreenToggle,"Full Screen")),this.hideControlBarTooltips()},onMouseEnterEvent:function(){this.$videojs.removeClass("vjs-user-mouseout"),this.$videojs.removeClass("vjs-user-inactive"),this.$videojs.addClass("vjs-user-active"),this.$videojs.hasClass("has-started")&&(this.controlBarTransitioning=!0),this.hideControlBarTooltips()},onMouseLeaveEvent:function(){this.getPreventControlBarHide()||(this.$videojs.addClass("vjs-user-mouseout"),this.$videojs.addClass("vjs-user-inactive"),this.$videojs.removeClass("vjs-user-active"),this.$videojs.hasClass("has-started")&&(this.controlBarTransitioning=!0),this.hideControlBarTooltips())},onKeyDownEvent:function(e){return 32!==e.which||(e.preventDefault(),this.togglePlayPause(),!1)},onContextMenuEvent:function(e){return!this.useMP4VideoSources||(e.preventDefault(),!1)},_videoSourceIsM2TS:function(t){return e.has(t,"container")&&e.isString(t.container)&&"m2ts"===t.container.toLowerCase()},_videoSourceIsMP4:function(t){return e.has(t,"container")&&e.isString(t.container)&&"mp4"===t.container.toLowerCase()},_videoSourceIsRTMP:function(t){return e.has(t,"app_name")&&e.isString(t.app_name)&&-1!==t.app_name.toLowerCase().indexOf("rtmp://")},_filterVideoSource:function(e){return this._videoSourceIsM2TS(e)?this._videoSourceIsRTMP(e)?this.useRTMPVideoSources&&this.useM2TSVideoSources:this.useM2TSVideoSources:!!this._videoSourceIsMP4(e)&&(this._videoSourceIsRTMP(e)?this.useRTMPVideoSources&&this.useMP4VideoSources:this.useMP4VideoSources)}}));t.a=d}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,s,n){i(560);var a=i(535),o=i(740),r=e.Model.extend({playbackStates:{PAUSED:0,PLAYING:1,ENDED:3},constructor:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.unit=i.unit,this.completion=new a.a,this.notes=new o.a([],{session:this}),e.Model.apply(this,arguments)},initialize:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fetchNotes&&this.notes.fetchSet()},parse:function(e){var t=s.clone(e);return this.completion.set({target_type:"Session",target_id:t.id,parent_id:t.parent_id}),t.sessionCompletion&&(this.completion.set(t.sessionCompletion,{parse:!0}),this.completion.set({completed:!0})),t},setVideoId:function(e){if(this.get("videoId"))return e();var t=this;n.ajax({url:"/sessions/"+this.get("id")+"/video",dataType:"json",success:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.video_hashed_id&&t.set("videoId",i.video_hashed_id),e()},error:function(){e()}})},isFirstOverall:function(){return 0===this.get("overallRank")},isFirstInUnit:function(){return 0===this.get("rank")},isCompleted:function(){return this.completion.get("completed")},getThumbnailForVideoPlayer:function(){var e,t=this.get("thumbnails");if(!t)return null;if(s.has(t,"large"))e=t.large;else if(s.has(t,"huge"))e=t.huge;else if(s.has(t,"medium"))e=t.medium;else{if(!s.has(t,"small"))return null;e=t.small}return e},setPaused:function(){this.set("playbackState",this.playbackStates.PAUSED)},setPlaying:function(){this.set("playbackState",this.playbackStates.PLAYING)},setEnded:function(){this.set("playbackState",this.playbackStates.ENDED)},isPaused:function(){return this.get("playbackState")===this.playbackStates.PAUSED},isPlaying:function(){return this.get("playbackState")===this.playbackStates.PLAYING},isEnded:function(){return this.get("playbackState")===this.playbackStates.ENDED}});t.a=r}).call(this,i(15),i(10),i(9))},function(e,t,i){"use strict";(function(e){var s=i(708),n=i(576),a=s.a.extend({session:null,initialize:function(t,i){e.extend(this,e.pick(i,["session"])),this.initializeSession(),s.a.prototype.initialize.apply(this,arguments)},initializeSession:function(){e.isNull(this.session)&&(this.session=n.a),this.listenTo(this,"set",this.onSet),this.listenTo(this,"update",this.onUpdate)},url:function(){return"/sessions/"+this.session.get("id")+"/notesData"},setSessionOnModels:function(){e.each(this.models,function(e){e.setSession(this.session)},this)},onSet:function(){this.setSessionOnModels()},onUpdate:function(){this.setSessionOnModels()}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){i(183),i(58),i(560);var n=e.Model.extend({urlRoot:"/raw-videos",getThumbnailForVideoPlayer:function(){var e,t=this.get("thumbnails");if(!t)return null;if(s.has(t,"large"))e=t.large;else if(s.has(t,"huge"))e=t.huge;else if(s.has(t,"medium"))e=t.medium;else{if(!s.has(t,"small"))return null;e=t.small}return e},toJSON:function(){var e=s.clone(this.attributes);return e=s.pick(e,"id","external_storage_key","name","processing_state")},parse:function(e){var t=s.pick(e,"id","external_storage_key","name","processing_state","image_thumbnail","platform_video_id");return t.title=this.createTitle(t.name),t},createTitle:function(e){return e?e.charAt(0).toUpperCase()+e.slice(1).replace(/[_\-]/gi," ").replace(/\.(.*)/gi,""):e}});t.a=n}).call(this,i(15),i(10))},,function(e,t){e.exports='<div class="empty-projects">\n    <svg class="ss-svg-icon"><use xlink:href="#project" /></svg>\n        {{#canCreateProject}}\n            <h4 class="full-copy premium-copy">Add your class project here</h4>\n        {{/canCreateProject}}\n        {{^canCreateProject}}\n            <h4 class="full-copy free-copy">Upgrade to Premium to submit a class project</h4>\n        {{/canCreateProject}}\n    <h4 class="mobile-copy">Upload your project from tablet or desktop</h4>\n    <div class="empty-projects-buttons">\n        {{^hideViewDetails}}\n            <a href="{{projectGuideUrl}}" target="_blank" class="button alt view-details-btn">View Details</a>\n        {{/hideViewDetails}}\n        {{#canCreateProject}}\n            <a href="{{createProjectUrl}}" class="button create-project-btn">Create Project</a>\n        {{/canCreateProject}}\n        {{^canCreateProject}}\n            <a href="{{checkoutUrl}}" class="button go-premium-btn">Go Premium</a>\n        {{/canCreateProject}}\n    </div>\n</div>'},function(e,t){e.exports='\x3c!-- Share Links --\x3e\n<div class="share-links">\n    <a class="share-item share-fb ss-icon-facebook-alt" href="javascript:;">Share<span class="count-wrapper round-all hidden"><span class="count-wrapper-arrow"></span><span class="count"></span></span></a>\n    <a class="share-item share-twitter ss-icon-twitter" href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}">Tweet</a>\n    {{#showEmail}}\n        <a class="share-item share-email ss-icon-envelope" href="javascript:;">Email</a>\n    {{/showEmail}}\n    {{#showEmbedButton}}<a class="share-item share-embed video-embed ss-icon-embed" href="javascript:;">Embed</a>{{/showEmbedButton}}\n</div>\n'},function(e,t,i){"use strict";(function(e){var s=i(739),n=e.Collection.extend({model:s.a,comparator:function(e){return e.get("rank")},initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.unit=t.unit}});t.a=n}).call(this,i(15))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,s){var n=i(541),a=e.Model.extend({defaults:{sourceType:"Classes"},constructor:function(){this.userWatchlist=new n.a,e.Model.prototype.constructor.apply(this,arguments)},parse:function(e){this.content=e.content,delete e.content;var t=e.sku;return!e.sku&&e.parentClass&&(t=e.parentClass.sku),this.userWatchlist.set({parent_sku:t,username:SS.serverBootstrap.userData.username}),e.userWatchlist&&e.userWatchlist.id&&this.userWatchlist.set({isWatching:!0,id:e.userWatchlist.id}),e},sync:function(t,i,n){return n.data=n.data||{},s.extend(n.data,{sku:this.get("sku"),classId:this.id}),e.sync.apply(this,arguments)},fetchHomeContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.data=e.data||{},e.url="/classes/view",e.data.id=this.id,this.fetch(e)},fetchClassroom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.url="/classroom",this.fetch(e)},fetchSyllabus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.url="/projectGuide",this.fetch(e)}});t.a=a}).call(this,i(15),i(10))},,,,,function(e,t,i){"use strict";(function(e,s,n){var a=i(595),o=e.Collection.extend({model:a.a,page:0,loadMore:!0,path:null,initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Collection.prototype.initialize.apply(this,arguments),this.path=i.path,this.params=i.params||{}},url:function(){var e=this.path,t=s.param(this.params);return""!==t&&(e+="?"+t),e},parse:function(e){return this.loadMoreReviews=e.loadMoreReviews,e.reviews},fetch:function(t){var i=this,s=t||{},a=n.extend({},s,{success:function(e,t){i.trigger("update",t)}});return a.data=n.extend({},a.data,{}),e.Collection.prototype.fetch.call(this,a)}});t.a=o}).call(this,i(15),i(9),i(10))},function(e,t,i){"use strict";(function(e){i(34);var s=i(8),n=i(595),a=i(44),o=i(777),r=i.n(o),l=s.a.extend({isFormDisabled:!1,className:"review-edit-form",template:r.a,templateData:function(){return e.extend({},this.model.attributes,{likeStyle:this.model.attributes.recommended?"positive":"negative",dislikeStyle:this.model.attributes.recommended?"negative":"negative-admin"})},events:{"click .save-button":"onSave","click .cancel-button":"onCancel","click .like-button":"onLike","click .dislike-button":"onDislike"},bindings:{".body-content":"testimonial"},initialize:function(t){e.extend(this,e.pick(t,["initialModel"])),e.bindAll(this,"onSaveSuccess","onSaveFail"),this.model=new n.a(this.initialModel.attributes),s.a.prototype.initialize.apply(this,arguments),this.model.on("change:recommended",this.render,this)},afterRender:function(){var e=this.$el.find(".body-content"),t=e.val();this.$saveButton=this.$el.find(".save-button"),e.focus().val("").val(t),this.stickit(),a.a.initInputsAndSelectMenus(this.$el),s.a.prototype.afterRender.apply(this,arguments)},onSave:function(){if(this.isFormDisabled)return!1;this.disableSaveButton(),this.model.save().success(this.onSaveSuccess).fail(this.onSaveFail)},onSaveSuccess:function(e){this.initialModel.set(e)},onSaveFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error editing your review. Please try again.",type:"error"}),this.enableSaveButton()},onCancel:function(){this.trigger("cancel")},disableSaveButton:function(){this.toggleDisabledClass(),this.updateIsFormDisabled()},enableSaveButton:function(){this.toggleDisabledClass(),this.updateIsFormDisabled()},toggleDisabledClass:function(){this.$saveButton.toggleClass("disabled")},updateIsFormDisabled:function(){this.isFormDisabled=this.$saveButton.hasClass("disabled")},onLike:function(){this.model.set({recommended:1})},onDislike:function(){this.model.set({recommended:0})}});t.a=l}).call(this,i(10))},function(e,t){e.exports='<div class="col-left left">\n    <div class="like-button {{likeStyle}} icon-like round-all"></div>\n    <div class="dislike-button {{dislikeStyle}} icon-dislike round-all"></div>\n</div>\n<div class="col-right">\n  <textarea class="body-content">{{testimonial}}</textarea>\n\n  {{#reviewer}}\n      {{> partials/_user-snippet}}\n  {{/reviewer}}\n\n  {{#canModify}}\n        <div class="toolbar">\n            <a href="javascript:;" class="btn small primary save-button">Save</a>\n            <span class="middot">&middot;</span>\n            <a href="javascript:;" class="cancel-button secondary no-underline">Cancel</a>\n        </div>\n  {{/canModify}}\n</div>\n'},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content">\n        <div class="text">\n            {{#message}}\n                <div class="message"><strong>{{message}}</strong></div>\n            {{/message}}\n        </div>\n        <div>\n            <div class="btn red small confirmation-button action-button">{{confirmButtonText}}</div>\n            <div class="btn bordered small cancel-button action-button">Cancel</div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="review-content">\n    <div class="col-left left">\n        {{#reviewer}}\n            {{> partials/_user-snippet-reviews}}\n        {{/reviewer}}\n    </div>\n    <div class="col-right">\n        <div class="review-feedback">\n          <ul class="expectations">\n            <li data-value="4">This class <span>exceeded</span> my expectations!</li>\n            <li data-value="3"><span>Yes</span>, this class met my expectations.</li>\n            <li data-value="2">This class met my expectations <span>somewhat</span>.</li>\n            <li data-value="1">Did this class meet my expectations? <span>Not really</span>.</li>\n          </ul>\n          <ul class="level">\n            <li class="icon">\n              <div class="level-indicator">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n            </li>\n            <li data-value="1">I recommend it for <span>Beginner Levels.</span></li>\n            <li data-value="2">I recommend it for <span>Intermediate Levels.</span></li>\n            <li data-value="3">I recommend it for <span>Advanced Levels.</span></li>\n            <li data-value="4">I recommend it for <span>All Levels.</span></li>\n          </ul>\n        </div>\n        {{#testimonial}}\n            <div class="body-content">\n                {{testimonial}}\n            </div>\n        {{/testimonial}}\n\n        <div class="toolbar">\n            {{#canModify}}\n                <a href="javascript:;" class="leave-a-review-popup-btn alternate">Edit</a>\n                <span class="middot">&middot;</span>\n                <a href="javascript:;" class="review-delete alternate">Delete</a>\n                {{#canFlag}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="review-flag alternate">Flag</a>\n                {{/canFlag}}\n            {{/canModify}}\n            <span class="secondary-type review-timestamp"></span>\n        </div>\n    </div>\n</div>\n{{#canModify}}\n    <div class="edit-form"></div>\n{{/canModify}}\n'},function(e,t){e.exports='<div class="user-snippet">\n    <div class="avatar"><img src="{{avatar}}" alt="{{fullName}}" /></div>\n    <div class="user-info">\n      <h5>\n        <a href="{{url}}" class="link-main" data-ss-username="{{username}}">{{fullName}}</a>\n        {{#isTeacher}}\n            {{#isTopTeacher}}\n                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                </span>\n            {{/isTopTeacher}}\n            {{^isTopTeacher}}\n                <span class="teacher-tag">Teacher</span>\n            {{/isTopTeacher}}\n        {{/isTeacher}}\n        {{#isCreator}}\n            <span class="teacher-tag">Creator</span>\n        {{/isCreator}}\n      </h5>\n      {{#headline}}\n          <p class="secondary">{{headline}}</p>\n      {{/headline}}\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s,n){var a=i(595),o=e.Collection.extend({model:a.a,page:0,loadMore:!0,path:null,initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.Collection.prototype.initialize.apply(this,arguments),this.path=i.path,this.params=i.params||{}},url:function(){var e=this.path,t=s.param(this.params);return""!==t&&(e+="?"+t),e},parse:function(e){return this.loadMoreArchiveReviews=e.loadMoreArchiveReviews,e.archiveReviews},fetch:function(t){var i=this,s=t||{},a=n.extend({},s,{success:function(e,t){i.trigger("update",t)}});return a.data=n.extend({},a.data,{}),e.Collection.prototype.fetch.call(this,a)}});t.a=o}).call(this,i(15),i(9),i(10))},function(e,t){e.exports='<div class="review">\n    <div class="review-content">\n        <div class="col-left">\n            <div class="{{ iconStyle }} round-all"></div>\n            {{#reviewer}}\n                {{> partials/_user-snippet}}\n            {{/reviewer}}\n        </div>\n        <div class="col-right">\n            {{#testimonial}}\n                <blockquote class="body-content">\n                    {{testimonial}}\n                </blockquote>\n                <div class="toolbar">\n                    {{#canModify}}\n                        <a href="javascript:;" class="review-delete alternate">Delete</a>\n                    {{/canModify}}\n\n                    <span class="secondary-type review-timestamp"></span>\n                </div>\n            {{/testimonial}}\n        </div>\n    </div>\n</div>\n'},,,,,,function(e,t,i){"use strict";(function(e,s){var n=i(789),a=i(703),o=n.a.extend({model:a.a,url:function(){var t=this.path,i=e.param(this.params);return""!==i&&(t+="?"+i),t},initialize:function(e,t){s.bindAll(this,"fetchMore"),this.sortMethod=t.sortMethod,this.loadMore=!0,this.params=t.params||{},this.path=t.path||"/discussions/community",this.page=0},sync:function(){return n.a.prototype.sync.apply(this,arguments)},fetchMore:function(e){var t=this,i=s.extend({},e,{update:!0,remove:!1,success:function(e,i){t.trigger("update",i)}});return this.page=this.page+1,i.data=s.extend({},i.data,{offset:this.length,sort_method:this.sortMethod,page:this.page}),this.fetch(i)}});t.a=o}).call(this,i(9),i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(558),a=e.Collection.extend({model:n.a,url:function(){return"/discussions/index"},parse:function(e){return this.content=e.content,this.totalThreads=parseInt(e.totalNumDiscussions,10),this.loadMore=e.loadMore,e.discussions.lastFetchTime=(new Date).getTime(),e.discussions},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this,n=s.extend({},t,{success:function(e,t){i.trigger("update",t)}});return n.data=s.extend({},n.data,{sort_method:this.sortMethod}),e.Collection.prototype.fetch.call(this,n)}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){i(183),i(283);var n=i(791),a=e.View.extend({followLink:null,events:{"click .btn-follow":"submit","hover .btn-follow":"hover"},initialize:function(){s.bindAll(this,"onSuccess","update"),this.followLink=this.$(".btn-follow"),this.followableId="f"+this.$('input[name="id"]').val(),this.followEndpoint=this.$('input[name="follow-endpoint"]').val(),this.unfollowEndpoint=this.$('input[name="unfollow-endpoint"]').val(),this.model=new e.Model,this.model.url=this.$el.attr("action"),this.model.set("isFollowing",this.$el.hasClass("following")),n.a.remember(this,this.followableId)},submit:function(){this.model.fetch({data:this.$el.serialize()}).done(this.onSuccess)},onSuccess:function(e){if(301===Number(e)){var t=window.location;window.location.replace(t.protocol+"//"+t.hostname+"/login")}else n.a.notify(this.followableId)},update:function(){var e,t,i=!this.model.get("isFollowing");this.model.set("isFollowing",i),this.$el.toggleClass("following"),i?(this.$el.attr("action",this.unfollowEndpoint),this.model.url=this.unfollowEndpoint,t="Click Unfollow",e="Unfollow"):(this.$el.attr("action",this.followEndpoint),this.model.url=this.followEndpoint,t="Click Follow",e="Follow"),this.followLink.attr("ga-action",t),this.$(".btn-follow").html(e)},hover:function(){}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var i={liveItems:[],init:function(){return this},remember:function(e,t){var i=this.liveItems[t];i?i.push(e):this.liveItems[t]=new Array(e)},notify:function(t){var i=this.liveItems[t];e.each(i,function(e){e.update()})}};t.a=i.init()}).call(this,i(10))},,,,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({constants:{PAUSED:0,PLAYING:1,ENDED:2},setPaused:function(){this.set("state",this.constants.PAUSED)},setPlaying:function(){this.set("state",this.constants.PLAYING)},setEnded:function(){this.set("state",this.constants.ENDED)},isPaused:function(){return this.get("state")===this.constants.PAUSED},isPlaying:function(){return this.get("state")===this.constants.PLAYING},isEnded:function(){return this.get("state")===this.constants.ENDED}});t.a=i}).call(this,i(15))},function(e,t,i){"use strict";(function(e,s){i(118);var n=e.Model.extend({urlRoot:"/video-settings/playback-speed",currentPlaybackSpeed:null,playbackSpeeds:[{label:"0.5x",value:.5},{label:"1x",value:1},{label:"1.25x",value:1.25},{label:"1.5x",value:1.5},{label:"2x",value:2}],constants:{HALF:0,NORMAL:1,TIMEANDAQUARTER:2,TIMEANDAHALF:3,DOUBLE:4},initialize:function(){e.Model.prototype.initialize.apply(this,arguments),SS.currentUser.isGuest()&&(this.set("playback_speed",this.constants.NORMAL),this.currentPlaybackSpeed=this.playbackSpeeds[this.constants.NORMAL])},getCurrentPlaybackSpeed:function(){return this.currentPlaybackSpeed||(this.currentPlaybackSpeed=this.playbackSpeeds[this.get("playback_speed")]),this.currentPlaybackSpeed},setCurrentPlaybackSpeed:function(e){this.currentPlaybackSpeed=e,this.set("playback_speed",this.getCurrentPlaybackSpeedIndex()),this.save(),this.trigger("video:player:playbackSpeedChanged"),SS.EventTracker.track("Changed Video Playback Speed",null,{playbackSpeed:e.value})},setCurrentPlaybackSpeedByIndex:function(e){this.setCurrentPlaybackSpeed(this.playbackSpeeds[e])},getNextPlaybackSpeed:function(){var e=this.getCurrentPlaybackSpeedIndex(),t=s.isNull(e)?0:e+1;return t>this.playbackSpeeds.length-1&&(t=0),this.playbackSpeeds[t]},getCurrentPlaybackSpeedIndex:function(){return s.indexOf(this.playbackSpeeds,this.currentPlaybackSpeed)},parse:function(e){return s.pick(e,"playback_speed")}});t.a=n}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(35),a=n.a.extend({showOnHover:!0,autoPosition:!1,placement:"top",events:{"click li":"onPlaybackSpeedClick"},initialize:function(t){n.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["model","videoPlayer"])),e.bindAll(this,"updateActive","onOpen","onClose"),this.$playbackSpeedList=this.$("ul"),this.listenTo(this.model,"change:playback_speed",this.updateActive),this.listenTo(this,"popover:open",this.onOpen),this.listenTo(this,"popover:close",this.onClose)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.updateActive()},onPlaybackSpeedClick:function(e){var t=e.currentTarget,i=s(t).index();this.model.setCurrentPlaybackSpeedByIndex(i)},toggleActive:function(e){this.$("li").removeClass("active"),s(e).addClass("active")},updateActive:function(){var e=this.$playbackSpeedList.children().toArray()[this.model.getCurrentPlaybackSpeedIndex()];this.toggleActive(e)},onOpen:function(){this.videoPlayer.setPreventControlBarHide("playbackSpeedPopover",!0)},onClose:function(){this.videoPlayer.setPreventControlBarHide("playbackSpeedPopover",!1)}});t.a=a}).call(this,i(10),i(9))},function(e,t,i){"use strict";i(183);var s=i(741),n={sessionToVideo:function(e){var t=e.get("brightcove_id");return t||(t=(e.get("videoId")||"").replace("bc:","")),new s.a({platform_video_id:t,thumbnails:e.get("thumbnails")})}};t.a=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){i(131);var s=i(8),n=i(529),a=i(565),o=s.a.extend({placement:"top",placementPadding:10,anchor:null,template:null,dialogId:null,openOnRender:!0,events:{"click .close-button":"onClose"},initialize:function(t){if(e.extend(this,e.pick(t,["anchor","placement","dialogId","openOnRender"])),!this.anchor)throw new Error("An anchor is required to create a Dialog");if(0===this.anchor.length)throw new Error("The anchor element was not found.");if(!this.anchor.is(":visible"))throw new Error("The anchor element is not visible");if(!this.dialogId)throw new Error("A dialogId is required to create a Dialog");if(!this.template)throw new Error("A template is required to create a Dialog");this.$el.addClass("dialog "+this.placement),this.on("dialog:close",this.onClose),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.$el.appendTo("body"),this.position(),this.positionArrow(),this.openOnRender&&this.open()},position:function(){var e=this.anchor.offset(),t=this.$el.outerHeight(),i=this.$el.outerWidth(),s=this.anchor.outerHeight(),n=this.anchor.outerWidth(),a=0,o=0;switch(this.placement){case"top":a=e.top-t-this.placementPadding,o=e.left+(n/2-i/2);break;case"bottom":a=e.top+s+this.placementPadding,o=e.left+(n/2-i/2);break;case"right":a=e.top-(t/2-s/2),o=e.left+n+this.placementPadding;break;case"left":a=e.top-(t/2-s/2),o=e.left-i-this.placementPadding}this.$el.css({top:a,left:o})},positionArrow:function(){if(this.arrowPlacement&&"left"===this.arrowPlacement){var e=parseInt(this.$el.css("left"),10)+118;this.$el.css("left",e+"px")}},open:function(e){e&&(this.position(),this.positionArrow()),this.$el.show(),this.trigger("dialog:open")},close:function(){n.a.removeCurrentDialogView()},onClose:function(){new a.a({dialog_id:this.dialogId,user_uid:SS.currentUser.id}).save(),n.a.addViewedDialogId(this.dialogId),this.close(),this.trigger("dialog:closed")}});t.a=o}).call(this,i(10))},,,,function(e,t,i){"use strict";(function(e){var s=i(843),n=i(723),a=i(61),o=i(511);t.a={initializePremiumPopupOnClick:function(e){if(this._shouldShowPremiumPopup())return e.preventDefault(),this.initializePremiumPopup()},initializePremiumPopupOnRender:function(){if(this._shouldShowPremiumPopup(!0))return this.initializePremiumPopup()},initializePremiumPopup:function(){return this._userIsPaused()?new n.a:new s.a({model:new e.Model(SS.serverBootstrap.premiumUpgradeData)})},_userIsPaused:function(){return Object(a.a)(SS,"serverBootstrap","pageData","resumeUrl")},_shouldShowPremiumPopup:function(e){var t=this._userIsPaused()?Object(o.a)()["resume-membership-popup"]:Object(o.a)()["premium-upgrade-popup"],i=!e||t,s=SS.currentUser.isMember()&&!SS.currentUser.isPremiumMember(),n=Object(a.a)(SS,"serverBootstrap","premiumUpgradeData","isFree");return s&&!n&&i}}}).call(this,i(15))},function(e,t,i){"use strict";(function(e){var s=i(21),n=i(844),a=i.n(n),o=s.a.extend({className:"premium-upgrade-popup-view",template:a.a,templateData:function(){return this.model.attributes},events:function(){return e.extend(s.a.prototype.events.call(this),{"click .actions a":"handleClosePopupEvent"})},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments);var e={is_premium:"true"===SS.currentUser.isPremiumMember(),is_user_signed_in:"true"===!SS.currentUser.isGuest(),can_get_free_trial:this.model.get("canGetFreeTrial"),canGetPromoFreeTrial:this.model.get("canGetPromoFreeTrial")};SS.EventTracker.track("Viewed Become Premium Enrollment Popup",{},e)},handleClosePopupEvent:function(e){e.preventDefault(),this.closePopup()}});t.a=o}).call(this,i(10))},function(e,t){e.exports='<div class="cta-heading">\n    <div class="header">\n        <div class="premium-upgrade-icon"></div>\n        <h1 class="popup-header-text">{{headerText}}</h1>\n        <p class="popup-header-sub-text">{{subheaderText}}</p>\n        <a href="javascript:;" class="btn-close ss-icon-close"></a>\n    </div>\n</div>\n<div class="cta-info">\n    <a href="{{checkoutUrl}}" class="btn primary large full-width">{{ctaButtonText}}</a>\n</div>\n'},,function(e,t,i){"use strict";(function(e){var s=i(8),n=i(561),a=i.n(n),o=i(743),r=i.n(o),l=i(526),c=i.n(l),d=i(562),h=i(509),u=s.a.extend({setElementToTemplate:!0,template:function(){return this.model.get("id")?a.a:r.a},templateData:function(){return e.extend({},this.model.attributes,{clientRendered:!0})},templatePartials:{"partials/_user-information-small":c.a},initialize:function(){e.bindAll(this,"onChangeNumLikes"),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){if(h.a.initUserPopovers(this),!SS.currentUser.isGuest()){var t={voteable_id:this.model.get("id"),voteable_type:"Project",trackingParams:{via:"project-item"}};0!==this.model.get("voteId")&&e.extend(t,{voteId:this.model.get("voteId")}),new d.a({container:this.$(".like-btn-wrapper"),modelData:t,parentModel:this.model,initialState:this.model.get("hasVoted")}),this.likeCounter=this.$(".num-likes"),this.model.on("change:numLikes",this.onChangeNumLikes)}s.a.prototype.afterRender.apply(this,arguments)},onChangeNumLikes:function(){var e="";1===this.model.get("numLikes")?e=this.model.get("numLikes")+" like":this.model.get("numLikes")>1&&(e=this.model.get("numLikes")+" likes"),this.likeCounter.text(e)}});t.a=u}).call(this,i(10))},,,function(e,t,i){"use strict";(function(e,s){i(282),i(184);var n=i(1142),a=e.Collection.extend({model:n.a,comparator:function(e){return e.get("rank")},getFlattenedSessions:function(){return this.flattenedSessions?this.flattenedSessions:(this.flattenedSessions=s.flatten(this.map(function(e){return e.sessions.models})),this.flattenedSessions)},getSessionById:function(e){return s.filter(this.getFlattenedSessions(),function(t){return t.get("id")===e})[0]},getSessionAtIndex:function(e){return this.getFlattenedSessions()[e]},nextSession:function(e){var t=e.get("overallRank");return this.getSessionAtIndex(t+1)},previousSession:function(e){var t=e.get("overallRank");return this.getSessionAtIndex(t-1)}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({timestamp:null,currentlySaving:!1,defaults:{timeWatched:0},url:function(){return"/sessions/"+this.get("session_id")+"/trackTime"},initialize:function(e,t){var s=i.result(t,"interval")||15;this.interval=1e3*s,this.on("change:timeWatched",this._onTimeChange,this),i.bindAll(this,"_trackTime","_resetCurrentlySaving")},parse:function(){return{}},toJSON:function(){return i.pick(this.attributes,"elapsed","time")},start:function(){this.timestamp=(new Date).getTime()},stop:function(e){this.markProgress(e),this._trackTime(),this.timestamp=null},markProgress:function(e){if(this.timestamp){var t=(new Date).getTime(),i=t-this.timestamp;this.timestamp=t,this.set("time",Math.floor(e)),i>1e3||this.incrementTimeWatched(i)}},incrementTimeWatched:function(e,t){this.set("timeWatched",this.get("timeWatched")+e,t)},_onTimeChange:function(e,t){t>=this.interval&&this._trackTime()},_trackTime:function(){var e=this,t=Math.floor(this.get("timeWatched")/1e3),i=1e3*t;if(!(t<=0)){if(this.currentlySaving)return this.currentlySaving.always(this._trackTime);this.incrementTimeWatched(-i),this.currentlySaving=this.save({elapsed:t}).always(function(){e.currentlySaving=!1}).error(function(){e.incrementTimeWatched(i,{silent:!0})})}},_resetCurrentlySaving:function(){this.currentlySaving=!1}});t.a=s}).call(this,i(15),i(10))},function(e,t){e.exports='\x3c!-- Student Project --\x3e\n{{#userProject}}\n    {{#hasProject}}\n        <div class="student-project{{#columnSize}} col-{{columnSize}}{{/columnSize}}">\n                <div class="project-column">\n                    <a href="{{url}}" class="image-link section-navigation">\n                        <div class="project-information">\n                            <span class="count num-likes ss-icon-heart">{{numLikes}}</span>\n                        </div>\n                        <div class="background-image-holder" style="background-image: url({{projectImage}})"></div>\n                    </a>\n                    <a class="edit-project section-navigation" href="{{editUrl}}"><strong>Edit Your Project</strong></a>\n                </div>\n        </div>\n    {{/hasProject}}\n{{/userProject}}\n'},function(e,t){e.exports='<div class="author-image user-img-75 left" data-ss-username="{{username}}" data-ss-placement="bottom">\n    <a href="{{profileUrl}}"{{#openInNew}} target="_blank"{{/openInNew}}><img src="{{image}}" /></a>\n</div>\n<div class="author-detail left">\n    <h4 data-ss-username="{{username}}" {{#teacherHoverCard}}data-ss-teacher-card="{{teacherHoverCard}}"{{/teacherHoverCard}} data-ss-placement="bottom"><a href="{{profileUrl}}" class="link-main no-bold ellipsis"{{#openInNew}} target="_blank"{{/openInNew}}>{{fullName}}</a></h4>\n    <p class="author-headline ellipsis">{{headline}}</p>\n    {{^isAuthor}}\n        <div class="follow-button-wrapper"></div>\n    {{/isAuthor}}\n</div>\n'},,,,,,,,,,function(e,t,i){"use strict";var s=i(81),n=i(25),a=i(673),o=i(782),r=i.n(o),l=i(735),c=i.n(l),d=i(45),h=i.n(d),u=n.a.extend({tagName:"div",className:"archive-review",initialize:function(){this.listenTo(this.model,"change",this.render),n.a.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.attributes,t={"partials/_user-snippet":c.a},i=h.a.render(r.a,e,t);this.$el.html(i)},afterRender:function(){var e=new a.a({message:"Delete this review?",confirmButtonText:"Delete",anchor:this.$(".review-delete")});this.listenTo(e,"confirm",this.destroy)},destroy:function(){this.model.destroy()}}),p=s.a.extend({itemView:u});t.a=p},function(e,t,i){"use strict";var s=i(81),n=(i(34),i(595)),a=i(25),o=i(776),r=i(673),l=i(528),c=i(779),d=i.n(c),h=i(780),u=i.n(h),p=i(45),v=i.n(p),m=a.a.extend({tagName:"div",className:"review",events:{"click .review-edit":"onEdit"},initialize:function(){this.levelSelectors=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.listenTo(this.model,"change",this.render),a.a.prototype.initialize.apply(this,arguments)},render:function(){var e=this.model.attributes,t={"partials/_user-snippet-reviews":u.a},i=v.a.render(d.a,e,t);this.$el.html(i)},afterRender:function(){this.setViewOptions(),this.setTimeAgo();var e=new r.a({message:"Delete this review?",confirmButtonText:"Delete",anchor:this.$(".review-delete")});this.listenTo(e,"confirm",this.destroy);var t=new r.a({message:"Flag this review as low quality? It will no longer show up across the site.",confirmButtonText:"Flag",anchor:this.$(".review-flag")});this.listenTo(t,"confirm",this.flag)},onEdit:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.$el.find(".content").hide();var t=new o.a({initialModel:this.model,container:this.$el.find(".edit-form")});this.listenTo(t,"cancel",this.update)},destroy:function(){this.model.destroy({dataType:"text",success:function(){SS.events.trigger("alerts:create",{title:"Your review has been deleted.",type:"success"})}})},flag:function(){this.model.save({flag_status:n.a.FLAG_STATUS.LOW_QUALITY})},setViewOptions:function(){this.$(".expectations li, .level li").removeClass("active"),this.$(".expectations li[data-value='".concat(this.model.attributes.overallRating,"']")).addClass("active"),this.$(".level li[data-value='".concat(this.model.attributes.levelingRating,"']")).addClass("active"),this.$(".level-indicator").addClass(this.levelSelectors[this.model.attributes.levelingRating])},setTimeAgo:function(){var e=this.model.get("createTime"),t="Posted ".concat(l.a.getTimeAgo(e));this.$(".review-timestamp").text(t)}}),f=s.a.extend({itemView:m});t.a=f},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e){var i=e.Model.extend({urlRoot:"/abuseFlags/create"});t.a=i}).call(this,i(15))},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({constructor:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.extend(this,i.pick(s,"Collection","urlRoot")),e.Model.apply(this,arguments),this.collection||(this.collection=this._newCollection())},Collection:function(){throw new Error("Override this in a subclass.")},parse:function(t){var s=t.collection;return this.collection=this._newCollection(s),delete t.collection,t.collection_cid=this.collection.cid||i.uniqueId("collection_"),e.Model.prototype.parse.apply(this,arguments)},_newCollection:function(e,t){return new this.Collection(e,t)}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e){var s=i(41),n=i(532),a={initializeLikeButton:function(){this.$noteStatLikes=this.$(".note-stat-likes");var t={voteable_id:this.model.get("id"),voteable_type:"Note"},i=this.model.get("userVote"),a=s.a.states.INACTIVE;i&&1===i.value&&(e.extend(t,{voteId:this.model.get("userVote").id}),a=s.a.states.ACTIVE),this.likeButtonView=new n.a({container:this.$(".note-like"),parentModel:this.model,modelData:t,type:"label",styles:"alternate",initialState:a}),this.listenTo(this.model,"change:numLikes",this.onLikeUpdate)},onLikeUpdate:function(e,t){var i=this.model.get("userVote");i&&1===i.value?this.$noteStatLikes.addClass("liked"):this.$noteStatLikes.removeClass("liked"),t<1?this.$noteStatLikes.hide():this.$noteStatLikes.html(t).show()}};t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(679),a=i(44),o=i(1148),r=i.n(o),l=s.a.extend({isFormEnabled:!0,className:"note-edit-form",template:r.a,templateData:function(){return this.model.attributes},events:{"click .post-button":"onPostButton","click .cancel-button":"onCancelButton"},bindings:{".note-body":"body",".note-privacy-status":"privacy_status"},initialize:function(t){e.extend(this,e.pick(t,["initialModel"])),e.bindAll(this,"onPostSuccess","onPostFail"),this.model=new n.a(this.initialModel.attributes),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$textarea=this.$(".note-body"),this.$postButton=this.$(".post-button");var e=this.$textarea.val();this.$textarea.focus().val("").val(e),this.stickit(),a.a.initInputsAndSelectMenus(this.$el),s.a.prototype.afterRender.apply(this,arguments)},onPostButton:function(){if(!this.isFormEnabled)return!1;this.disablePostButton(),this.model.isValid()?this.model.save().success(this.onPostSuccess).fail(this.onPostFail):this.onPostFail()},onPostSuccess:function(e){this.initialModel.set(e)},onPostFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error editing your note. Please try again.",type:"error"}),this.enablePostButton()},onCancelButton:function(){this.trigger("cancel")},disablePostButton:function(){this.$postButton.addClass("disabled"),this.isFormEnabled=!1}});t.a=l}).call(this,i(10))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(1153),a=i.n(n),o=i(1154),r=s.a.extend({template:a.a,tagName:"li",className:"unit-item",templateData:function(){return this.model.attributes},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.model.view=this,s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.sessionsCollectionView=new o.a({el:this.$(".session-list"),collection:this.model.sessions,unitsCollectionView:this.collectionView})}});t.a=r}).call(this,i(10))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(533),a=i(534),o=i(546),r=i(645),l=i(744),c=i.n(l),d=s.a.extend({template:c.a,templateData:function(){return e.defaults({showEmbedButton:!!this.session&&this.session.get("showEmbedButton")},this.model.attributes)},events:{"click .video-embed":"onClickVideoEmbed","click .share-email":"onClickEmail"},initialize:function(t){e.extend(this,e.pick(t,["session"])),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.initializeFacebookButton(),this.initializeTwitterButton(),s.a.prototype.afterRender.apply(this,arguments)},initializeFacebookButton:function(){new n.a({el:this.$(".share-fb"),countUrl:this.model.get("url"),showCounter:!1,shareOptions:{name:this.model.get("classTitle"),link:this.model.get("fbShareUrl"),picture:this.model.get("fbSharePhoto"),caption:"An Online Skillshare Class by "+this.model.get("teacherFullName"),description:this.model.get("fbShareDescription")},modelTrackingParams:{name:"Classes",id:this.model.get("classId")}})},initializeTwitterButton:function(){new a.a({el:this.$(".share-twitter"),modelTrackingParams:{name:"Classes",id:this.model.get("classId")}})},onClickVideoEmbed:function(){var e=this.session.get("id"),t=this.session.get("authToken");new o.a({sessionId:e,authToken:t,linkTitle:this.model.get("embedTitle"),linkUrl:this.model.get("embedUrl"),tagLine:this.model.get("embedTagline"),basicPopup:!0})},onClickEmail:function(){new r.a({model:this.model.get("parentClass")})}});t.a=d}).call(this,i(10))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(44),a=i(528),o=i(1165),r=i.n(o),l=s.a.extend({isTextareaEnabled:!1,isFormEnabled:!1,className:"note-form",template:r.a,templateData:function(){return e.extend({hasVideoTime:this.hasVideoTime()},this.model.attributes,this.extraTemplateData)},events:{"click .post-button":"onPostButton"},bindings:{".note-body":"body",".note-privacy-status":"privacy_status"},initialize:function(t){if(e.extend(this,e.pick(t,["player","extraTemplateData","via"])),e.bindAll(this,"onPostSuccess","onPostFail","onVideoPlay"),!this.player)throw new Error("A Brightcove Video Player is required for this view");this.listenTo(this.model,"change:body",this.onBodyChange),this.listenTo(this.model,"change:video_time",this.onVideoTimeChange),this.listenTo(this.model,"change:privacy_status",this.onPrivacyStatusChange),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.$postAtTime=this.$(".post-at-time"),this.$postAt=this.$(".post-at"),this.$postButton=this.$(".post-button"),this.$textarea=this.$(".note-body"),this.$noteSubmission=this.$(".note-submission"),this.stickit(),n.a.initInputsAndSelectMenus(this.$el),s.a.prototype.afterRender.apply(this,arguments),this.onVideoPlay()},onBodyChange:function(e,t){t?this.hasVideoTime()||this.model.set("video_time",Math.floor(this.player.getCurrentTime())):this.model.unset("video_time")},onVideoTimeChange:function(e,t){if(!this.hasVideoTime())return this.$postAt.hide(),void this.disablePostButton();this.$postAtTime.html(a.a.getTimeFromSeconds(t)),this.$postAt.show(),this.enablePostButton()},onPrivacyStatusChange:function(e,t){this.trigger("change:privacy_status",t)},onPostButton:function(){this.isFormEnabled&&(this.disablePostButton(),this.model.isValid()?(this.model.set("via",this.via),this.model.save().success(this.onPostSuccess).fail(this.onPostFail)):this.onPostFail())},onPostSuccess:function(){this.trigger("created:note",this.model),this.enablePostButton()},onPostFail:function(){SS.events.trigger("alerts:create",{title:"Sorry! There was an error creating your note. Please try again.",type:"error"}),this.enablePostButton()},enablePostButton:function(){this.$postButton.removeClass("disabled"),this.isFormEnabled=!0},disablePostButton:function(){this.$postButton.addClass("disabled"),this.isFormEnabled=!1},enableTextarea:function(){this.$textarea.removeAttr("disabled").removeClass("disabled"),this.isTextareaEnabled=!0},onVideoPlay:function(){this.isTextareaEnabled||(this.enableTextarea(),this.show())},hasVideoTime:function(){return"number"==typeof this.model.get("video_time")},show:function(){this.$el.show()}});t.a=l}).call(this,i(10))},function(e,t,i){"use strict";var s=i(81),n=i(1169),a=s.a.extend({className:"learn-mode-notes",itemView:n.a});t.a=a},function(e,t,i){"use strict";(function(e,s){var n=i(21),a=i(1186),o=i.n(a),r=n.a.extend({className:"abuse-flag-popup",template:o.a,templateData:function(){return this.model.attributes},bindings:{".abuse-flag-info":"body"},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .infraction-type":"onInfractionTypeClick","click .submit-report-button":"onSubmit"})},initialize:function(){n.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"onInfractionTypeClick","onSubmit"),this.listenTo(this.model,"change:abuseflag",this.onAbuseFlagChange)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$selectAbuseType=this.$(".btn-select-abuse-type"),this.$submitButton=this.$(".submit-abuse-flag-button"),this.$errorMessage=this.$(".error-message"),this.$textRequiredError=this.$(".text-required-error"),this.$textRequiredError.hide(),this.$errorMessage.hide(),this.stickit()},onInfractionTypeClick:function(){var e=parseInt(this.$("input[name=infraction]:checked").val(),10);this.model.set("abuse_flag_infraction_type_id",e)},onSubmit:function(t){t.preventDefault();var i=null,n=this.model.get("abuse_flag_infraction_type_id");e.isUndefined(n)?this.$errorMessage.show():(s(".abuse-flag-info").val().length&&(i=this.$(".abuse-flag-info").val()),i||7!==n?(this.model.save({body:i,entity_type_id:1}),this.afterSubmit()):this.$textRequiredError.show())},afterSubmit:function(){SS.events.trigger("alerts:create",{title:"Your report has been submitted and will be reviewed by Skillshare staff",type:"success"}),this.trigger("report:create"),this.closePopup()}});t.a=r}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(591),a=i(512),o=s.a.extend({el:".teacher-area",events:{"click .js-post-announcement":"onClickPostAnnouncement","click .js-unenroll":"unenroll","click .btn-enroll":"onClickEnroll"},onClickPostAnnouncement:function(t){t.preventDefault(),new n.a({endpoint:"/discussions/renderForm",endpointData:{type:"Announcement",id:e(t.currentTarget).data("ss-parent-id"),showRichDescription:"true"}})},unenroll:function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-ss-unenrollPath"),s=new a.a({content:"<p>You are about unenroll from this class. You will lose the cost of your ticket.</p>",submitBtnVal:"Yes, unenroll me"});s.openPopup(),s.on("onConfirmationDidConfirmEvent",function(){window.location.href=i})},onClickEnroll:function(t){var i=e(t.currentTarget);i.hasClass("disabled")?(t.preventDefault(),t.stopPropagation()):i.addClass("disabled")}});t.a=o}).call(this,i(9))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(1214),a=i(82),o=s.a.extend({className:"video-drawer",initComponent:function(){},onStateChange:function(){},afterRender:function(){a.a.initNewTooltips(this.$el),s.a.prototype.afterRender.apply(this,arguments)},events:function(){return{"click .close-button":"closeDrawer"}},initialize:function(t){if(e.extend(this,e.pick(t,["videoPlayer","session"])),!this.videoPlayer)throw new Error("A Video Player is required for this view");if(!this.session)throw new Error("A session model is required for this view");this.player=this.videoPlayer.videoPlayer,this.state=new n.a({session_id:this.session.id}),this.listenTo(this.state,"change:session_id",this.onStateChange),this.initComponent(t),s.a.prototype.initialize.apply(this,arguments)},closeDrawer:function(){this.trigger("toggle:drawer","close-button")},updateSession:function(e){this.session=e,this.state.set("session_id",this.session.id)},open:function(e){this.$el.css("opacity"),this.$el.css({minHeight:e.minHeight,opacity:1});var t=this;setTimeout(function(){t.$el.css("maxHeight","none")},100)},close:function(e){a.a.destroyTooltips(this.$el),this.$el.css({maxHeight:0,opacity:0}),e&&setTimeout(e,100)},startLoading:function(){this.state.set("error",!1),this.state.set("loading",!0)},endLoading:function(){this.state.set("loading",!1)}});t.a=o}).call(this,i(10))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";(function(e,s){i(183);var n=i(521),a=e.Router.extend({routes:{"classes/:slug/:sku":"classes/home","classes/:slug/:sku/lessons":"classes/lessons","classes/:slug/:sku/project-guide":"classes/projectGuide","classes/:slug/:sku/reviews":"classes/reviews","classes/:slug/:sku/projects":"classes/projects","classes/:slug/:sku/classroom/discussions":"classes/discussions","classes/:slug/:sku/classroom/announcements":"classes/discussions","classes/:slug/:sku/classroom/discussions/:discussion":"classes/discussionView","classes/:slug/:sku/classroom/announcements/:discussion":"classes/discussionView",":slug/:sku":"classes/home",":slug/:sku/lessons":"classes/lessons",":slug/:sku/project-guide":"classes/projectGuide",":slug/:sku/projects":"classes/projects",":slug/:sku/classroom/discussions":"classes/discussions",":slug/:sku/classroom/announcements":"classes/discussions",":slug/:sku/classroom/discussions/:discussion":"classes/discussionView",":slug/:sku/classroom/announcements/:discussion":"classes/discussionView","discussions/comment/:comment":"classes/discussionView"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.extend(this,s.pick(e,"classes")),this.on("all",this.routeToControllerAction,this)},routeToControllerAction:function(e){var t,i,a=s.last(arguments),o=s.isArray(a)?s.last(a):a,r=o?n.a.getParamsFromString(o):null;e.replace(/^route:(\w+)\/(\w+)/,function(e,s,n){t=s,i=n});var l=this[t]||this.classes;s.isFunction(l.callAction)&&l.callAction(t,i,r)}});t.a=a}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,i){var s=e.Model.extend({initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.extend(this,i.pick(t,"urlRoot"))}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";var s=i(886),n=i(626),a=i(13);t.a=s.a.extend({constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.parse=!0,s.a.call(this,e,t)},Collection:n.a,_newCollection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e&&e.sortMethod||this.get("sortMethod");return t.path=a.a.getPathname(),t.parse=!0,t.params={sort:i,collectionOnly:!0},s.a.prototype._newCollection.call(this,e,t)}})},function(e,t,i){"use strict";var s=i(886),n=i(788),a=i(13);t.a=s.a.extend({constructor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.parse=!0,s.a.call(this,e,t)},Collection:n.a,_newCollection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e&&e.sortMethod||this.get("sortMethod"),n=e&&e.postedByTeacher||this.get("postedByTeacher");return t.path=a.a.getPathname(),t.parse=!0,t.params={postedByTeacher:n,sort:i,collectionOnly:!0},s.a.prototype._newCollection.call(this,e,t)}})},function(e,t,i){"use strict";(function(e,s){i(188);var n=i(745),a=i(535),o=e.Model.extend({constructor:function(){this.sessions=new n.a,this.completion=new a.a,e.Model.apply(this,arguments)},parse:function(e){var t=s.clone(e);return this.sessions.set(t.sessions,{unit:this,parse:!0}),delete t.sessions,this.completion.set({target_type:"Unit",target_id:t.id,parent_id:t.parent_id}),t.unitCompletion&&(this.completion.set(t.unitCompletion,{parse:!0}),this.completion.set({completed:!0})),t},isCompleted:function(){return this.sessions.every(function(e){return e.isCompleted()})}});t.a=o}).call(this,i(15),i(10))},function(e,t,i){"use strict";(function(e,s,n){i(184),i(188),i(34);var a=i(8),o=i(82),r=i(738),l=i(1144),c=i(1150),d=i(1152),h=i(890),u=i(1161),p=i(1163),v=i(546),m=i(891),f=i(1166),g=i(849),y=i(745),w=i(850),b=i(679),k=i(798),C=i(1173),S=i.n(C),T=i(1174),P=i.n(T),x=i(45),D=i.n(x),$=a.a.extend({videoPlayerReady:null,videoPlayerMetaDataLoaded:null,parentClass:null,units:null,session:null,sessionsStarted:null,shareLinks:null,timeTracker:null,baseUrl:null,videoPlayer:null,videoPlayerNotesBar:null,videoPlayerFullscreenControls:null,videoPlaylist:null,videoRollOverlay:null,shareLinksView:null,noteForm:null,myNotesPopupView:null,playerIsLocked:!1,showNoteForm:!1,showViewMyNotes:!1,showMyNotesPopupOnLoad:!1,inEditMode:!1,pausedByTakeover:!1,defaultPrivacyStatus:1,initialize:function(){var e=this;this.initializeVideoPlayerReady(),this.initializeParentClass(),this.initializeUnits(),this.initializeSession(),this.initializeJoinModule(),this.initializePremiumUpgradeData(),this.initializeShareLinks(),this.initializeTimeTracker(),this.initializeSessionsStarted(),this.initializePlayerIsLocked(),this.$viewport=this.$(".viewport:first"),this.$lockedView=this.$(".locked-view:first"),this.$shareLinks=this.$(".share-links-wrapper:first"),this.$unitList=this.$(".unit-list-wrapper:first"),this.$playlist=this.$(".playlist:first"),this.$noteForm=this.$(".note-form-wrapper:first"),this.playerIsLocked&&this.$el.addClass("locked"),SS.events.on("takeover:video:pause",function(){e.videoPlayer.playbackState.isPaused()||(e.videoPlayer.pause(),e.pausedByTakeover=!0)}),SS.events.on("takeover:video:play",function(){e.pausedByTakeover&&(e.videoPlayer.play(),e.pausedByTakeover=!1)});for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];a.a.prototype.initialize.call(this,i)},initializeParentClass:function(){this.parentClass=new e.Model(SS.serverBootstrap.classData.parentClass)},initializeUnits:function(){this.units=new g.a(SS.serverBootstrap.pageData.unitsData.units,{parse:!0})},initializeSession:function(){var e=SS.serverBootstrap.pageData.videoPlayerData.startingSession,t=e.unit_id,i=this.units.get(t);if(this.units&&(e&&i&&(this.session=i.sessions.get(e.id)),this.session||(this.session=this.units.getSessionAtIndex(0)),this.session)){this.session.unit=i,this.session.notes.once("set",function(){var e=this;this.listenTo(this.session.notes,"remove",this.onSessionNoteRemove),this.initializeVideoPlayer(),this.videoPlayerReady.then(function(){e.initializeVideoPlaylist()})},this),this.session.notes.fetchSet();var s=this;this.videoPlayerReady.then(function(){s.session.get("hasTranscript")?s.videoPlayer.allowTranscriptMode():s.videoPlayer.disallowTranscriptMode()})}},initializeJoinModule:function(){this.joinModule=SS.serverBootstrap.pageData.headerData.joinModule},initializePremiumUpgradeData:function(){this.premiumUpgradeData=SS.serverBootstrap.premiumUpgradeData},initializeShareLinks:function(){s.isNull(this.shareLinks)&&(this.shareLinks=new e.Model(s.extend({units:this.units,parentClass:this.parentClass},SS.serverBootstrap.pageData.videoPlayerData.shareLinks))),this.shareLinksView&&this.shareLinksView.remove(),this.shareLinksView=new h.a({el:this.$shareLinks,model:this.shareLinks,session:this.session})},initializeTimeTracker:function(){this.timeTracker=new w.a},initializeSessionsStarted:function(){this.sessionsStarted=new e.Model},initializeVideoPlayer:function(){this.baseUrl=SS.serverBootstrap.pageData.videoPlayerData.baseUrl;var e=this.session;this.isVideoUnlocked()||(e=this.units.getSessionAtIndex(0),SS.EventTracker.track("Directly Viewed Locked Video",{},{isLoggedIn:"true"===!SS.currentUser.isGuest()})),this.videoPlayer=new r.a({el:this.$viewport.find(".video-player-module:first"),video:k.a.sessionToVideo(e)}),this.videoPlayer.once("video:player:ready",function(){this.session.get("showEmbedButton")&&this.videoPlayer.initializeEmbedButton(),this.videoPlayer.initializePlaylistCloseButton(),this.videoPlayer.initializeLearnModeToggle(),this.videoPlayer.initializeTranscriptModeToggle(),this.videoPlayer.initializePlayerSeparator(),this.initializeVideoPlayerFullscreenControls(),this.initializeVideoPlayerNotesBar(),this.videoPlayerReady.resolve()},this),this.videoPlayer.once("video:player:error",function(e){this.videoPlayerReady.reject(e)},this),this.videoPlayer.once("video:player:metadataLoaded",function(){this.setPlayBarProgress(e),this.listenTo(this,"video:player:autoplay:ready",function(){this.videoPlayer.play()}),this.videoPlayerMetaDataLoaded.resolve()},this),this.listenTo(this.videoPlayer,"video:player:timeUpdate",this.onVideoPlayerTimeUpdate),this.listenTo(this.videoPlayer,"video:player:fullscreenChange",this.onVideoPlayerFullscreenChange),this.listenTo(this.videoPlayer,"video:player:play",this.onVideoPlayerPlay),this.listenTo(this.videoPlayer,"video:player:pause",this.onVideoPlayerPause),this.listenTo(this.videoPlayer,"video:player:windowClosed",this.onVideoPlayerWindowClosed),this.listenTo(this.videoPlayer,"video:player:ended",this.onVideoPlayerEnded),this.listenTo(this.videoPlayer,"video:player:learnModeToggleClick",this.onVideoPlayerLearnModeToggleClick),this.listenTo(this.videoPlayer,"video:player:transcriptModeToggleClick",this.onVideoPlayerTranscriptModeToggleClick),this.listenTo(this.videoPlayer,"video:player:embedButtonClick",this.onVideoPlayerEmbedButtonClick),this.listenTo(this.videoPlayer,"video:player:playlistArrowButtonClick",this.onVideoPlayerPlaylistArrowButtonClick)},initializeVideoPlayerNotesBar:function(){this.videoPlayerNotesBar&&this.videoPlayerNotesBar.remove(),this.videoPlayerNotesBar=new l.a({player:this.videoPlayer,session:this.session}),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:noteClick",this.onVideoPlayerNotesBarNoteClick),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:noteMoreClick",this.onVideoPlayerNotesBarNoteMoreClick),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:popoverEnter",this.onVideoPlayerNotesBarPopoverEnter),this.listenTo(this.videoPlayerNotesBar,"video:player:notesBar:inEditModeChange",this.onVideoPlayerNotesBarInEditModeChange)},initializeVideoPlayerFullscreenControls:function(){this.videoPlayerFullscreenControls&&this.videoPlayerFullscreenControls.remove(),this.videoPlayerFullscreenControls=new c.a({player:this.videoPlayer,units:this.units,session:this.session}),this.listenTo(this.videoPlayerFullscreenControls,"video:player:fullscreenControls:nextClick",this.onVideoPlayerNextClick),this.listenTo(this.videoPlayerFullscreenControls,"video:player:fullscreenControls:prevClick",this.onVideoPlayerPrevClick)},initializeVideoPlaylist:function(){this.videoPlaylist=new d.a({el:n(".video-playlist-module"),units:this.units}),this.videoPlaylist.once("afterRender",function(){this.scrollToSession(this.session)},this),this.listenTo(this.videoPlaylist,"video:playlist:viewMyNotesClick",this.onVideoPlaylistViewMyNotesClick),this.listenTo(this.videoPlaylist,"video:playlist:sessionClick",this.onVideoPlaylistSessionClick),this.listenTo(this.videoPlaylist,"video:playlist:viewNotesClick",this.onVideoPlaylistViewNotesClick),this.listenTo(this.videoPlaylist,"video:playlist:playbackStateChange",this.onVideoPlaylistPlaybackStateChange),this.listenTo(this.videoPlaylist,"video:playlist:videoComplete",this.onVideoPlaylistVideoComplete),this.listenTo(this.videoPlaylist,"video:playlist:videoUncomplete",this.onVideoPlaylistVideoUncomplete)},initializePlayerIsLocked:function(){this.playerIsLocked=SS.serverBootstrap.pageData.unitsData.isLocked},initializeVideoPlayerReady:function(){this.videoPlayerReady=n.Deferred(),this.videoPlayerMetaDataLoaded=n.Deferred();var e=this;this.videoPlayerReady.then(function(){e.showVideoPlayer(),e.handleMyNotesPopupOnLoad()})},isVideoUnlocked:function(){return!(!this.session.isFirstOverall()&&!this.session.get("videoId"))},loadSessionVideo:function(e,t){var i=t||!1;this.session&&(this.session.setPaused(),this.session.view.$el.removeClass("active"),this.endTrackingTime()),this.scrollToSession(e),this.closeOverlays(),this.hideVideoPlayer(),this.stopListening(this.videoPlayer,"video:player:timeUpdate",this.onVideoPlayerTimeUpdate),this.videoPlayer.setPosterImage(""),this.videoPlayer.load();var s=this;this.setSession(e,function(){s.isVideoUnlocked()?(s.videoPlayer.video=k.a.sessionToVideo(s.session),s.videoPlayer.once("video:player:metadataLoaded",function(){s.setPlayBarProgress(s.session),s.listenTo(s.videoPlayer,"video:player:timeUpdate",s.onVideoPlayerTimeUpdate),i&&s.videoPlayer.play()}),s.videoPlayer.loadVideo(),s.initializeVideoPlayerNotesBar(),s.initializeVideoPlayerFullscreenControls(),s.initializeShareLinks(),s.showVideoPlayer()):s.displayLockedView(),s.trigger("change:session",s.session)})},loadNextSessionVideo:function(e){var t=this.nextSession();this.endTrackingTime(),t&&this.loadSessionVideo(t,e)},loadPreviousSessionVideo:function(e){var t=this.previousSession();this.endTrackingTime(),t&&this.loadSessionVideo(t,e)},setSession:function(e,t){this.session=e,this.session.unit=this.units.get(this.session.get("unit_id")),this.session.notes.once("set",function(){this.session.setVideoId(t)},this),this.session.notes.fetchSet()},nextSession:function(){return this.units.nextSession(this.session)},previousSession:function(){return this.units.previousSession(this.session)},completedUnit:function(e){var t=e.get("unit_id");return this.units.get(t).isCompleted()},completedAllUnits:function(){return this.units.every(function(e){return e.isCompleted()})},trackSessionCompletion:function(e){if(this.completedAllUnits()){var t=SS.EventTracker.classDetails({sku:this.parentClass.sku});SS.EventTracker.track("Completed All Class Videos","",t),e.unit.completion.save({completed:!0})}},trackSessionStart:function(e){this.sessionsStarted.get(e.get("id"))||(this.sessionsStarted.set(e.get("id"),!0),SS.EventTracker.track("Played Lesson Video","",this.getTrackingParams(e)))},endTrackingTime:function(){this.timeTracker.stop(this.videoPlayer.getCurrentTime())},getTrackingParams:function(e){var t;this.videoPlayer&&this.videoPlayer.playbackSpeed&&(t=this.videoPlayer.playbackSpeed.value);var i={sku:this.parentClass?this.parentClass.sku:null,isSkillshareProduced:!(!this.parentClass||1!==this.parentClass.get("is_skillshare_produced")),isStaffPick:this.parentClass?this.parentClass.get("is_staff_pick"):null,video:e.get("id"),videoIndex:e.get("rank"),overall_index:e.get("overallRank"),lessonIndex:e.unit?e.unit.get("rank"):null,lastLesson:e.unit?e.unit.get("rank")===e.unit.collection.length-1:null,captions_on:this.videoPlayer&&this.videoPlayer.captionsOn,playback_speed:t||null,full_screen:this.videoPlayer?this.videoPlayer.isFullscreen():null,is_premium:SS.currentUser&&SS.currentUser.isPremiumMember()};return SS.EventTracker.classDetails(i)},getDataForOverlay:function(){return{container:this.$viewport.find(".overlay-container:first"),nextSession:this.nextSession(),currentSession:this.session,parentClass:this.parentClass,baseUrl:this.baseUrl}},closeNotePopovers:function(){this.session.notes&&this.session.notes.trigger("closeAll")},scrollToSession:function(e){e.isFirstOverall()?(this.$el.addClass("first-video"),this.scrollToTopOfPlaylist()):(this.$el.removeClass("first-video"),this.scrollToPlaylistRow(e)),e.view.$el.addClass("active")},scrollToTopOfPlaylist:function(){this.$unitList.animate({scrollTop:0},300,"linear")},scrollToPlaylistRow:function(e){var t=null;t=e.isFirstInUnit()?e.unit.view.$el:e.view.$el,this.$unitList.animate({scrollTop:this.$unitList.scrollTop()+t.position().top+1},300,"linear")},displayVideoPostRoll:function(){this.inEditMode||(this.closeNotePopovers(),this.playerIsLocked?this.displayLockedView():this.nextSession()?this.loadNextSessionVideo(!0):(this.videoPlayer.isFullscreen()&&this.videoPlayer.exitFullscreen(),this.displayCountdownOverlay()))},displayLockedView:function(){this.videoPlayer.stop(),this.displayUpgradeOverlay(),this.videoPlayer.exitFullscreen()},displayUpgradeOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.remove(),this.videoRollOverlay=new u.a(s.extend({templateData:this.premiumUpgradeData},this.getDataForOverlay())),this.displayVideoRollOverlay()},displayCountdownOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.remove(),this.videoRollOverlay=new p.a(this.getDataForOverlay()),this.displayVideoRollOverlay()},displayEnrollButtonOverlay:function(){var e=s.extend({},this.session.attributes,this.joinModule),t=D.a.render(S.a,e,{"modules/_video-player-cta":P.a});this.$lockedView.html(t).show(),o.a.initRestrictedAccessHandlers(this)},displayVideoRollOverlay:function(){this.closeVideoShareOverlay(),this.showVideoOverlay(),this.listenTo(this.videoRollOverlay,"nextVideo",this.onVideoRollOverlayNextVideo),this.listenTo(this.videoRollOverlay,"close",this.onVideoRollOverlayClose),this.listenTo(this.videoRollOverlay,"scrollToHeaders",this.onVideoRollOverlayScrollToHeaders)},displayVideoEmbedPopup:function(){if(this.session.get("showEmbedButton")){this.videoPlayer.pause();var e=this.session.get("id"),t=this.session.get("authToken");new v.a({sessionId:e,authToken:t,linkTitle:this.shareLinks.get("embedTitle"),linkUrl:this.shareLinks.get("embedUrl"),tagLine:this.shareLinks.get("embedTagline"),basicPopup:!0})}},showVideoOverlay:function(){this.$el.addClass("overlayed")},hideVideoOverlay:function(){this.$el.removeClass("overlayed")},showVideoPlayer:function(){this.videoPlayer.$el.css("opacity",1)},hideVideoPlayer:function(){this.videoPlayer.$el.css("opacity",0)},closeOverlays:function(){this.closeVideoRollOverlay(),this.closeVideoShareOverlay(),this.closeEnrollButtonOverlay()},closeVideoRollOverlay:function(){this.videoRollOverlay&&this.videoRollOverlay.close()},closeVideoShareOverlay:function(){this.videoShareOverlay&&this.videoShareOverlay.close()},closeEnrollButtonOverlay:function(){this.$lockedView.empty(),this.showVideoPlayer()},handleMyNotesPopupOnLoad:function(){this.showMyNotesPopupOnLoad=SS.serverBootstrap.pageData.videoPlayerData.showMyNotesPopupOnLoad,this.showMyNotesPopupOnLoad&&this.showMyNotesPopup()},showMyNotesPopup:function(){var e=new y.a(s.map(this.units.getFlattenedSessions(),function(e){return e.clone()}));this.myNotesPopup&&this.myNotesPopup.remove(),this.myNotesPopup=new f.a({parentClass:this.parentClass,sessions:e}),this.listenTo(this.myNotesPopup,"click:videoTime",this.onMyNotesPopupVideoTimeClick),this.listenTo(this.myNotesPopup,"remove:myNotes",this.onMyNotesPopupNoteRemove),this.listenTo(this.myNotesPopup,"change:myNotes",this.onMyNotesPopupNoteChange),this.videoPlayer.playbackState.isPlaying()&&(this.videoPlayer.pause(),this.listenTo(this.myNotesPopup,"onPopupDidCloseEvent",this.onMyNotesPopupClose))},addNoteForm:function(){var e=new b.a({privacy_status:this.defaultPrivacyStatus},{session:this.session});this.noteForm=new m.a({model:e,player:this.videoPlayer,extraTemplateData:{isDark:!0},container:this.$noteForm,via:"video-player"})},removeNoteForm:function(){this.noteForm&&this.noteForm.remove()},resetNoteForm:function(){this.removeNoteForm(),this.addNoteForm(),this.noteForm.show()},setPlayBarProgress:function(e){var t=e.get("videoLengthSeconds"),i=e.get("lastPlayedTime");i>t-10?this.videoPlayer.setCurrentTime(0):this.videoPlayer.setCurrentTime(i)},onNoteFormNewNote:function(e){e.set("displayPopover",!0),this.session.notes.add(e),this.videoPlayerNotesBar.show(),this.resetNoteForm(),this.session.trigger("new:note",e)},onMyNotesPopupVideoTimeClick:function(e){var t=this.units.get(e.session.get("unit_id")).sessions.get(e.session.get("id"));t.get("id")!==this.session.get("id")?(this.videoPlayer.once("video:player:metadataLoaded",function(){this.videoPlayer.setCurrentTime(e.get("video_time"))},this),this.loadSessionVideo(t,!0)):(this.videoPlayer.setCurrentTime(e.get("video_time")),this.videoPlayer.play())},onMyNotesPopupNoteRemove:function(e){this.trigger("remove:note",e)},onMyNotesPopupNoteChange:function(e){this.trigger("change:note",e)},onSessionNoteRemove:function(e){this.session.trigger("destroyed:note",e)},onVideoPlayerNextClick:function(){this.loadNextSessionVideo(!0)},onVideoPlayerPrevClick:function(){this.loadPreviousSessionVideo(!0)},onVideoPlayerTimeUpdate:function(e){this.videoPlayer.playbackState.isPlaying()&&(this.hideVideoOverlay(),SS.currentUser.isGuest()||this.session.completion.get("completed")||this.videoPlayer.getCurrentTime()/this.videoPlayer.getDuration()>=.75&&this.session.trigger("shouldComplete"),this.timeTracker.set("session_id",this.session.get("id")),this.timeTracker.markProgress(e))},onVideoPlayerFullscreenChange:function(){this.videoPlayer.isFullscreen()?(this.videoPlayer.hidePlaylistCloseButton(),this.videoPlayerNotesBar.hasNotes()&&this.videoPlayerNotesBar.hide()):(this.videoPlayer.showPlaylistCloseButton(),this.videoPlayerNotesBar.hasNotes()&&this.videoPlayerNotesBar.show())},onVideoPlayerPlay:function(){this.session.setPlaying(),this.timeTracker.set("session_id",this.session.get("id")),this.timeTracker.start(),this.closeOverlays(),this.trackSessionStart(this.session),this.trigger("newClasses:video:player:play")},onVideoPlayerPause:function(){this.session.setPaused(),this.endTrackingTime()},onVideoPlayerWindowClosed:function(){this.session.setPaused(),this.endTrackingTime()},onVideoPlayerEnded:function(){this.session.setEnded(),this.endTrackingTime(),this.displayVideoPostRoll()},onVideoPlayerLearnModeToggleClick:function(){this.videoPlayer.exitFullscreen(),this.trigger("toggle:learnMode","video-control-bar")},onVideoPlayerTranscriptModeToggleClick:function(){this.trigger("toggle:transcriptMode","video-control-bar")},onVideoPlayerNotesBarNoteClick:function(e){this.videoPlayer.setCurrentTime(e.get("video_time"))},onVideoPlayerNotesBarNoteMoreClick:function(e){this.trigger("click:more",e)},onVideoPlayerNotesBarPopoverEnter:function(){this.videoPlayer.onMouseEnterEvent()},onVideoPlayerNotesBarInEditModeChange:function(e){this.inEditMode=e,this.inEditMode?this.$el.addClass("edit-mode"):(this.$el.removeClass("edit-mode"),this.videoPlayer.playbackState.isEnded()&&(this.closeNotePopovers(),this.displayVideoPostRoll()))},onVideoRollOverlayNextVideo:function(){this.loadNextSessionVideo(!0)},onVideoRollOverlayClose:function(){this.hideVideoOverlay()},onVideoRollOverlayScrollToHeaders:function(){this.trigger("scrollToHeaders")},onVideoPlayerEmbedButtonClick:function(){this.displayVideoEmbedPopup()},onVideoShareOverlayClose:function(){this.hideVideoOverlay()},onVideoPlayerPlaylistArrowButtonClick:function(){this.$el.toggleClass("playlist-closed")},onVideoPlaylistViewMyNotesClick:function(){this.showMyNotesPopup()},onVideoPlaylistSessionClick:function(e){e.get("id")!==this.session.get("id")&&this.loadSessionVideo(e)},onVideoPlaylistViewNotesClick:function(e){e.get("id")!==this.session.get("id")&&this.loadSessionVideo(e,!0),this.trigger("enable:learnMode","view-notes")},onVideoPlaylistPlaybackStateChange:function(e){if(e.get("id")===this.session.get("id")){if(!this.isVideoUnlocked())return;e.isPlaying()?this.videoPlayer.play():e.isPaused()?this.videoPlayer.pause():this.videoPlayer.replay()}else this.loadSessionVideo(e,!0)},onVideoPlaylistVideoComplete:function(e){this.trigger("video:complete",{videoIndex:e.videoIndex}),this.trackSessionCompletion(e.session)},onVideoPlaylistVideoUncomplete:function(e){this.trigger("video:uncomplete",{videoIndex:e.videoIndex})}});t.a=$}).call(this,i(15),i(10),i(9))},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(576),a=i(740),o=i(1145),r=s.a.extend({className:"video-player-notes-bar-module",player:null,session:null,notes:null,notesBarCollectionView:null,initialize:function(t){e.extend(this,e.pick(t,["player","session","notes"])),this.initializePlayer(),this.initializeSession(),this.initializeNotes(),this.initializeNotesBarCollectionView(),s.a.prototype.initialize.apply(this,arguments)},initializePlayer:function(){if(e.isNull(this.player))throw new Error("You must pass a Player when creating a PlayerNotesBar")},initializeSession:function(){e.isNull(this.session)&&(this.session=n.a)},initializeNotes:function(){e.isNull(this.notes)&&(this.notes=this.session.notes,e.isNull(this.notes)&&(this.notes=a.a))},initializeNotesBarCollectionView:function(){this.notesBarCollectionView=new o.a({collection:this.notes}),this.listenTo(this.notesBarCollectionView,"click:note",this.onNoteClick),this.listenTo(this.notesBarCollectionView,"click:more",this.onNoteMoreClick),this.listenTo(this.notesBarCollectionView,"enter:popover",this.onPopoverEnter),this.listenTo(this.notesBarCollectionView,"change:inEditMode",this.onInEditModeChange)},render:function(){this.player.$controlBar.append(this.notesBarCollectionView.$el),this.hasNotes()?this.show():this.hide(),s.a.prototype.render.apply(this,arguments)},remove:function(){this.notesBarCollectionView.remove(),s.a.prototype.remove.apply(this,arguments)},hasNotes:function(){return this.notes&&this.notes.length>0},hide:function(){this.notesBarCollectionView.$el.hide()},show:function(){this.notesBarCollectionView.$el.show()},onNoteClick:function(e){this.trigger("video:player:notesBar:noteClick",e)},onNoteMoreClick:function(e){this.trigger("video:player:notesBar:noteMoreClick",e)},onPopoverEnter:function(){this.trigger("video:player:notesBar:popoverEnter")},onInEditModeChange:function(e){this.trigger("video:player:notesBar:inEditModeChange",e)}});t.a=r}).call(this,i(10))},function(e,t,i){"use strict";var s=i(81),n=i(1146),a=s.a.extend({className:"vjs-note-bar",itemView:n.a});t.a=a},function(e,t,i){"use strict";(function(e){i(118);var s=i(8),n=i(1147),a=s.a.extend({className:"vjs-note",events:{click:"onClick",mouseenter:"addActiveClass",mouseleave:"removeActiveClass"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.listenTo(this.model.collection,"closeAll",this.removeActiveClass),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){this.position(),this.initializePopover(),this.model.isCurrentUsers()&&this.addNoteDot(),s.a.prototype.afterRender.apply(this,arguments)},position:function(){var e=this.model.collection.indexOf(this.model);this.model.isCurrentUsers()&&(e+=10);var t,i,s,n=this.calculateNoteTimePercentage();n<.6?(t=0,s=0):n>99.4?i=0:t=n+"%",this.$el.css({backgroundImage:"url("+this.model.get("author").image+")",left:t,right:i,marginLeft:s,zIndex:e})},initializePopover:function(){var t,i=this.calculateNoteTimePercentage();i<25?t="left":i>75&&(t="right");var s=new n.a({model:this.model,anchor:this.$el,placement:"top",arrowPlacement:t});this.listenTo(s,"click:more",this.onClickMore),this.listenTo(s,"enter:popover",this.onEnterPopover),this.listenTo(s,"leave:popover",this.removeActiveClass),this.listenTo(s,"change:inEditMode",this.onEditModeChange),this.model.get("displayPopover")&&(s.open(),e.delay(function(){s.close()},2e3))},addNoteDot:function(){this.$el.append('<div class="vjs-note-dot"></div>')},onClick:function(){this.collectionView.trigger("click:note",this.model)},onClickMore:function(){this.collectionView.trigger("click:more",this.model)},onEnterPopover:function(){clearTimeout(this.removeActiveTimerId),this.collectionView.trigger("enter:popover")},onEditModeChange:function(e){this.collectionView.trigger("change:inEditMode",e)},addActiveClass:function(){this.$el.addClass("active")},removeActiveClass:function(){var t=this;this.removeActiveTimerId=e.delay(function(){t.$el.removeClass("active")},300)},calculateNoteTimePercentage:function(){var e=this.model.session.get("videoLengthSeconds"),t=this.model.get("video_time")/e*100;return Math.round(100*t)/100}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(35),a=i(887),o=i(888),r=i(512),l=i(574),c=i(1149),d=i.n(c),h=(i(620),n.a.extend({className:"popover note-popover",showOnHover:!0,addShadow:!0,placement:"top",inEditMode:!1,template:d.a,templateData:function(){return e.extend({},this.model.attributes,{formattedBody:this.getFormattedBody(),truncated:this.isTruncated(),isGuest:SS.currentUser.isGuest()})},isTruncated:function(){return this.model.get("body").length>170},initialize:function(){this.listenTo(this.model,"change",this.update),this.listenTo(this.model.collection,"closeAll",this.forceClose),e.extend(this,a.a),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var t=this;this.$noteStatLikes=this.$(".note-stat-likes"),this.initializeLikeButton(),this.listenTo(this.likeButtonView,"save",function(i){t.model.set("userVote",e.pick(i.changed,["id","value"]))})},getFormattedBody:function(){var e=String(this.model.get("body"));return e.length>170&&(e=s.truncate(e,{length:170,ellipsis:"..."})),l.a.addHTMLLineBreaks(e)},onPopoverCreated:function(){n.a.prototype.onPopoverCreated.apply(this,arguments);var e=this;this.visibleEl.find(".more-link").on("click",function(){e.onMoreLink()}),this.visibleEl.find(".make-private").on("click",function(){e.onMakePrivate()}),this.visibleEl.find(".delete-button").on("click",function(){e.onDelete()}),this.visibleEl.find(".edit-button").on("click",function(){e.openEditMode()}),this.visibleEl.find(".note-like").on("click",function(t){e.likeButtonView.onClick(t)});var t=this.showLike()?"Like":"Unlike";this.visibleEl.find(".note-like").html(t)},onMoreLink:function(){this.trigger("click:more",this.model),this.close()},onEnterPopover:function(){this.trigger("enter:popover"),n.a.prototype.onEnterPopover.apply(this,arguments)},onLeavePopover:function(){this.inEditMode||(this.trigger("leave:popover"),n.a.prototype.onLeavePopover.apply(this,arguments))},forceClose:function(){this.inEditMode=!1,this.close()},close:function(){this.inEditMode||n.a.prototype.close.apply(this,arguments)},onMakePrivate:function(){var e=new r.a({content:"Are you sure you want to make this note private?",submitBtnVal:"Yes, Make Private"});e.openPopup(),this.listenTo(e,"onConfirmationDidConfirmEvent",this.makePrivate)},openEditMode:function(){this.inEditMode=!0,this.visibleEl.find(".note-static").hide(),this.noteEditForm=new o.a({initialModel:this.model,container:this.visibleEl.find(".note-edit-form-wrapper")}),this.listenTo(this.noteEditForm,"afterRender",this.reposition),this.listenTo(this.noteEditForm,"cancel",this.update),this.trigger("change:inEditMode",this.inEditMode)},update:function(){this.render(),this.updateVisiblePopover(),this.reposition(),this.inEditMode=!1,this.trigger("change:inEditMode",this.inEditMode)},onDelete:function(){var e=new r.a({content:"Are you sure you want to delete this note?",submitBtnVal:"Yes, Delete Note"});e.openPopup(),this.listenTo(e,"onConfirmationDidConfirmEvent",this.destroy)},destroy:function(){this.model.destroy()},makePrivate:function(){var e=this;this.model.save({privacy_status:0},{success:function(t){t.collection.remove(t),e.close()}})},showLike:function(){return this.model&&(!this.model.get("userVote")||0===this.model.get("userVote").value)}}));t.a=h}).call(this,i(10),i(9))},function(e,t){e.exports='<textarea class="note-body">{{body}}</textarea>\n<div class="note-submission">\n    <select class="note-privacy-status small">\n        <option value="1"{{#privacy_status}} selected{{/privacy_status}}>Public</option>\n        <option value="0"{{^privacy_status}} selected{{/privacy_status}}>Only Me</option>\n    </select>\n    <div class="post-button btn small primary prevent-popover-close">Save</div>\n    <a href="javascript:;" class="cancel-button secondary no-underline prevent-popover-close">Cancel</a>\n</div>\n'},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content clear">\n        <div class="left">\n            <img class="user-img-20 author-image" src="{{author.image}}" />\n        </div>\n        <div class="note-content left">\n            <div class="author-name"><strong>{{author.fullName}}</strong></div>\n            <div class="note-static">\n                <div class="note-body">\n                    {{{formattedBody}}}\n                    {{#truncated}}\n                        <a href="javascript:;" class="more-link">(more)</a>\n                    {{/truncated}}\n                </div>\n                <div class="right footer note-stats">\n                    <span class="ss-icon-heart note-stat note-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n                </div>\n                <div class="footer">\n                    {{^isGuest}}\n                        <a href="javascript:;" class="note-like alternate">Like</a>\n                    {{/isGuest}}\n                    {{#canModify}}\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="edit-button alternate">Edit</a>\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="delete-button alternate">Delete</a>\n                    {{/canModify}}\n                    {{#canMakePrivate}}\n                        <span class="middot">&middot;</span>\n                        <a href="javascript:;" class="make-private alternate">Make Private</a>\n                    {{/canMakePrivate}}\n                </div>\n                {{^privacy_status}}\n                    <div class="privacy-status ss-icon-lock">Only Me</div>\n                {{/privacy_status}}\n            </div>\n            {{#canModify}}\n                <div class="note-edit-form-wrapper"></div>\n            {{/canModify}}\n\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(8),a=i(576),o=i(1151),r=i.n(o),l=n.a.extend({className:"vjs-fullscreen-controls",template:r.a,player:null,units:null,session:null,events:{"click .next-video":"onClickNextVideo","click .prev-video":"onClickPreviousVideo"},initialize:function(t){e.extend(this,e.pick(t,["player","units","session"])),this.initializePlayer(),n.a.prototype.initialize.apply(this,arguments)},render:function(){this.player.$videojs.append(this.$el),n.a.prototype.render.apply(this,arguments)},afterRender:function(){this.initializeButtons(),n.a.prototype.afterRender.apply(this,arguments)},initializePlayer:function(){if(e.isNull(this.player))throw new Error("You must pass a Player when creating PlayerFullscreenControls");if(e.isNull(this.session)&&(this.session=a.a),e.isNull(this.units))throw new Error("You must pass a VideoUnitsCollection when creating PlayerFullscreenControls")},initializeButtons:function(){this.units.previousSession(this.session)||this.$el.find(".prev-video").addClass("disabled"),this.units.nextSession(this.session)||this.$el.find(".next-video").addClass("disabled")},onClickNextVideo:function(e){s(e.target).hasClass("disabled")||this.trigger("video:player:fullscreenControls:nextClick")},onClickPreviousVideo:function(e){s(e.target).hasClass("disabled")||this.trigger("video:player:fullscreenControls:prevClick")}});t.a=l}).call(this,i(10),i(9))},function(e,t){e.exports="<span>\n    <div class='next-video ss-icon-next-video'></div>\n    <div class='prev-video ss-icon-next-video'></div>\n</span>\n"},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(849),a=i(889),o=i(1160),r=s.a.extend({className:"video-playlist-module",units:null,unitItemView:null,unitsCollectionView:null,events:{"click .view-my-notes":"onViewMyNotesClick"},initialize:function(t){e.extend(this,e.pick(t,["units","unitItemView"])),this.initializeUnits(),this.initializeUnitItemView(),this.initializeUnitsCollectionView(),s.a.prototype.initialize.apply(this,arguments)},initializeUnits:function(){e.isNull(this.units)&&(this.units=n.a)},initializeUnitItemView:function(){e.isNull(this.unitItemView)&&(this.unitItemView=a.a)},initializeUnitsCollectionView:function(){this.unitsCollectionView=new o.a({el:this.$(".unit-list"),collection:this.units,itemView:this.unitItemView}),this.listenTo(this.unitsCollectionView,"click:session",this.onSessionClick),this.listenTo(this.unitsCollectionView,"click:viewNotes",this.onViewNotesClick),this.listenTo(this.unitsCollectionView,"change:playbackState",this.onPlaybackStateChange),this.listenTo(this.unitsCollectionView,"video:complete",this.onVideoComplete),this.listenTo(this.unitsCollectionView,"video:uncomplete",this.onVideoUncomplete)},onViewMyNotesClick:function(){this.trigger("video:playlist:viewMyNotesClick")},onSessionClick:function(e){this.trigger("video:playlist:sessionClick",e.session)},onViewNotesClick:function(e){this.trigger("video:playlist:viewNotesClick",e)},onPlaybackStateChange:function(e){this.trigger("video:playlist:playbackStateChange",e.session)},onVideoComplete:function(e){this.trigger("video:playlist:videoComplete",{videoIndex:e.videoIndex,session:e.session})},onVideoUncomplete:function(e){this.trigger("video:playlist:videoUncomplete",{videoIndex:e.videoIndex})}});t.a=r}).call(this,i(10))},function(e,t){e.exports='<ul class="session-list">\n    {{#sessions}}\n        <li class="session-item{{#firstRank}} first{{/firstRank}}">\n            {{> items/video-player-session-item}}\n        </li>\n    {{/sessions}}\n</ul>\n'},function(e,t,i){"use strict";(function(e){var s=i(81),n=i(1155),a=s.a.extend({itemView:n.a,initialize:function(t){s.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["unitsCollectionView"])),e.bindAll(this,"onSessionClick","onPlaybackStateChange","onVideoComplete","onVideoUncomplete"),this.on("click:session",this.onSessionClick),this.on("change:playbackState",this.onPlaybackStateChange),this.listenTo(this,"click:viewNotes",this.onViewNotes),this.on("video:complete",this.onVideoComplete),this.on("video:uncomplete",this.onVideoUncomplete)},onSessionClick:function(e){this.unitsCollectionView.trigger("click:session",{session:e.session})},onViewNotes:function(e){this.unitsCollectionView.trigger("click:viewNotes",e)},onPlaybackStateChange:function(e){this.unitsCollectionView.trigger("change:playbackState",{session:e.session})},onVideoComplete:function(e){this.unitsCollectionView.trigger("video:complete",{videoIndex:e.videoIndex,session:e.session})},onVideoUncomplete:function(e){this.unitsCollectionView.trigger("video:uncomplete",{videoIndex:e.videoIndex,session:e.session})}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){i(34),i(196);var n=i(8),a=i(1156),o=i(1157),r=i(82),l=i(61),c=i(1158),d=i.n(c),h=i(1159),u=i.n(h),p=i(45),v=i.n(p),m=n.a.extend({template:u.a,tagName:"li",className:"session-item",playbackStates:{PAUSED:0,PLAYING:1,ENDED:3},templatePartials:{"modules/video-player/_view-notes":d.a},templateData:function(){return e.extend({userIsGuest:SS.currentUser.isGuest()},this.model.attributes)},events:{click:"onClick","click .js-playback-control-container":"onClickPlaybackControl","click .view-notes.active-note":"onViewNotes"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.playerIsLocked=this.collectionView.unitsCollectionView.playerIsLocked,this.model.view=this,this.model.set("playbackState",this.playbackStates.PAUSED),this.listenTo(this.model,"change:playbackState",this.onChangePlaybackState),this.listenTo(this.model,"shouldComplete",this.completeVideo),this.listenTo(this.model,"new:note",this.incrementNoteCount),this.listenTo(this.model,"destroyed:note",this.decrementNoteCount),0===this.model.get("rank")&&this.$el.addClass("first"),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),(!this.playerIsLocked||this.model.isFirstOverall()&&!SS.currentUser.isGuest())&&(this.completionView=new a.a({el:this.$(".js-completion-button"),model:this.model.completion,trackingParams:{type:"Lesson Video"}}),this.listenTo(this.model.completion,"change:completed",this.onCompleteVideoChange),this.completionView.undelegateEvents()),new o.a({anchor:this.$(".attachments-popover-button"),el:this.$(".attachments-popover"),autoPosition:!1}),this.$viewNotesWrapper=this.$(".view-notes-wrapper"),this.$("[data-toggle='tooltip']").tooltip(),this.update()},onClick:function(){this.collectionView.trigger("click:session",{session:this.model})},onClickPlaybackControl:function(e){if(e.stopPropagation(),!this.playerIsLocked||this.model.isFirstOverall()){var t,i=this.model.get("playbackState");t=i===this.playbackStates.PLAYING?this.playbackStates.PAUSED:i===this.playbackStates.PAUSED?this.playbackStates.PLAYING:this.playbackStates.ENDED,this.$el.addClass("active"),this.model.set("playbackState",t),this.collectionView.trigger("change:playbackState",{session:this.model})}else this.collectionView.trigger("click:session",{session:this.model})},onViewNotes:function(e){e.stopPropagation(),this.collectionView.trigger("click:viewNotes",this.model)},onChangePlaybackState:function(){this.update()},incrementNoteCount:function(){var e=parseInt(this.$(".view-notes").html(),0),t=e?e+1:1;this.updateNoteCount(t)},decrementNoteCount:function(){var e=parseInt(this.$(".view-notes").html(),0),t=e?e-1:0;this.updateNoteCount(t)},updateNoteCount:function(e){if(e<1)this.$viewNotesWrapper.empty();else{var t=v.a.render(d.a,{totalNumNotes:e});this.$viewNotesWrapper.html(t),r.a.initNewTooltips(this)}},update:function(){var e=this.$(".js-playback-icon"),t=this.model.get("playbackState");e.removeClass(function(e,t){return(t.match(/\bss-icon-\S+/g)||[]).join(" ")});var i="#play";this.model.get("premiumAndLocked")?i="#locked":t===this.playbackStates.PLAYING&&(i="#pause"),e.find("use").attr("xlink:href",i)},showRecommendBoxIfPossible:function(){for(var e=0,t=0,i=this.model.unit.collection.length,n=this.model,a=Object(l.a)(SS,"serverBootstrap","premiumUpgradeData","isFree"),o=0;o<i;o++)for(var r=this.model.unit.collection.models[o],c=r.sessions.models.length,d=0;d<c;d++){var h=r.sessions.models[d];e++,n.id===h.id&&(t=e)}var u=t>e/2||1===e;3!==t||a||s(".leave-a-review-popup-btn").removeClass("disabled").addClass("mute-popover");var p=!0,v=s.cookie("show_recommend_box");v&&(p="true"===v),u&&p&&s(".recommend-class-box").css("visibility","inherit").show("slow")},onCompleteVideoChange:function(e){this.showRecommendBoxIfPossible(),SS.events.trigger("lesson:changeCompletion",{lessonIndex:this.model.unit.get("rank"),type:"video",videoIndex:this.model.get("rank"),completed:!0===e.get("completed")});var t={videoIndex:this.model.get("rank"),session:this.model};!0===e.get("completed")?this.collectionView.trigger("video:complete",t):this.collectionView.trigger("video:uncomplete",t)},completeVideo:function(){this.completionView&&this.completionView.complete()}});t.a=m}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,i){var s=e.View.extend({events:{click:"onClick"},initialize:function(e){if(i.bindAll(this,"update"),i.extend(this,i.pick(e,["trackingParams"])),!i.isUndefined(this.model)){this.update(this.isCompleted());var t=this;this.model.on("change:id",function(){t.update(t.isCompleted())}),this.model.on("change:completed",function(){t.update()})}},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.model.get("completed");this.$el.toggleClass("completed",e);var t=e?this.$el.attr("data-ss-tooltip-off"):this.$el.attr("data-ss-tooltip-on");this.$el.tooltip("hide"),this.$el.attr("data-original-title",t)},onClick:function(e){(e.preventDefault(),e.stopPropagation(),i.isUndefined(this.model))||(!this.$el.hasClass("completed")?this.complete():(this.model.set("completed",!1),this.model.destroy({silent:!0})))},complete:function(){if(!this.isCompleted()){this.model.set("completed",!0),this.model.save();i.isUndefined(this.trackingParams)||i.extend({},this.trackingParams)}},isCompleted:function(){return this.model.get("completed")}});t.a=s}).call(this,i(15),i(10))},function(e,t,i){"use strict";var s=i(82),n=i(35),a=n.a.extend({autoPosition:!1,events:{"click .attachment-link":"onAttachmentClick"},afterRender:function(){s.a.initRestrictedAccessHandlers(this),n.a.prototype.afterRender.apply(this,arguments)},onAttachmentClick:function(e){e.stopPropagation()}});t.a=a},function(e,t){e.exports='{{#totalNumNotes}}\n    <div class="ss-icon-notes-pin view-notes active-note" rel="tooltip" title="View Notes">{{totalNumNotes}}</div>\n    <div class="ss-icon-notes-pin view-notes inactive-note">{{totalNumNotes}}</div>\n{{/totalNumNotes}}\n'},function(e,t){e.exports='<div class="selection clear playback-control-container js-playback-control-container">\n    <div class="section playback-control-wrapper {{#sessionCompletion}}session-is-complete{{/sessionCompletion}} {{#premiumAndLocked}} premium-locked {{/premiumAndLocked}}">\n        {{#premiumAndLocked}} <svg class="ss-svg-icon lock-button"><use xlink:href="#locked" /></svg> {{/premiumAndLocked}}\n        <div class="playback-control js-playback-icon">\n            {{^premiumAndLocked}} <svg class="ss-svg-icon"><use xlink:href="#pause" /></svg>{{/premiumAndLocked}}\n        </div>\n        {{#sessionCompletion}} \n            <div class="section js-completion-button completion-button" data-rank="{{ displayRank }}">\n               <svg class="ss-svg-icon session-item-check-icon"><use xlink:href="#success" /></svg>\n            </div>\n        {{/sessionCompletion}}\n    </div>\n\n    <div class="section information" {{#isLongTitle}} rel="tooltip" data-toggle="tooltip" data-title="{{title}} {{/isLongTitle}}">\n        <p class="session-item-title" data-rank="{{ displayRank }}">\n            <span class="session-item-title-rank">{{ displayRank }}.</span> {{title}}\n        </p>\n        {{#showInformation}}\n            <div class="attachments-popover-button icon-attach">\n                <div class="attachments-popover popover shadow dark">\n                    <div class="inner-popover">\n                        <div class="arrow"></div>\n                        <div class="content">\n                            {{#attachments}}\n                                {{#userIsGuest}}\n                                    <div class="attachment icon-attach">\n                                        <a data-ss-restrict="signup">{{title}}</a>\n                                    </div>\n                                {{/userIsGuest}}\n                                {{^userIsGuest}}\n                                    <div class="attachment icon-attach">\n                                        {{^url}}{{title}}{{/url}}\n                                        {{#url}}<a href="{{url}}" class="attachment-link" target="_blank">{{title}}</a>{{/url}}\n                                    </div>\n                                {{/userIsGuest}}\n                            {{/attachments}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        {{/showInformation}}\n    </div>\n    <div class="duration">{{videoLength}}</div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var s=i(81),n=i(889),a=s.a.extend({itemView:n.a,initialize:function(t){e.extend(this,e.pick(t,["playerIsLocked"])),s.a.prototype.initialize.apply(this,arguments)}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e){var s=i(82),n=i(705),a=i(1162),o=i.n(a),r=n.a.extend({className:"video-roll-overlay video-roll-overlay-upgrade",template:o.a,initialize:function(){e.extend(this,this.options),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.initRestrictedAccessHandlers(this),n.a.prototype.afterRender.apply(this,arguments)}});t.a=r}).call(this,i(10))},function(e,t){e.exports='<div class="outer-wrapper">\n    <div class="inner-wrapper">\n        <div class="inner-content">\n            <p class="ellipsis roll-title">{{headerText}}</p>\n            <p class="roll-subtitle">{{subheaderText}}</p>\n            {{#ctaButtonText}}\n                {{#classIsFreeToTake}}\n                    <a class="btn primary large-wide" href="javascript:;" data-ss-restrict="signup">{{ctaButtonText}}</a>\n                {{/classIsFreeToTake}}\n                {{^classIsFreeToTake}}\n                    <a class="btn primary large-wide" href="{{checkoutUrl}}">{{ctaButtonText}}</a>\n                {{/classIsFreeToTake}}\n            {{/ctaButtonText}}\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";var s=i(705),n=i(537),a=i(61),o=i(1164),r=i.n(o),l=s.a.extend({className:"video-roll-overlay",templateData:function(){return{isAffiliateReferrer:Object(a.a)(SS,"serverBootstrap","pageData","userIsAffiliateReferrer")}},template:r.a,afterRender:function(){this.socialShareButtons=new n.a({el:this.$(".social-share-buttons-wrapper"),model:this.nextSession?this.currentSession:this.parentClass,darkVersion:!0,trackingParams:{source:"celebration-share",sessionId:this.currentSession.get("id")},showEmail:!0,showLinkBtn:!0,hideShortUrl:!0}),s.a.prototype.afterRender.apply(this,arguments)}});t.a=l},function(e,t){e.exports='<div class="outer-wrapper">\n    <div class="inner-wrapper">\n        <div class="top-section">\n            <p class="roll-title only-section">Congrats! You\'ve finished all of the lessons.</p>\n            <p class="roll-subtitle">Share this class and earn {{#isAffiliateReferrer}}$10{{/isAffiliateReferrer}}{{^isAffiliateReferrer}}a free month{{/isAffiliateReferrer}} for each friend who signs up.</p>\n            <div class="social-share-buttons-wrapper">\n                {{> shared/_social-share-buttons}}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<textarea class="note-body disabled" placeholder="Add a note..." disabled></textarea>\n<div class="note-submission">\n    <select class="note-privacy-status small">\n        <option value="1">Public</option>\n        <option value="0">Only Me</option>\n    </select>\n    <div class="post-button btn small primary disabled">Post</div>\n    <div class="post-at"{{^hasVideoTime}} style="display: none;"{{/hasVideoTime}}>Post at <span class="post-at-time"></span></div>\n</div>\n'},function(e,t,i){"use strict";(function(e){i(282);var s=i(21),n=i(708),a=i(745),o=i(1167),r=i(1172),l=i.n(r),c=s.a.extend({className:"my-notes-popup",centerVertically:!1,template:l.a,templateData:function(){return this.parentClass.attributes},initialize:function(t){if(e.extend(this,e.pick(t,["parentClass","sessions"])),!this.parentClass)throw new Error("A parentClass model is required for this view.");if(!this.sessions)throw new Error("A sessions collection is required for this view.");this.notes=new n.a([]),this.listenTo(this.notes,"sync",this.onNotesFetch),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments),this.notes.fetch({data:{user_uid:SS.currentUser.id,parent_class_id:this.parentClass.id}})},onNotesFetch:function(){if(this.$(".icon-loading").removeClass("icon-loading"),0!==this.notes.length){var e=this;this.sessions.each(function(t){var i=e.notes.where({session_id:t.id});t.notes=new n.a(i,{comparator:"video_time"}),t.notes.each(function(e){e.session=t}),t.set("rank",t.get("overallRank")),e.listenTo(t.notes,"remove",e.onNoteRemove),e.listenTo(t.notes,"change",e.onNoteChange)});var t=this.sessions.filter(function(e){return e.notes.length>0}),i=new a.a(t),s=new o.a({el:this.$(".learn-mode-sessions-collection-wrapper"),collection:i});this.listenTo(s,"click:videoTime",this.onVideoTime)}else this.$(".empty-area").show()},onNoteRemove:function(e){this.trigger("remove:myNotes",e)},onNoteChange:function(e){this.trigger("change:myNotes",e)},onVideoTime:function(e){this.trigger("click:videoTime",e),this.closePopup()}});t.a=c}).call(this,i(10))},function(e,t,i){"use strict";var s=i(81),n=i(1168),a=s.a.extend({className:"learn-mode-sessions",itemView:n.a});t.a=a},function(e,t,i){"use strict";(function(e){var s=i(8),n=i(892),a=i(117),o=i(1171),r=i.n(o),l=s.a.extend({className:"learn-mode-session",template:r.a,templateData:function(){return e.extend({},this.model.attributes,{numNotesString:a.a.pluralize(this.model.notes.length,"Note")})},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),s.a.prototype.initialize.apply(this,arguments)},afterRender:function(){s.a.prototype.afterRender.apply(this,arguments);var e=new n.a({el:this.$(".learn-mode-notes-collection-wrapper"),collection:this.model.notes});this.listenTo(e,"click:videoTime",this.onVideoTime),this.listenTo(this.model.notes,"remove",this.onNoteRemove)},onNoteRemove:function(){0===this.model.notes.length&&this.remove()},onVideoTime:function(e){this.collectionView.trigger("click:videoTime",e)}});t.a=l}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(8),a=i(887),o=i(888),r=i(673),l=i(574),c=i(528),d=i(509),h=i(1170),u=i.n(h),p=n.a.extend({className:"learn-mode-note",template:u.a,templateData:function(){return e.extend({},this.model.attributes,{formattedBody:l.a.addHTMLLineBreaks(String(this.model.get("body"))),formattedVideoTime:c.a.getTimeFromSeconds(this.model.get("video_time")),isGuest:SS.currentUser.isGuest()})},events:{"click .video-time":"onVideoTime","click .make-private":"onMakePrivate","click .edit-button":"onEdit"},initialize:function(t){e.extend(this,e.pick(t,["collectionView"])),this.listenTo(this.model,"highlight",this.scrollTo),this.listenTo(this.model,"change",this.render),e.extend(this,a.a),n.a.prototype.initialize.apply(this,arguments)},afterRender:function(){var t=this;d.a.initUserPopovers(this);var i=new r.a({message:"Delete this note?",confirmButtonText:"Delete",anchor:this.$(".delete-button")});this.listenTo(i,"confirm",this.destroy),this.initializeLikeButton(),this.listenTo(this.likeButtonView,"save",function(i){t.model.set("userVote",e.pick(i.changed,["id","value"]))}),n.a.prototype.afterRender.apply(this,arguments)},onVideoTime:function(){this.collectionView.trigger("click:videoTime",this.model)},onEdit:function(){this.$(".note-static").hide(),this.noteEditForm=new o.a({initialModel:this.model,container:this.$(".note-edit-form-wrapper")}),this.listenTo(this.noteEditForm,"cancel",this.render)},destroy:function(){this.model.destroy()},scrollTo:function(){var t=this;this.$el.addClass("highlight"),e.delay(function(){t.$el.removeClass("highlight")},2e3);var i=this.$el.position().top;s("html body").animate({scrollTop:i},400)},onMakePrivate:function(){this.model.save({privacy_status:0}).success(this.onMakePrivateSuccess)},onMakePrivateSuccess:function(e){e.collection.remove(e)}});t.a=p}).call(this,i(10),i(9))},function(e,t){e.exports='<div class="learn-mode-note-inner clear">\n    <a href="javascript:;" class="video-time left alternate">{{formattedVideoTime}}</a>\n    {{^privacy_status}}\n        <span class="privacy-status ss-icon-lock">Only Me</span>\n    {{/privacy_status}}\n    <div class="note-content">\n        <div class="note-author">\n            <a href="{{author.url}}">\n                <img src="{{author.image}}" class="author-image user-img-20" data-ss-username="{{author.username}}" />\n            </a>\n            <a href="{{author.url}}" class="author-name link-main" data-ss-username="{{author.username}}">{{author.fullName}}</a>\n        </div>\n        <div class="note-static">\n            <div class="note-body">{{{formattedBody}}}</div>\n            <div class="footer right">\n                <span class="ss-icon-heart note-stat note-stat-likes{{#userVote}}{{#value}} liked{{/value}}{{/userVote}}"{{^numLikes}} style="display: none;"{{/numLikes}}>{{numLikes}}</span>\n            </div>\n            <div class="footer">\n                {{^isGuest}}\n                    <a href="javascript:;" class="note-like alternate">Like</a>\n                {{/isGuest}}\n                {{#canModify}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="edit-button alternate">Edit</a>\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="delete-button alternate">Delete</a>\n                {{/canModify}}\n                {{#canMakePrivate}}\n                    <span class="middot">&middot;</span>\n                    <a href="javascript:;" class="make-private alternate">Make Private</a>\n                {{/canMakePrivate}}\n\n            </div>\n        </div>\n        {{#canModify}}\n            <div class="note-edit-form-wrapper"></div>\n        {{/canModify}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="session-info">\n    <h4 class="session-title">{{title}}</h4><span class="num-notes ss-icon-notes-pin">{{numNotesString}}</span>\n</div>\n<div class="learn-mode-notes-collection-wrapper"></div>\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">My Notes in {{title}}</h4>\n<div class="learn-mode-sessions-collection-wrapper icon-loading"></div>\n<div class="empty-area">You have no notes in this class.</div>\n'},function(e,t){e.exports='{{#subscriptionEnrollUrl}}<a href="{{subscriptionEnrollUrl}}" class="locked-enroll-button" {{#restrict}} data-ss-restrict="{{restrict}}" data-ss-redirect="{{subscriptionEnrollUrl}}"{{/restrict}}>{{/subscriptionEnrollUrl}}\n    {{> modules/_video-player-cta}}\n{{#subscriptionEnrollUrl}}</a>{{/subscriptionEnrollUrl}}\n\n'},function(e,t){e.exports='<div class="video-image" style="background-image: url(\'{{video_mid_thumbnail_url}}\')">\n    <div class="cta ss-icon-play {{enrollForFree}}">\n        <div class="ss-button-text">{{buttonText}}</div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){i(283),i(1176),i(34);var s=i(35),n=i(62),a=i(625),o=i(626),r=i(680),l=i(675),c=i(615),d=i(594),h=i(645),u=i(185),p=i(1178),v=i.n(p),m=i(851),f=i.n(m),g=i(1179),y=i.n(g),w=i(1180),b=i.n(w),k=i(1181),C=i.n(k),S=i(1182),T=i.n(S),P=i(538),x=i.n(P),D=i(1183),$=i.n(D),E=i(1184),M=i.n(E),_=i(561),R=i.n(_),N=i(1185),I=i.n(N),V=i(693),L=i.n(V),A=i(694),j=i.n(A),B=i(729),O=i.n(B),z=i(526),U=i.n(z),F=i(852),H=i.n(F),G=i(735),W=i.n(G),Y=i(87),q=i(885),J=i(592),K=i(893),Q=a.a.extend({template:v.a,templatePartials:{"new-classes/_user-project":f.a,"shared/_referral-promo":M.a,"shared/_small-list-view-grid-item":R.a,"shared/_large-list-view-grid":I.a,"shared/_large-list-view-grid-item":L.a,"new-classes/_stats-column":$.a,"partials/_class-preview":j.a,"partials/_class-preview-video":O.a,"partials/_user-information-small":U.a,"partials/_user-information-large":H.a,"new-classes/_tags-section":y.a,"new-classes/_level-section":b.a,"new-classes/_about-this-class":C.a,"new-classes/_top-projects":T.a,"partials/_class-stats":x.a,"partials/_user-snippet":W.a},templateData:function(){return this.model.attributes},events:{"click .view-reviews":"onClickViewReviews","click .email.share-button":"onClickEmailShare","click .js-abuse-flag-href":"onAbuseFlagClick"},initialize:function(){this.levelSelectors=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.initReviewsTooltipPopover(),this.parentClass=new J.a(SS.serverBootstrap.classData),a.a.prototype.initialize.apply(this,arguments)},initProjectsCollection:function(){var e=this.model.get("topProjects");this.projectsCollection=new o.a(e),this.projectsCollection.loadMore=!1,this.projectsCollection.page=0},initProjectsCollectionView:function(){var e=this.$(".projects-list");this.projectsCollectionView=new r.a({collection:this.projectsCollection,data:this.model.attributes,prependTemplate:null,el:e}),this.projectsCollectionView.collection.each(this._bubbleChanges,this)},initReviewsTooltipPopover:function(){var e=this.$(".reviews-stats-column");this.reviewsStatsSectionPopover=new s.a({autoPosition:!1,showOnHover:!0,anchor:e,el:e.find(".popover")})},afterRender:function(){var e=this.model.get("teacherInfo");new u.a({container:this.$(".follow-button-wrapper"),classes:"follow-button-link-style",modelData:{user:new n.a({uid:e.teacherUid}),followingId:!!e.user_is_following&&e.teacherUid}}),this.initProjectsCollection(),this.initProjectsCollectionView(),this.model.get("relatedClasses")&&this.model.get("relatedClasses").list.length&&this.initRelatedClasses(),this.setClassLevel(),a.a.prototype.afterRender.apply(this,arguments)},initRelatedClasses:function(){this.relatedClasses=new l.a(this.model.get("relatedClasses").list),this.relatedClassesCollectionView=new c.a({collection:this.relatedClasses,el:this.$(".class-list-view"),itemView:d.a})},afterPreRender:function(){this.afterRender()},getLevelingRating:function(e){return Number.isInteger(e)&&e>=0&&e<this.levelSelectors.length?e:0},setClassLevel:function(){var e=this.getLevelingRating(this.model.attributes.displayLevelingRating);this.$(".level li").removeClass("active"),this.$(".level li[data-value='".concat(e,"']")).addClass("active"),this.$(".level-indicator").addClass(this.levelSelectors[e])},onClickViewReviews:function(e){e.preventDefault()},onClickEmailShare:function(){SS.currentUser.isGuest()||new h.a({model:new e.Model(SS.serverBootstrap.classData.parentClass)})},onAbuseFlagClick:function(e){SS.serverBootstrap.userData.isMember?(e.preventDefault(),this.userAbuseFlag=new q.a({parentClassSku:this.parentClass.get("sku"),uid:SS.serverBootstrap.userData.id}),new K.a({model:this.userAbuseFlag})):new Y.a({state:"signup"})}});t.a=Q}).call(this,i(15))},function(e,t,i){var s=i(22);s(s.S,"Number",{isInteger:i(1177)})},function(e,t,i){var s=i(32),n=Math.floor;e.exports=function(e){return!s(e)&&isFinite(e)&&n(e)===e}},function(e,t){e.exports='<div id="home-section">\n    <div class="home-section-grid">\n        <div class="home-section-body"> \n            {{> new-classes/_about-this-class}}\n            {{> new-classes/_top-projects}}\n        </div>\n        <div class="home-section-sidebar">\n            {{> new-classes/_stats-column}}\n            <div class="teacher-section">\n                {{#teacherInfo}}\n                    <div class="teacher-details">\n                        <div class="author-image user-img-50" data-ss-username="{{username}}" data-ss-placement="bottom">\n                            <a href="{{profileUrl}}"{{#openInNew}} target="_blank"{{/openInNew}}><img src="{{image}}" /></a>\n                        </div>\n                        <div class="author-detail">\n                            <h4 data-ss-username="{{username}}"><a href="{{profileUrl}}" class="link-main no-bold ellipsis"{{#openInNew}} target="_blank"{{/openInNew}}>{{fullName}} <span class="follow-button-wrapper"></span></a></h4>\n                            <p class="author-headline ellipsis">{{headline}}</p>\n                            {{#isTopTeacher}}\n                                <span class="teacher-tag teacher-tag-top-teacher-badge">\n                                    <span class="ss-icon-premium-badge"></span>Top Teacher\n                                </span>\n                            {{/isTopTeacher}}\n                        </div>\n                    </div>\n\n                    <div class="teacher-description rich-content-wrapper">\n                        <p>{{{bio}}}</p>\n                        <p><a href="{{{profileUrl}}}" target="_blank">See full profile</a></p>\n                    </div>\n                {{/teacherInfo}}\n            </div>\n            {{> new-classes/_tags-section}}\n            {{> new-classes/_level-section}}\n            <a class="js-abuse-flag-href abuse-flag">Report class</a>\n        </div>\n    </div>\n\n    {{#relatedClasses}}\n        <div id="related-classes-wrapper" class="home-section-grid">\n            <h4 class="title">Related Classes</h4>\n            {{> shared/_large-list-view-grid }}\n        </div>\n    {{/relatedClasses}}\n\n</div>\n'},function(e,t){e.exports='{{#hasTags}}\n    <div class="tags-section">\n        <h5 class="sidebar-section-title">Skills in this Class:</h5>\n        {{#tags}}\n            <a class="tag light" href="{{url}}" data-ss-tag="{{slug}}" target="_blank">{{name}}</a>\n        {{/tags}}\n    </div>\n{{/hasTags}}\n'},function(e,t){e.exports='{{#hasLevel}}\n    <div class="level-section">\n      <span><strong>Level: </strong>{{level}}</span>\n    </div>\n{{/hasLevel}}\n'},function(e,t){e.exports='<div class="about-this-class-wrapper">\n    <div class="about-this-class">\n        <h2 class="section-header title">About This Class</h2>\n        <div class="description-column">\n            <div class="rich-content-wrapper">\n                {{#description}}\n                    <p>{{{description}}}</p>\n                {{/description}}\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="project-gallery">\n    <h4 class="section-header title">Class Projects{{#showProjectCount}} <span class="header-count">{{numProjects}}</span>{{/showProjectCount}} <a href="{{allProjectUrl}}" class="see-all-btn button alt-charcoal-ghost right">See All</a></h4>\n    <div class="class-project">\n        <div class="class-project-snippet ellipsis">{{classProjectSnippet}}</div>\n        <a href="{{baseUrl}}/projects" class="class-project-read-more section-navigation alternate">(Read More)</a>\n    </div>\n    <div class="projects-list row">\n        {{#topProjects}}\n            {{> shared/_small-list-view-grid-item}}\n        {{/topProjects}}\n    </div>\n</div>\n'},function(e,t){e.exports='<div class="stats-column">\n    <div class="stat">\n        <p class="class-count number ss-icon-empty-user">\n            {{^numStudents}}--{{/numStudents}}\n            {{#numStudents}}{{numStudents}}{{/numStudents}}\n        </p>\n        <p class="class-count label">Student{{^singleStudent}}s{{/singleStudent}}</p>\n    </div>\n    <div class="stat">\n        <p class="class-count number ss-icon-pictures">\n            {{^numProjects}}--{{/numProjects}}\n            {{#numProjects}}{{numProjects}}{{/numProjects}}\n        </p>\n        <p class="class-count label">Project{{^singleProject}}s{{/singleProject}}</p>\n    </div>\n    <div class="stat">\n        <div class="reviews-stats-column">\n            <ul class="level">\n                <li class="icon">\n                <div class="level-indicator">\n                    <span class="a"></span>\n                    <span class="b"></span>\n                    <span class="c"></span>\n                </div>\n                </li>\n                <li data-value="0"><span>--</span></li>\n                <li data-value="1"><span>Beginner</span></li>\n                <li data-value="2"><span>Intermediate</span></li>\n                <li data-value="3"><span>Advanced</span></li>\n                <li data-value="4"><span>All Levels</span></li>\n                <li data-value="5"><span>Beg/Int</span></li>\n                <li data-value="6"><span>Int/Adv</span></li>\n            </ul>\n            <p class="reviews-level label">Level</p>\n            <div class="popover shadow reviews-tooltip-popover">\n                <div class="inner-popover">\n                    <div class="arrow"></div>\n                    <p class="tooltip-title">Community Generated</p>\n                    <p class="tooltip-text">The level is determined by a majority opinion of students who have reviewed this class.\n                    The teacher\'s recommendation is shown until at least 5 student responses are collected.</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,t){e.exports='<a href="javascript:;" class="block-link js-show-referral-popup referral-promo clear ga-event" ga-cat="{{gaCategory}}" ga-action="Click Open Popup">\n    <div class="left">\n        <img class="tofu" src="/assets/images/gift.png" alt="Invite a friend and get a free month" />\n    </div>\n    <div class="detail">\n        <p class="title">Invite a Friend.</p>\n        <p class="title">Get a free month.</p>\n        <p class="more"><span>Learn more</span></p>\n    </div>\n</a>\n'},function(e,t){e.exports='<div class="class-list-view row clear">\n    {{#list}}\n        {{> shared/_large-list-view-grid-item}}\n    {{/list}}\n</div>\n'},function(e,t){e.exports='<a href="javascript:;" class="btn-close ss-icon-close"></a>\n<h4 class="popup-title">Report this Class</h4>\n<p class="popup-description">Flagged content is reviewed by Skillshare staff to determine whether it violates our <a target="_blank" href="https://help.skillshare.com/hc/en-us/articles/205220897-What-are-Skillshare-s-Class-Guidelines-">guidelines</a>. If you have a question or technical issue, please contact our Support team <a target="_blank" href="https://help.skillshare.com/hc/en-us/requests/new">here</a>. </p>\n<form class="submit-a-report-form" method="POST">\n      <label class="popup-subtitle">Why do you want to report this class?</label>\n        <ul class="infraction-type-list">\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type1" name="infraction" value="1"><label for="infraction-type1">This class includes illegal, hateful, explicit, or violent content</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type2" name="infraction" value="2"><label for="infraction-type2">This class promotes fraudulent or dubious business schemes</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type3" name="infraction" value="3"><label for="infraction-type3">This class uses Skillshare as a proxy to advertise another website or service</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type4" name="infraction" value="4"><label for="infraction-type4">Content from this class is stolen or otherwise does not originate with the teacher</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type5" name="infraction" value="5"><label for="infraction-type5">This class contains poor audio or visual quality</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type6" name="infraction" value="6"><label for="infraction-type6">This class does not teach a real or useful skill</label></li>\n           <li class="radio-input"><input type="radio" class="infraction-type" id="infraction-type7" name="infraction" value="7"><label for="infraction-type7">Other</label></li>\n        </ul>\n      <p class="error-message">You must select a reason to submit a report</p>\n      <p class="text-required-error">Please use the comment box below to explain your issue</p>\n    <fieldset>\n        <label>Share more details to help us identify the violation: <span class="optional">(Optional)</span></label>\n        <div class="fields">\n            <textarea class="abuse-flag-info" name="abuse-flag-info"></textarea>\n        </div>\n    </fieldset>\n    <fieldset>\n        <input type="submit" class="submit-report-button btn small primary" value="Submit Report" />\n    </fieldset>\n</form>\n'},function(e,t,i){"use strict";(function(e,s){var n=i(625),a=i(1188),o=i.n(a),r=n.a.extend({template:o.a,PLAYLIST_SEL:".js-video-playlist-module",LESSONS_TAB:".js-video-playlist-module-lessons-tab",PLAYER_CONTAINER:".js-video-and-playlist-container",TOP_PLAYER_CONTAINER:".js-cd-video-player-container",MIN_WIDTH_NEEDED:940,playlist:null,saveButton:null,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,"classModel")),this.$=s,this.playlist=this.$(this.PLAYLIST_SEL),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),n.a.prototype.initialize.apply(this,arguments)},onAttached:function(){this.setLayoutBottom(),this.attachSizeWatcher()},onUnattach:function(){this.removeSizeWatcher()},afterRender:function(){this.setLayoutBottom(),n.a.prototype.afterRender.apply(this,arguments)},attachSizeWatcher:function(){var e=this;this.$(window).on("resize.skPlaylistResposiveWatcher",function(){var t=s(e.TOP_PLAYER_CONTAINER).width();e.decideLayout(t)})},decideLayout:function(e){e>this.MIN_WIDTH_NEEDED?this.setLayoutRight():this.setLayoutBottom()},removeSizeWatcher:function(){s(window).off("resize.skPlaylistResposiveWatcher")},setLayoutBottom:function(){this.playlistIsIn(this.LESSONS_TAB)||this.playlist.appendTo(this.$(this.LESSONS_TAB))},setLayoutRight:function(){this.playlistIsIn(this.PLAYER_CONTAINER)||(this.playlist.appendTo(this.$(this.PLAYER_CONTAINER)),this.$('.user-navigation-wrapper a[href*="projects"]').last().click())},playlistIsIn:function(e){return 1===this.playlist.parents(e).length}});t.a=r}).call(this,i(10),i(9))},function(e,t){e.exports='<div id="lessons-tab">\n    <div class="js-video-playlist-module-lessons-tab"></div>\n</div>'},function(e,t,i){"use strict";(function(e,s,n){i(183),i(60),i(83),i(669),i(34),i(58);var a=i(35),o=i(625),r=i(592),l=i(595),c=i(585),d=i(775),h=i(781),u=i(599),p=i(863),v=i(862),m=i(1190),f=i(511),g=i(87),y=i(1193),w=i.n(y),b=o.a.extend({COLLECTION_TYPE_NEW:1,COLLECTION_TYPE_ARCHIVE:2,template:w.a,events:{"click .sort-order a":"onChangeSortMethod","click .load-more":"onLoadMore","click .enabled-expectation":"onExpectationSort","click .leave-a-review-popup-btn":"onLeaveAReviewClick"},setReviewsData:function(){this.setLevel(),this.setPercentages(),this.initReviewsTooltipPopover(),this.initReviewsCollection(),this.setTagCounts(),this.parentClass=new r.a(SS.serverBootstrap.classData),this.bindEvents(),this.autoDisplayForm(this.model.get("autoDisplayReviewForm")),this.maybeBringArchivesIntoView()},afterPreRender:function(){this.afterRender()},afterRender:function(){this.leaveAReviewButton=this.$(".leave-a-review-popup-btn"),this.tagData=[],this.levels=["none","beginner","intermediate","advanced","all","beg-int","int-adv"],this.aggregateReviewsData=this.model.get("aggregateReviewsData"),this.setReviewsData(),o.a.prototype.afterRender.apply(this,arguments)},autoDisplayForm:function(e){e&&(this.$(".js-primary-reviews-btn").trigger("click"),this.model.set("autoDisplayReviewForm",!1))},bindEvents:function(){e.bindAll(this,"onLeaveAReviewBtnClick"),this.$(".leave-a-review-popup-btn").on("click",this.onLeaveAReviewBtnClick)},setTagCounts:function(){for(var e in this.aggregateReviewsData.tagCounts)this.tagData.push({count:this.aggregateReviewsData.tagCounts[e].value,name:this.aggregateReviewsData.tagCounts[e].name})},initReviewsCollection:function(){this.reviewsCollection=new d.a(this.model.get("reviews")),this.reviewsCollectionView=new p.a({collection:this.reviewsCollection,el:this.$(".new-reviews")}),this.model.get("reviewsEmpty")&&this.$(".empty-reviews").addClass("show"),this.archiveReviewsCollection=new h.a(this.model.get("archiveReviews"));var e=this.model.attributes.loadMoreUrl;this.reviewsCollection.url=e,this.archiveReviewsCollection.url=e,this.reviewsArchiveCollectionView=new v.a({collection:this.archiveReviewsCollection,el:this.$(".archive-reviews")}),this.listenTo(this.reviewsCollection,"update",this.updateLoadMoreReviews),this.listenTo(this.archiveReviewsCollection,"update",this.updateLoadMoreArchiveReviews),this.model.get("aggregateReviewsData")&&(this.setupTabs(),this.updateMetricsSection())},updateLoadMoreReviews:function(){!1===this.reviewsCollection.loadMoreReviews&&(this.$(".new-reviews-load-more").hide(),this.maybeBringArchivesIntoView(!1))},maybeBringArchivesIntoView:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.model.get("loadMoreReviews"),t=this.model.get("numArchiveReviews");!e&&t&&this.bringArchivesIntoView()},bringArchivesIntoView:function(){this.$(".js-archive-container").removeClass("hide");var e={collectionType:this.COLLECTION_TYPE_ARCHIVE};this.getMoreReviews(this.archiveReviewsCollection,e)},updateLoadMoreArchiveReviews:function(){!1===this.archiveReviewsCollection.loadMoreArchiveReviews&&this.$(".archive-load-more").hide()},initReviewsTooltipPopover:function(){var e=this.$(".reviews-tooltip-icon");this.reviewsTooltipPopover=new a.a({autoPosition:!1,showOnHover:!0,arrowPlacement:"top",anchor:e,el:e.find(".popover")});var t=this.$(".most-liked-icon");this.likedTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"top",arrowPlacement:"bottom",anchor:t,el:t.find(".popover")});var i=this.$(".expectations-icon");this.likedTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"top",arrowPlacement:"bottom",anchor:i,el:i.find(".popover")})},setupTabs:function(){var e=this.model.get("reviewsSortOrder")||{tabs:[]};this.sortTabs=new c.a(e.tabs);var t=this.$(".sort-order");new u.a({collection:this.sortTabs,el:t})},getLevelingRating:function(e){return e>=0&&e<this.levels.length?e:0},setLevel:function(){this.$(".tile.level .active").removeClass("active");var e=this.getLevelingRating(this.aggregateReviewsData.levelingRating);this.$(".tile.level, .tile.level .level-indicator").addClass(this.levels[e]),this.$("em.".concat(this.levels[e])).addClass("active");var t=this.model.get("numNewReviews"),i=this.aggregateReviewsData.teacherSetLevel,s=1===t?"review":"reviews",n={teacher:"(Based on the teacher's recommendation)",generated:"(Based on ".concat(t," ").concat(s,")"),empty:"(Be the first to suggest a level for this class)"},a=this.$(".tile.level .notes");0===e?a.text(n.empty):!0===i?a.text(n.teacher):a.text(n.generated)},displayTags:function(){if(this.tagData.length>0){for(var e in this.tagData){var t=this.tagData[e],i=this.$(".tile.likes li[data-value='".concat(e,"']"));i.children(".ss-icon-heart").text(t.count),i.children(".tagName").text(t.name)}this.$(".tile.likes").removeClass("empty"),this.$(".tile.likes .icon-circle").addClass("mute-popover")}},setPercentages:function(){var e=this.$(".tile.expectations");if(Object.keys(this.aggregateReviewsData.overallRatingPercentages).length>0){for(var t in this.aggregateReviewsData.overallRatingPercentages){var i=this.aggregateReviewsData.overallRatingPercentages[t],s=this.$(".tile.expectations li[data-value='".concat(t,"']"));s.children(".graph-item").children("span").css("width","".concat(i.avg,"%")),s.children(".percentage").text("".concat(i.avg,"%")),s.addClass("enabled-expectation")}e.removeClass("empty"),this.$(".tile.expectations .icon-circle").addClass("mute-popover"),e.data("sorted")&&this.$(".tile.expectations li[data-value='".concat(e.data("sorted"),"']")).addClass("active")}},updateMetricsSection:function(){for(var e in this.aggregateReviewsData=this.model.get("aggregateReviewsData"),this.tagData=[],this.aggregateReviewsData.tagCounts)this.tagData.push({count:this.aggregateReviewsData.tagCounts[e].value,name:this.aggregateReviewsData.tagCounts[e].name});this.setLevel(),this.displayTags(),this.setPercentages(),this.initReviewsTooltipPopover(),this.canReview()},canReview:function(){if(!this.model.get("canReview")){this.$(".leave-a-review-popup-btn").addClass("disabled");var e=this.$(".leave-a-review-popup-btn");this.leaveReviewTooltipPopover=new a.a({autoPosition:!0,showOnHover:!0,placement:"top",arrowPlacement:"bottom",anchor:e,el:e.find(".popover")})}},onChangeSortMethod:function(e){var t=this;e.preventDefault();var i=e.target.href.replace(window.location.protocol+"//"+window.location.hostname,"");s.history.navigate(i);var n=Object(f.a)(i).reviewsSort;this.model.get("currentSort")!==n&&(this.$("#reviews-section").addClass("loading-overlay"),this.model.fetch({data:{reviewsSort:n},success:function(){t.initReviewsCollection(),t.$el.removeClass("loading-overlay")}}))},onLoadMore:function(e){e.preventDefault();var t=n(e.currentTarget).data("value"),i=t===this.COLLECTION_TYPE_NEW?this.reviewsCollection:this.archiveReviewsCollection,s=i.length,a={};this.model.get("expectationsSort")&&t===this.COLLECTION_TYPE_NEW&&(a.expectationsSort=this.model.get("expectationsSort")),a.offset=s,a.collectionType=t,this.getMoreReviews(i,a)},getMoreReviews:function(e,t,i){e.fetch({update:!0,remove:!1,loadMore:!0,data:t,success:i})},onExpectationSort:function(e){var t=this;e.preventDefault();var i=n(e.currentTarget).data("value");this.model.get("expectationsSort")!==i&&(this.$("#reviews-section").addClass("loading-overlay"),this.model.fetch({data:{expectationsSort:i},success:function(){t.initReviewsCollection(),t.$el.removeClass("loading-overlay"),t.$(".tile.expectations").addClass("sorted").attr("data-sorted",i)}}))},onReviewBtnHover:function(e){n(e.currentTarget).hasClass("disabled")||this.leaveReviewTooltipPopover.destroy()},getReviewModel:function(){return this.model.get("currentUserHasReviewed")?new l.a(this.model.get("currentUserReviewData")):new l.a({parentClassSku:this.parentClass.get("sku")})},openLeaveAReviewPopup:function(){var e=SS.serverBootstrap.pageData;this.userReview||(this.userReview=this.getReviewModel());var t=SS.serverBootstrap.pageData.aboutData.description;"string"==typeof t&&(t=t.replace(/<img .*?>/g,""));var i=new m.a({model:this.userReview,aboutData:t,pageData:e});return this.listenTo(i,"review:create",this.ajaxUpdateOnReviewCollection),i},ajaxUpdateOnReviewCollection:function(){this.initReviewsCollection()},onLeaveAReviewBtnClick:function(e){var t=this;if(e.preventDefault(),!n(e.currentTarget).hasClass("disabled")){var i=this.openLeaveAReviewPopup();if(this.listenTo(i,"review:create",function(){t.model.set("reviewBtnCopy","Edit Review")}),this.userReview.isNew()){var s=n(e.target).data("mixpanelSrc");this.reviewButtonTracking(i,s)}}this.triggerMemberPopups(e)},reviewButtonTracking:function(e,t){var i=SS.EventTracker.classDetails({origin:t});SS.EventTracker.track("Start Review",{},i),this.listenTo(e,"review:create",function(){SS.EventTracker.track("Submit Review",{},i)})},triggerMemberPopups:function(e){SS.serverBootstrap.userData.isMember?!SS.serverBootstrap.userData.isPremiumMember&&SS.serverBootstrap.parentClassData.is_premium&&SS.events.trigger("premiumpopup:open",{event:e}):new g.a({state:"signup"})}});t.a=b}).call(this,i(10),i(15),i(9))},function(e,t,i){"use strict";(function(e,s){i(118);var n=i(1191),a=i(1192),o=i.n(a),r=n.a.extend({disabled:!1,className:"leave-a-review-popup",template:o.a,templateData:function(){return this.options},bindings:{".testimonial":"testimonial"},events:function(){return e.extend(n.a.prototype.events.call(this),{"click .submit-review-button":"onSubmit"})},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e.extend({},t,{aboutDataTrunc:this.getTruncatedAboutCopy(this.options.aboutData)}),n.a.prototype.initialize.apply(this,arguments),e.bindAll(this,"onSubmitSuccess","onSubmitError","onReadMore","onReadLess","onSingleClick","onToggleClick")},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$submitButton=this.$(".submit-review-button"),this.$errorMessage=this.$(".error-message"),this.isEditingReview=!this.model.isNew(),this.isEditingReview&&this.$submitButton.val("Edit Review"),this.stickit(),this.$(".read-more").on("click",this.onReadMore),this.$(".read-less").on("click",this.onReadLess),this.$(".single").on("click",this.onSingleClick),this.$(".toggle").on("click",this.onToggleClick),this.updateFields(this.model.attributes),SS.events.trigger("takeover:video:pause"),setTimeout(function(){s("#click-off-overlay").css("height","99.9%")},500)},updateFields:function(e){for(var t in this.$('.overall_rating .single[data-value="'.concat(e.overall_rating,'"]')).addClass("active"),this.$('.leveling_rating .single[data-value="'.concat(e.leveling_rating,'"]')).addClass("active"),e.tags)this.$('.toggle[data-value="'.concat(e.tags[t],'"]')).addClass("active");this.$("#review-comments").val(e.testimonial)},onSingleClick:function(e){e.preventDefault(),s(e.currentTarget).addClass("active"),s(e.currentTarget).siblings(".single").removeClass("active");var t=this.getTypeValueData(e.currentTarget);this.model.set(t.type,t.value),this.clearPanelError(".".concat(t.type))},onToggleClick:function(e){e.preventDefault(),s(e.currentTarget).toggleClass("active");var t=this.getTypeValueData(e.currentTarget),i=[];this.$(".".concat(t.type," .toggle.active")).each(function(){i.push(s(this).data("value"))}),this.model.set(t.type,i)},getTypeValueData:function(e){return{type:s(e).data("type"),value:s(e).data("value")}},onSubmit:function(e){e.preventDefault(),this.model.set("testimonial",s("#review-comments").val()),this.validate()&&this.model.save().success(this.onSubmitSuccess).error(this.onSubmitError)},onSubmitSuccess:function(e){this.model.set(e.review);var t=this.isEditingReview?"edited":"submitted";SS.events.trigger("alerts:create",{title:"Your review has been ".concat(t,"!"),type:"success"}),this.trigger("review:create"),this.closePopup()},onSubmitError:function(){this.enable()},validate:function(){var e=!0;return this.clearPanelError(".overall_rating, .leveling_rating"),0===this.$(".overall_rating .active").length&&(this.$(".overall_rating").addClass("error"),e=!1),0===this.$(".leveling_rating .active").length&&(this.$(".leveling_rating").addClass("error"),e=!1),e||s("#click-off-overlay").animate({scrollTop:0},500),e},clearPanelError:function(e){this.$(e).removeClass("error")},onReadMore:function(){this.$(".about-copy-trunc").addClass("hide"),this.$(".about-copy-full").removeClass("hide")},onReadLess:function(){this.$(".about-copy-trunc").removeClass("hide"),this.$(".about-copy-full").addClass("hide")},enable:function(){this.disabled=!1,this.$submitButton.removeClass("disabled")},disable:function(){this.disabled=!0,this.$submitButton.addClass("disabled")},getTruncatedAboutCopy:function(e){var t=e.indexOf("</p>");return e.substring(0,t)}});t.a=r}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e,s,n){i(184);var a=i(25),o=i(57),r=i(23),l=i(45),c=i.n(l),d=a.a.extend({id:"takeover-popup-view",autoRender:!0,container:"#click-off-overlay",shouldShowLoaderIcon:!0,template:null,templateData:{},templatePartials:{},disposeOnClose:!0,events:function(){return e.extend(a.a.prototype.events.call(this),{"click .btn-close":"onClickClose","click .btn-action-cancel":"onClickClose"})},options:function(){return{}},initialize:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.bindAll(this,"openPopup","closePopup","createWithView"),a.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(i,["preventClose","template","templateData","templatePartials","basicPopup","centerVertically","disposeOnClose"])),this.disposeOnClose&&this.listenTo(r.a,"overlayDidCloseEVENT",function(){return t.trigger("onPopupDidCloseEvent")}),this.listenTo(r.a,"overlayWasClickedEVENT",this.closePopup),s(document).one("keyup.esckey",function(e){27===e.which&&t.trigger("onPopupDidCancelEvent")}),this.on("onPopupDidCancelEvent",this.onPopupCancel),this.on("onPopupDidCloseEvent",this.dispose);var n=i.endpoint||this.endpoint;if(n){this.autoRender=!1;var o=i.endpointData||this.endpointData||{};this.createWithContentFromEndpoint(n,o)}},render:function(){if(a.a.prototype.render.apply(this,arguments),!e.isNull(this.template)){var t=e.result(this,"templateData"),i=c.a.render(this.template,t,this.templatePartials);this.$el.append(i),this.openPopup()}return this.renderSubviews(),this.trigger("didRender"),this},afterRender:function(){a.a.prototype.afterRender.apply(this,arguments)},renderSubviews:function(){(0!==this.$(".popup-content").length?this.$(".popup-content"):this.$el).append(e.map(this.subviews,function(e){return e.el})),e.each(this.subviews,function(e){return e.render()})},createWithContentFromEndpoint:function(e,t){var i=this;!1!==this.shouldShowLoaderIcon&&this.addLoaderIcon();var s=new n.Model;s.url=e;var o=new a.a({model:s});o.render=function(){this.$el.empty().html(this.model.get("content"))},this.subview("content",o),s.fetch({data:t}).done(function(){i.$el.removeClass("loader center-vertically"),i.$el.empty(),i.$el.css("margin-top","80px"),i.$el.addClass(i.popupClasses),i.render(),i.trigger("subview:loaded"),i.delegateEvents()})},createWithView:function(e){this.subview("content",e);var t=this;this.subview("content").on("onContentReady",function(){t.render(),t.openPopup()})},onClickClose:function(e){e.preventDefault(),this.trigger("onClickCloseEvent"),this.trigger("onPopupDidCancelEvent"),s("#click-off-overlay").css("height","")},onPopupCancel:function(){this.closePopup(!0)},openPopup:function(){r.a.open({closeOnlyWithTheXButton:!0}),this.$el.show(),o.a.push(this.$el,{emptyOnPop:this.disposeOnClose})},closePopup:function(e){!0!==e&&!0===this.preventClose||(o.a.getStack().length>1?o.a.pop():(r.a.close(),SS.events.trigger("takeover:video:play")))},addLoaderIcon:function(){this.popupClasses=this.$el.attr("class"),this.$el.removeClass(),this.$el.addClass("loader center-vertically"),this.$el.empty().html('<div class="icon-loading"></div>'),s(this.container)[this.containerMethod](this.$el),this.openPopup()}});t.a=d}).call(this,i(10),i(9),i(15))},function(e,t){e.exports='<div class="leave-a-review-header">\n  <div class="logo">\n    <div class="site-header-logo">\n      <a href="javascript:;" class="site-header-logo-image js-site-header-logo"></a>\n    </div>\n  </div>\n  <h4 class="popup-title">Tell us what you think about this class!</h4>\n  <svg class="ss-svg-icon btn-close"><use xlink:href="#close" /></svg>\n</div>\n<div class="leave-a-review-body">\n  <div class="columns">\n    <div class="column left">\n      <div class="video-still"><img src="{{ pageData.syllabusData.classImageUrl }}" alt="{{ pageData.headerData.title }}" /></div>\n      <div class="video-title">{{ pageData.headerData.title }}</div>\n      <div class="video-byline">{{ pageData.headerData.teacher.fullName }}, {{ pageData.headerData.teacher.headline }}</div>\n      <div class="video-length ss-icon-outline-clock">&nbsp;{{ pageData.videoPlayerData.totalSessionsDuration }}</div>\n\n      <div class="about-block">\n        <h4>About this Class</h4>\n        <div class="about-copy-trunc">{{{ aboutDataTrunc }}} <a href="javascript:;" class="read-more">Read More...</a></div>\n        <div class="about-copy-full hide">{{{ aboutData }}} <p><a href="javascript:;" class="read-less">Read Less...</a></p></div>\n      </div>\n    </div>\n    <div class="column right">\n      <form class="leave-a-review-form">\n        <fieldset class="overall_rating tiles">\n          <h4>Did this class meet your expectations?*</h4>\n          <ul class="rating-grid">\n            <li data-type="overall_rating" data-value="1" class="single">Not really</li>\n            <li data-type="overall_rating" data-value="2" class="single">Somewhat</li>\n            <li data-type="overall_rating" data-value="3" class="single">Yes</li>\n            <li data-type="overall_rating" data-value="4" class="single">Exceeded!</li>\n          </ul>\n          <div class="error">Please select an answer.</div>\n        </fieldset>\n        <fieldset class="leveling_rating tiles">\n          <h4>What level of experience would you suggest for students taking this class?*</h4>\n          <ul class="rating-grid">\n            <li class="level-beginner single" data-type="leveling_rating" data-value="1">\n              <div class="level-indicator beginner">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Beginner\n            </li>\n            <li class="level-intermediate single" data-type="leveling_rating" data-value="2">\n              <div class="level-indicator intermediate">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Intermediate\n            </li>\n            <li class="level-advanced single" data-type="leveling_rating" data-value="3">\n              <div class="level-indicator advanced">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Advanced\n            </li>\n            <li class="level-all single" data-type="leveling_rating" data-value="4">\n              <div class="level-indicator all">\n                <span class="a"></span>\n                <span class="b"></span>\n                <span class="c"></span>\n              </div>\n              Any Level\n            </li>\n          </ul>\n          <div class="error">Please select an answer.</div>\n        </fieldset>\n        <fieldset class="like list">\n          <h4>What did you like about this class?<span>(Select all that apply)</span></h4>\n          <ul>\n            <li data-type="like" data-value="1" class="toggle">Engaging Teacher</li>\n            <li data-type="like" data-value="2" class="toggle">Organization of Lessons</li>\n            <li data-type="like" data-value="3" class="toggle">Clarity of Instruction</li>\n            <li data-type="like" data-value="4" class="toggle">Helpful Examples</li>\n            <li data-type="like" data-value="5" class="toggle">Actionable Steps</li>\n            <li data-type="like" data-value="6" class="toggle">Audio & Video Quality</li>\n          </ul>\n        </fieldset>\n        <fieldset class="improvement list">\n          <h4>What could be improved?<span>(Your selections are shared privately with the teacher)</span></h4>\n          <ul>\n            <li data-type="improvement" data-value="7" class="toggle">Organization of Lessons</li>\n            <li data-type="improvement" data-value="8" class="toggle">Clarity of Instruction</li>\n            <li data-type="improvement" data-value="10" class="toggle">More Actionable</li>\n            <li data-type="improvement" data-value="9" class="toggle">More Examples & Tips</li>\n            <li data-type="improvement" data-value="11" class="toggle">Audio Quality</li>\n            <li data-type="improvement" data-value="12" class="toggle">Video Quality</li>\n          </ul>\n        </fieldset>\n        <fieldset class="comments">\n          <h4>Anything else?<span>Write a public review (optional)</span></h4>\n          <textarea aria-label="Review comments" placeholder="Elaborate on your selections above. What else might be helpful for students considering this class?" id="review-comments"></textarea>\n        </fieldset>\n        <input type="submit" class="submit-review-button button large" value="Submit Review" />\n      </form>\n    </div>\n  </div>\n</div>\n'},function(e,t){e.exports='<div id="reviews-tab">\n  <div class="reviews-section-grid">\n    <header class="tab-header">\n      <h5>How students rated this class</h5>\n      <div class="leave-a-review-popup-btn-wrapper">\n        <div data-mixpanel-src="leave_review_button" class="leave-a-review-popup-btn js-primary-reviews-btn button alt-charcoal-ghost">\n          {{#currentUserHasReviewed}}\n            Edit Review\n          {{/currentUserHasReviewed}}\n          {{^currentUserHasReviewed}}\n            Leave Review\n          {{/currentUserHasReviewed}}\n          <div class="popover shadow reviews-tooltip leave-review-tooltip-popover-metrics-section">\n            <div class="inner-popover">\n              <div class="arrow"></div>\n              <p class="tooltip-title">Watch more to review</p>\n              <p class="tooltip-text">We ask our students to watch a few lessons before reviewing to make sure we get quality feedback!</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n    <div id="metrics-section">\n      <div class="tile level">\n        <strong>Best Suited for</strong>\n        <div class="level-indicator">\n          <span class="a"></span>\n          <span class="b"></span>\n          <span class="c"></span>\n        </div>\n        <div class="leveling-tooltip-row">\n          <em class="none">&nbsp;--&nbsp;</em>\n          <em class="beginner">Beginner</em>\n          <em class="intermediate">Intermediate</em>\n          <em class="advanced">Advanced</em>\n          <em class="beg-int">Beginner/Intermediate</em>\n          <em class="int-adv">Intermediate/Advanced</em>\n          <em class="all">All Levels</em>\n          <div class="reviews-tooltip-icon help-icon icon-help">\n            <div class="popover shadow reviews-tooltip reviews-tooltip-popover-metrics-section">\n              <div class="inner-popover">\n                <div class="arrow"></div>\n                <p class="tooltip-title">Community Generated</p>\n                <p class="tooltip-text">The level is determined by a majority opinion of students who have reviewed this class.\n                The teacher\'s recommendation is shown until at least 5 student responses are collected.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <span class="notes"></span>\n      </div>\n      <div class="tile likes empty">\n        <strong><div class="icon-circle yellow ss-icon-heart most-liked-icon">\n          <div class="popover shadow reviews-tooltip liked-tooltip-popover-metrics-section">\n            <div class="inner-popover">\n              <div class="arrow"></div>\n              <p class="tooltip-title">Be the first!</p>\n              <p class="tooltip-text">No votes just yet\u2014watch a few lessons to be the first to share what you liked most about this class.</p>\n            </div>\n          </div>\n        </div> Most Liked</strong>\n        <ul>\n            <li data-value="0"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n            <li data-value="1"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n            <li data-value="2"><span class="ss-icon-heart"> 0</span> <span class="tagName"></span></li>\n        </ul>\n      </div>\n      <div class="tile expectations empty">\n        <strong><div class="icon-circle yellow ss-icon-thumbs-up expectations-icon">\n          <div class="popover shadow reviews-tooltip expectations-tooltip-popover-metrics-section">\n            <div class="inner-popover">\n              <div class="arrow bottom"></div>\n              <p class="tooltip-title">Be the first!</p>\n              <p class="tooltip-text">No ratings just yet\u2014watch a few lessons to be the first to share whether this class met your expectations.</p>\n            </div>\n          </div>\n        </div> Expectations Met?</strong>\n        <ul>\n          <li data-value="4"><span class="review-tag">Exceeded!</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="3"><span class="review-tag">Yes</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="2"><span class="review-tag">Somewhat</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n          <li data-value="1"><span class="review-tag">Not really</span><div class="graph-item"><span></span></div><span class="percentage">0%</span></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div id="reviews-section">\n    <div class="reviews-section-grid">\n      <div class="current">\n        {{#reviewsSortOrder}}\n          <div class="sort-order">\n            {{> shared/_underline-tabs }}\n          </div>\n        {{/reviewsSortOrder}}\n        <div class="empty-reviews">Be the first to leave a review in our updated system!</div>\n        <div class="new-reviews"></div>\n        {{#loadMoreReviews}}\n          <div class="load-more-container new-reviews-load-more">\n            <a href="javascript:;" class="load-more button alt-charcoal-ghost" data-value="1">Load More Reviews</a>\n          </div>\n        {{/loadMoreReviews}}\n      </div>\n    </div>\n  {{#numArchiveReviews}}\n    <div class="archive hide js-archive-container">\n      <header>\n        <div class="archive-copy">\n          <h5>Reviews Archive</h5>\n          <p>In October 2018, we updated our review system to improve the way we collect feedback. Below are the reviews written before that update. You are welcome to edit your old review into the new system!</p>\n        </div>\n      </header>\n      <div class="reviews-section-grid">\n        <h5 class="section-header title">{{numArchiveRecommendations}} of {{numArchiveReviews}} students recommend this class</h5>\n        <div class="archive-reviews">\n          {{#archiveReviews}}\n              {{> items/_review-archive-item-view}}\n          {{/archiveReviews}}\n        </div>\n          {{#loadMoreArchiveReviews}}\n          <div class="load-more-container archive-load-more">\n            <a href="javascript:;" class="load-more button alt-charcoal-ghost" data-value="2">Load More Reviews</a>\n          </div>\n          {{/loadMoreArchiveReviews}}\n        </div>\n      </div>\n    {{/numArchiveReviews}}\n  </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s,n){i(520),i(183);var a=i(625),o=i(680),r=i(73),l=i(1195),c=i.n(l),d=i(597),h=i.n(d),u=i(596),p=i.n(u),v=i(561),m=i.n(v),f=i(511),g=i(61),y=i(851),w=i.n(y),b=i(743),k=i.n(b),C=i(526),S=i.n(C),T=i(846),P=a.a.extend({CONTAINER_PROJECT_CARD_SELECTOR:".js-project-card",COLLAPSED_CLASS_PD:"project-description-collapsed",PROJECT_GUIDE_CONTAINER_SELECTOR:".js-project-guide-container",DESCRIPTION_CONTENT_WRAPPER_SELECTOR:".js-description-content-wrapper",initialize:function(t){this.sortViews={},e.bindAll(this,"onSortedViewAttached","onSortedViewUnattach"),a.a.prototype.initialize.apply(this,arguments),t&&!!t.el&&this.switchSortView(this.model,this.model.get("sortMethod")),this.stopListening(this.model,"change"),this.listenTo(this.model,"change:collection_cid",this.render),this.listenTo(this.model,"change:sortMethod",this.switchSortView)},autoRender:!1,templatePartials:{"shared/_underline-tabs":h.a,"shared/_tab":p.a,"shared/_small-list-view-grid-item":m.a,"new-classes/_user-project":w.a,"partials/live-sessions/_empty-project-grid-item":k.a,"partials/_user-information-small":S.a},regions:{list:".projects-list"},events:{"click .sort-order a":"updateSortMethod","click .sort-order .tab":"updateActiveSortTab","click .js-see-more-button":"loadFullProjectDescription"},template:c.a,templateData:function(){var t=e.clone(this.model.attributes);return t.collection=!!Object(g.a)(this,"model","collection","length"),t},afterPreRender:function(){this.afterRender()},afterRender:function(){this.renderProjectCard(),this.maybeHideLoadMoreButton(),a.a.prototype.afterRender.apply(this,arguments)},renderProjectCard:function(){var e=this.model.get("projectGuide").projectCardData;if(e){var t=this.$(this.CONTAINER_PROJECT_CARD_SELECTOR);new T.a({model:new s.Model(e),container:t})}},descriptionFitsContainer:function(){var e=this.$(this.DESCRIPTION_CONTENT_WRAPPER_SELECTOR),t=parseInt(e.css("max-height"),10),i=e.prop("scrollHeight");return!(!t||!i)&&t>i},maybeHideLoadMoreButton:function(){this.descriptionFitsContainer()&&(this.$(".js-see-more-button").hide(),this.$(this.PROJECT_GUIDE_CONTAINER_SELECTOR).removeClass(this.COLLAPSED_CLASS_PD))},onSortedViewAttached:function(e){e.view.collection.loadMore&&e.view.infiniteScroller.enable(),e.view.fallbackEl=this.$(".empty-section-state"),e.view.initFallback(),this.$(".projects-list-container").removeClass("loading-overlay")},onSortedViewUnattach:function(e){e.view.infiniteScroller.disable()},updateSortMethod:function(e){e.preventDefault();var t=e.target.href.replace(window.location.protocol+"//"+window.location.hostname,""),i=Object(f.a)(t).sort;this.model.get("sortMethod")!==i&&this.$(".projects-list-container").addClass("loading-overlay"),this.model.set("sortMethod",i),s.history.navigate(t)},updateActiveSortTab:function(e){e.preventDefault(),this.$(".sort-order .tab").removeClass("active"),this.$(e.currentTarget).addClass("active")},switchSortView:function(t,i){var s={};if(e.isEmpty(this.sortViews)&&void 0!==Object(g.a)(this,"model","collection","length")){var a=s.collection=this.model.collection,o=n.Deferred();o.resolve(),a.initialLoad=o.promise()}var r=this.sortViews[i]||this.initSortedView(s),l=this;r.collection.initialLoad.then(function(){t.get("sortMethod")===i&&l.list.attach(r,!0)})},initSortedCollection:function(){var e=this.model._newCollection();return e.page=-1,e.initialLoad=e.fetchMore(),e},initSortedView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.model.get("sortMethod"),s=e.extend({deferRender:!0,tagName:"ul",className:"projects-list row",columnSize:3},t);s.collection||(s.collection=this.initSortedCollection());var n=new o.a(s);return n.collection.each(this._bubbleChanges,this),n.collection.lastViewTime=this.model.get("lastViewTime"),n.infiniteScroller=new r.a({collection:s.collection,container:n.$el,buffer:250}),n.on("attached",this.onSortedViewAttached),n.on("unattach",this.onSortedViewUnattach),this.sortViews[i]=n,n},loadFullProjectDescription:function(){this.$(this.PROJECT_GUIDE_CONTAINER_SELECTOR).toggleClass(this.COLLAPSED_CLASS_PD)}});t.a=P}).call(this,i(10),i(15),i(9))},function(e,t){e.exports='<div class="class-project js-projects-section-view">\n    {{#projectGuide}}\n        <div id="project-guide-section" class="js-project-guide-container project-description-collapsed">\n            <div class="project-guide-section-grid">\n                <div class="project-description js-project-description">\n                    <h2 class="section-header title">Project Description</h2>\n                    <div class="rich-content-wrapper js-description-content-wrapper">\n                        {{{project_guide}}}\n                    </div>\n                </div>\n\n                <div class="your-project-container">\n                    <div class="your-project">\n                        {{#userHasProject}}\n                            <h2 class="section-header title">\n                                Your Project\n                            </h2>\n                        {{/userHasProject}}\n                        {{#canCreateProject}}\n                            <a class="{{#userHasProject}}hide{{/userHasProject}} button large create-project-button-class-details" href="{{createProjectUrl}}">\n                                <svg class="ss-svg-icon"><use xlink:href="#project"></use></svg>Create Project\n                            </a>\n                            <div class="card-bordered-wrapper {{#userHasProject}}hide{{/userHasProject}}">\n                                \n                                <h4> <svg class="ss-svg-icon"><use xlink:href="#project" /></svg> Upload your project from tablet or desktop</h4>\n                            </div>\n                            <div class="project-card-class-wrapper  project-guide project-card-class-details {{^userHasProject}}card-bordered-wrapper{{/userHasProject}}">\n                                <div class="project-card js-project-card"></div>\n                            </div>\n                        {{/canCreateProject}}\n                        {{^canCreateProject}}\n                            <div class="project-card-class-wrapper  project-guide {{^userHasProject}}card-bordered-wrapper{{/userHasProject}}">\n                                <div class="project-card js-project-card"></div>\n                            </div>\n                        {{/canCreateProject}}\n                    </div>\n                    {{#attachmentsCount}}\n                    <div id="attachments">\n                        <h2 class="section-header title">\n                            Resources<span class="attachments-count">({{attachmentsCount}})</span>\n                        </h2>\n                        <ul>\n                            {{#attachments}}\n\n                                <div class="attachment">\n                                    <div class="ellipsis-container">\n                                        <p class="ellipsis">\n                                            <svg class="ss-svg-icon"><use xlink:href="#link" /></svg>\n                                            <a {{#url}}href="{{url}}"{{/url}}{{^url}}href="javascript:;" data-ss-restrict="signup"{{/url}} rel="tooltip" data-title="{{title}}" target="_blank">\n                                                {{title}}\n                                            </a>\n                                        </p>\n                                    </div>\n                                    <p class="filesize">{{size}}</p>\n                                </div>\n                            {{/attachments}}\n                        </ul>\n                    </div>\n                    {{/attachmentsCount}}\n                </div>\n                <div class="load-more-section">\n                    <div class="divider"></div>\n                    <a class="button alt-charcoal-ghost save js-see-more-button">See\n                        <span class="see-more">more <svg class="ss-svg-icon"><use xlink:href="#down"></use></svg></span>\n                        <span class="see-less">less <svg class="ss-svg-icon"><use xlink:href="#up"></use></svg></span>\n                    </a>\n                    <div class="divider"></div>\n                </div>\n            </div>\n            \n        </div>\n    {{/projectGuide}}  \n  \n    <div class="projects-section grid">\n        {{#sortOrderTabs}}\n            <div class="sort-order">\n                <h2 class="section-header title">Student Projects</h2>\n                {{> shared/_underline-tabs}}\n            </div>\n        {{/sortOrderTabs}}\n        <div class="projects-list-container">\n            {{#collection}}\n                <div class="projects-list row">\n                    {{#projects}}\n                        {{> shared/_small-list-view-grid-item}}\n                    {{/projects}}\n                </div>\n            {{/collection}}\n            <ul class="empty-section-state hidden row">\n                <li class="no-projects">\n                    <div class="empty-area"><p>There are no projects for this class yet.</p></div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s){var n=i(625),a=i(82),o=i(547),r=i(601),l=i(602),c=i(573),d=i(73),h=i(603),u=i(189),p=i(1197),v=i.n(p),m=i(851),f=i.n(m),g=i(561),y=i.n(g),w=i(509),b=i(44),k=i(13),C=n.a.extend({template:v.a,templatePartials:{"new-classes/_user-project":f.a,"shared/_small-list-view-grid-item":y.a},templateData:function(){return this.model.attributes},events:{"click .sidebar-section-title-students":"openUserListPopup"},initialize:function(e){e&&!!e.el&&this.afterRender(),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),n.a.prototype.initialize.apply(this,arguments)},onAttached:function(){b.a.initRichTextareas(this.$el),this.listenTo(e,"change:discussions:pinDiscussion",this.onPinDiscussion)},onUnattach:function(){this.$("textarea.rich").data("ss-initialized",!1),this.stopListening(e,"change:discussions:pinDiscussion")},afterRender:function(){var e=this.$(".discussions-list"),t=this.model.get("list");this.discussions=new r.a(t.discussions,{loadMore:t.loadMore,_modelId:this.model.get("parentClassData").id,comparator:function(e){return-e.get("lastActivityTimeTimestamp")}}),this.discussions.url=t.discussionsUrl,this.discussionsCollectionView=new l.a({collection:this.discussions,el:e,fallbackEl:this.$(".empty-discussions")}),new d.a({collection:this.discussions,container:e}),this.createDiscussionForm(),this.setupPinnedDiscussion(),w.a.initUserPopovers(this),a.a.initRestrictedAccessHandlers(this),n.a.prototype.afterRender.apply(this,arguments)},createDiscussionForm:function(){if(this.model.get("canUserCreate")){var e=new o.a({discussable_id:this.model.get("parentClassData").id,type:"Announcement",discussable_type:"ParentClasses"});this.discussionForm=new h.a({model:e,currentUser:SS.currentUser,container:this.$(".discussion-form-wrapper"),templateData:{formTogglePlaceholder:"Post a question or start a conversation with your class!",currentUser:s.extend({canNotifyAll:this.model.get("canNotifyAll")},SS.currentUser.attributes),discussionTypes:this.model.get("discussionTypes")}}),this.listenTo(this.discussionForm,"new:discussion",this.onNewDiscussion)}},setupPinnedDiscussion:function(){var e=this;this.pinnedDiscussion&&(this.pinnedDiscussion.unbind(),this.pinnedDiscussion.remove());var t=this.model.get("pinnedDiscussionData");if(this.$(".pinned-discussion-wrapper").toggleClass("hidden",s.isEmpty(t)),!s.isEmpty(t)){var i=new o.a(t);this.pinnedDiscussion=new c.a({model:i,container:this.$(".pinned-discussion")}),i.on("destroy",function(){e.$(".pinned-discussion-wrapper").toggleClass("hidden",!0),e.model.set("pinnedDiscussionData",null)})}},onNewDiscussion:function(e){this.discussions.unshift(e),this.discussionForm.remove(),this.createDiscussionForm()},openUserListPopup:function(){new u.a({title:"Students",emptyMessage:"There are no students in this class.",url:this.model.get("studentsListUrl")})},onPinDiscussion:function(e){var t=this,i=e.get("isPinned"),n=i?"DELETE":"POST",a="/discussions/".concat(e.get("id"),"/pin");k.a.ajaxRequest(a,{type:n,success:function(){var n=t.model.get("pinnedDiscussionData");if(i)t.model.set("pinnedDiscussionData",null),e.set("isPinned",!1),t.discussions.add(e),t.setupPinnedDiscussion();else{if(!s.isEmpty(n)){var a=JSON.parse(JSON.stringify(n));a.isPinned=!1,t.discussions.add(new o.a(a))}e.set("isPinned",!0),t.model.set({pinnedDiscussionData:e.attributes},{silent:!0}),t.setupPinnedDiscussion(),t.discussions.remove(e.get("id"))}},error:function(){SS.events.trigger("alerts:create",{title:"Discussion could not be pinned, please try again",type:"error"})}})}});t.a=C}).call(this,i(15),i(10))},function(e,t){e.exports='<div id="discussions-tab" class="discussions-section">\n    <div class="cd-discussions-grid">\n        <div class="cd-discussions-main discussions-wrapper intab">\n            {{> new-classes/_welcome-banners}}\n            {{#isGuest}}\n                <div class="cta">\n                    <div class="login-cta">Please <a href="javascript:;" data-ss-restrict="login" data-ss-redirect-return="true">sign in</a> or <a href="javascript:;" data-ss-restrict="signup" data-ss-redirect-return="true">sign up</a> to comment.</div>\n                </div>\n            {{/isGuest}}\n            {{#canUserCreate}}\n                <div class="cta">\n                    <div class="discussion-form-wrapper"></div>\n                </div>\n            {{/canUserCreate}}\n            <div class="pinned-discussion-wrapper">\n                <div class="pinned-discussion"></div>\n            </div>\n            <ul class="discussions-list{{^canUserCreate}}{{^isGuest}} without-header{{/isGuest}}{{/canUserCreate}}">\n                <li><div class="icon-loading full-width"></div></li>\n            </ul>\n            <div class="empty-discussions empty-area hidden">No one has created a discussion yet.</div>\n        </div>\n        {{#sidebarData}}\n            <div class="cd-discussions-sidebar sidebar">\n                {{> new-classes/_user-project}}\n                {{#numProjects}}\n                    <div class="sidebar-section">\n                        <h5 class="sidebar-section-title"><a href="{{projectsUrl}}" class="link-main section-navigation">Student Projects</a> <span class="count">{{totalNumProjects}}</span></h5>\n                        <div class="sidebar-row clear">\n                            {{#projects}}\n                                <div class="sidebar-column projects">\n                                    <a href="{{url}}" class="ratio ratio-2-3" style="background-image: url({{image}});" target="_blank"></a>\n                                </div>\n                            {{/projects}}\n                        </div>\n                    </div>\n                {{/numProjects}}\n                {{#numStudents}}\n                    <div class="sidebar-section">\n                        <h5 class="sidebar-section-title">\n                            <a href="javascript:;" class="link-main sidebar-section-title-students">Students</a>\n                            <span class="count">{{totalNumStudents}}</span>\n                        </h5>\n                        <div class="sidebar-row clear">\n                            {{#students}}\n                                <div class="sidebar-column students">\n                                    <a href="{{url}}" class="ratio ratio-1-1" style="background-image: url({{image}});" data-ss-username="{{username}}" target="_blank"></a>\n                                </div>\n                            {{/students}}\n                        </div>\n                    </div>\n                {{/numStudents}}\n            </div>\n        {{/sidebarData}}\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e){var s=i(625),n=i(1199),a=i(790),o=i(573),r=i(44),l=s.a.extend({legacyRender:!0,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.extend(this,e.pick(t,"classModel")),this.on("attached",this.onAttached),this.on("unattach",this.onUnattach),s.a.prototype.initialize.apply(this,arguments)},onAttached:function(){r.a.initRichTextareas(this.$el)},onUnattach:function(){this.$("textarea.rich").data("ss-initialized",!1)},afterRender:function(){this.discussionModel=new n.a(this.model.get("discussion"),{classModel:this.classModel}),new o.a({model:this.discussionModel,el:this.$el}),new a.a({el:this.$(".discussion-meta .action-follow-unfollow")}),s.a.prototype.afterRender.apply(this,arguments)}});t.a=l}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){var n=i(558).a.extend({initialize:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isUndefined(i.classModel)||(this.classModel=i.classModel)},sync:function(t,i,n){return n.data=n.data||{},e.extend(n.data,{sku:this.classModel.get("sku"),classId:this.classModel.id,commentSort:this.get("commentSort"),type:this.get("sectionType")}),s.sync.apply(this,arguments)}});t.a=n}).call(this,i(10),i(15))},function(e,t,i){"use strict";(function(e,s){i(40);var n=i(35),a=i(1201),o=n.a.extend({className:"class-share-popover base-share",placement:"top",onboarding:!1,CORRECTED_HEIGHT:315,DEFAULT_HEIGHT:295,EXPANDED_HEIGHT:587,TITLE_YOUR_CLASS:"Share Your Class, Earn $10",TITLE_TEACHER:"Share This Class, Earn $10",TITLE_STUDENT:"Share This Class, Get Free Months",DESC_TEACHER:"Invite students to 2 free months of Premium Membership. Earn $10 for each sign up.",DESC_STUDENT:"Invite your friends to try Premium Membership free for 2 months. Earn one free month for each friend who signs up.",initialize:function(t){n.a.prototype.initialize.apply(this,arguments),e.extend(this,e.pick(t,["defaultHeight","expandedHeight","onboarding","roster","userIsAffiliateReferrer"])),this.options=t||{},e.bindAll(this,"onOpen","onClose","expandPopover"),this.listenTo(this,"popover:open",this.onOpen),this.listenTo(this,"popover:close",this.onClose)},onOpen:function(){var t=SS.serverBootstrap.pageData.isTeacher?this.TITLE_YOUR_CLASS:this.TITLE_TEACHER,i=this.userIsAffiliateReferrer?t:this.TITLE_STUDENT,n=this.userIsAffiliateReferrer?this.DESC_TEACHER:this.DESC_STUDENT;this.classShareView=new a.a(e.extend(this.options,{el:s(".class-share-wrapper"),viewTitle:i,viewDescription:n,showCompact:this.options.showCompact,isEmail:!this.options.showCompact})),this.options.showEmail?this.$el.css("min-height",this.CORRECTED_HEIGHT):this.$el.css("min-height",0),this.reposition(),this.classShareView.$(".btn-close").on("click",this.close.bind(this)),this.listenTo(this.classShareView,"google:user:authorized",this.expandPopover),this.listenTo(this.classShareView,"link:button:click",this.reposition),this.onboarding?(SS.EventTracker.track("Class Onboarding: Viewed Onboarding",null,{type:"class-share-popover"}),SS.currentUser.save({completed_class_onboarding_time:1},{patch:!0}),this.roster.set({completed_onboarding_time:1}),this.roster.save(),SS.EventTracker.track("Class Onboarding: Completed",null,{sku:this.model.get("sku"),type:"class-share-popover"})):SS.EventTracker.track("Viewed Referral Popup",null,{type:"class-share-popover"})},onClose:function(){this.onboarding&&(this.onboarding=!1,this.showOnHover=!0)},expandPopover:function(){this.options.showCompact||(s(".class-share-popover").css("min-height",this.EXPANDED_HEIGHT),this.reposition())}});t.a=o}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e){var s=i(1202),n=i(511),a=s.a.extend({onboarding:!1,className:"base-share class-share",templateData:function(){var t=Object(n.a)();return e.extend({viewTitle:this.viewTitle,viewDescription:this.viewDescription,via:this.via,utm_campaign:t.utm_campaign,utm_source:t.utm_source,utm_medium:t.utm_medium,showCompact:this.showCompact},this.model.attributes)},initialize:function(t){e.extend(this,e.pick(t,["onboarding","roster","viewTitle","viewDescription","showCompact"])),this.via=this.onboarding?"class-onboarding-share":"class-details-share-popup",this.viewTitle=this.viewTitle||"Share This Class",this.viewDescription=this.viewDescription||"Know someone who might love this class?<br/>Let them know about it!",s.a.prototype.initialize.apply(this,arguments)}});t.a=a}).call(this,i(10))},function(e,t,i){"use strict";(function(e,s){i(34);var n=i(8),a=i(522),o=i(537),r=i(543),l=i(542),c=i(1203),d=i.n(c),h=i(677),u=i.n(h),p=i(678),v=i.n(p),m=i(1204),f=i.n(m),g=n.a.extend({className:"base-share",template:v.a,templatePartials:{"shared/_email-invite":u.a},events:{"click .invite-contacts":"onInviteContactsClick","click .manual-toggle":"onManualToggleClick"},initialize:function(){n.a.prototype.initialize.apply(this,arguments),this.trackingParams=e.extend({via:this.via},e.pick(this.model.get("formData"),["parentClassId","liveSessionId"]))},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$email=this.$(".email-invite"),this.$emailForm=this.$email.find("form"),this.$manualToggle=this.$(".manual-toggle"),this.$manualSection=this.$(".manual-section"),this.$contactsSection=this.$(".contacts-section");var t=new o.a({template:d.a,el:this.$(".social-share-buttons-wrapper"),model:this.model,trackingParams:this.trackingParams,showCompact:this.showCompact,showEmail:!this.showCompact,linkOnly:!0});this.listenTo(t,"link:button:click",function(){this.trigger("link:button:click")}),new r.a({el:this.$emailForm,trackingParams:this.trackingParams});var i=new s.Model(e.extend(SS.serverBootstrap.pageData.videoPlayerData.shareLinks,SS.serverBootstrap.classData.parentClass,{hideShortUrl:!1,showLinkBtn:!0,showEmail:!1}));new o.a({el:this.$(".share-popup-all-buttons"),model:i,template:f.a})},trackSocialShare:function(t){var i=e.extend(this.model.get("formData"),this.trackingParams,{method:t,type:a.a.TYPES.REFERRAL_LINK});new a.a(i).save()},onInviteContactsClick:function(){var t=e.extend({endpoint:this.model.get("formData").action,method:a.a.METHODS.GMAIL_CONTACTS},this.trackingParams);this.googleContactsView=new l.a({el:this.$contactsSection,trackingParams:this.trackingParams,referralData:t}),this.showCompact?(this.$(".compact-gmail-contacts-show").show(),this.$(".compact-gmail-contacts-hide").hide()):this.googleContactsView.on("user:authorized",this.hideForm,this),this.googleContactsView.on("user:authorized",this.onUserAuthorized,this),this.googleContactsView.authorize(),SS.EventTracker.track("Clicked Invite Gmail Contacts",{},this.trackingParams)},onManualToggleClick:function(){this.showForm()},hideForm:function(){this.$manualSection.hide(),this.$manualToggle.css("display","inline-block")},showForm:function(){this.$manualSection.show(),this.$manualToggle.hide()},onUserAuthorized:function(){this.trigger("google:user:authorized")}});t.a=g}).call(this,i(10),i(15))},function(e,t){e.exports='<div class="share-popup-all-buttons">\n</div>'},function(e,t){e.exports='<div class="social-share-buttons">\n\t<div class="link-input btn small hidden">\n        <input type="text" class="small select-on-click" value="{{shortUrl}}" readonly="readonly" />\n    </div>\n    <div class="buttons-container">\n\t\t<div class="share-facebook btn fb large-icon ss-icon-facebook share-button"></div>\n   \t\t<a class="share-twitter btn twitter large-icon ss-icon-twitter share-button" href="https://twitter.com/intent/tweet?text={{urlEncodedTweetText}}" longurl="{{twitterUrl}}" shorturl=""></a>\n   \t\t<div class="share-link btn large-icon ss-icon-link share-button" longurl="{{directUrl}}"></div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s){i(186),i(119),i(1206),i(183),i(34);var n=i(13),a=i(35),o=i(1208),r=i.n(o),l=a.a.extend({template:r.a,templateData:function(){return{icons:this.options.icons}},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.a.prototype.initialize.apply(this,arguments),this.options=t;var i=this.getDurationInMinutes(this.options.duration),s=this.roundStartTime(new Date);s.setDate(s.getDate()+1);var n=this.cleanDescription(this.options.description);this.event={start:s,title:this.options.title,duration:i,description:n,eventLocation:this.options.baseUrl},this.MS_IN_MINUTES=6e4,e.bindAll(this,"onGoogleCalendarEvent","onYahooCalendarEvent","onDataCalendarEvent")},afterRender:function(){e.bindAll(this,"onOpen"),this.listenTo(this,"popover:open",this.onOpen);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];a.a.prototype.afterRender.apply(this,i)},onOpen:function(){this.visibleEl.find(".google-cal").on("click",this.onGoogleCalendarEvent),this.visibleEl.find(".yahoo-cal").on("click",this.onYahooCalendarEvent),this.visibleEl.find(".apple-cal").on("click",this.onDataCalendarEvent),this.visibleEl.find(".outlook-cal").on("click",this.onDataCalendarEvent),this.mixPanelTrack("Opened Add To Calendar Popover")},onGoogleCalendarEvent:function(){var e=this.formatTime(this.event.start),t=this.calculateEndTime(),i="".concat(this.event.eventLocation,"?via=calendar-google"),s=encodeURI("https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(this.event.title,"&dates=").concat(e,"/").concat(t,"&details=").concat(this.event.description,"<p><a href='").concat(i,"'>").concat(this.event.eventLocation,"</a></p>&location=").concat(i,"&sprop=&sprop=name:"));this.openLink(s),this.mixPanelTrack("Added Class To Google Calendar")},onYahooCalendarEvent:function(){var e="".concat(this.event.eventLocation,"?via=calendar-yahoo"),t=this.event.end?(this.event.end.getTime()-this.event.start.getTime())/this.MS_IN_MINUTES:this.event.duration,i=t<600?"0"+Math.floor(t/60):Math.floor(t/60)+"",s=t%60<10?"0".concat(t%60):String(t%60),n="".concat(i).concat(s),a=this.formatTime(this.event.start),o=encodeURI("http://calendar.yahoo.com/?v=60&view=d&type=20&title=".concat(this.event.title,"&st=").concat(a,"&dur=").concat(n,"&desc=").concat(this.event.description,"&in_loc=").concat(e));this.openLink(o),this.mixPanelTrack("Added Class To Yahoo Calendar")},onDataCalendarEvent:function(e){var t=s(e.currentTarget).data("calendar")||"Desktop",i=this.formatTime(this.event.start),n=this.calculateEndTime(),a="".concat(this.event.eventLocation,"?via=calendar-").concat(t),o=encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:".concat(a),"DTSTART:".concat(i),"DTEND:".concat(n),"SUMMARY:".concat(this.event.title),"DESCRIPTION:".concat(this.event.description),"LOCATION:".concat(a),"END:VEVENT","END:VCALENDAR"].join("\n"));this.openLink(o),this.mixPanelTrack("Added Class To ".concat(t," Calendar"))},formatTime:function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},calculateEndTime:function(){var e=new Date(this.event.start.getTime()+this.event.duration*this.MS_IN_MINUTES);return this.formatTime(e)},getDurationInMinutes:function(e){var t=(e||"0").replace("m","").split("h");return t.length>1?60*parseInt(t[0].trim(),10)+parseInt(t[1].trim(),10):parseInt(t[0],10)},roundStartTime:function(e){return e.setHours(e.getHours()+Math.ceil(e.getMinutes()/60)),e.setMinutes(0),e},cleanDescription:function(e){var t="";if("string"==typeof e&&1e3===(t=e.replace(/<(?:.|\n)*?>/gm,"").substring(0,1e3)).length){var i=t.split(" ");i.pop(),t="".concat(i.join(" "),"...")}return t},openLink:function(e){window.open(e,"_blank")},mixPanelTrack:function(e){try{SS.EventTracker.track(e,{},SS.EventTracker.classDetails({from_page:n.a.getPathname()}))}catch(e){console.log("Tracking error: ".concat(e,"!"))}}});t.a=l}).call(this,i(10),i(9))},function(e,t,i){var s=i(22),n=i(1207);s(s.P+s.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,i){"use strict";var s=i(31),n=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=s(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!s(function(){a.call(new Date(NaN))})?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),i=e.getUTCMilliseconds(),s=t<0?"-":t>9999?"+":"";return s+("00000"+Math.abs(t)).slice(s?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(i>99?i:"0"+o(i))+"Z"}:a},function(e,t){e.exports='<div class="inner-popover">\n  <div class="arrow"></div>\n  <ul>\n    <li><a href="javascript:;" class="outlook-cal" data-calendar="Outlook">\n    <img src="{{icons.outlook}}" /> Outlook Calendar</a></li>\n    <li><a href="javascript:;" class="google-cal" data-calendar="Google">\n    <img src="{{icons.google}}" /> Google Calendar</a></li>\n    <li><a href="javascript:;" class="apple-cal" data-calendar="Apple">\n    <img src="{{icons.apple}}" /> Apple Calendar</a></li>\n    <li class="last"><a href="javascript:;" class="yahoo-cal" data-calendar="Yahoo">\n    <img src="{{icons.yahoo}}" /> Yahoo! Calendar</a></li>\n  </ul>\n</div>'},function(e,t,i){"use strict";(function(e,s){i(40),i(34);var n=i(577),a=i(894),o=n.a.extend({events:{"click .approve-class":"onClickApproveClass","click .approve-and-feature-class":"onClickApproveAndFeatureClass","click .update-featured":"onClickFeatured","click .update-previewable":"onClickPreviewable","click .update-indexed":"onClickIndexed","click .update-staff-pick":"onClickStaffPick",'click [name="display_status"]':"onClickDisplayStatus","focus .js-quality-grade":"onFocusQualityGrade","change .js-quality-grade":"onChangeQualityGrade","click .js-button-update-note-only":"onClickButtonUpdateNotesOnly","keyup .js-quality-grade-notes":"onChangeQualityGradeNote","click .update-ss-owned":"onClickSkillshareOwned","click .update-ss-produced":"onClickSkillshareProduced","click .delete-parent-class":"onClickDeleteParentClass"},gradeDropdown:e(".js-quality-grade"),gradeNote:e(".js-quality-grade-notes"),gradeNoteConfimation:e(".js-grade-note-confirmation"),updateButtonGradeGradeNoteOnly:e(".js-button-update-note-only"),initialize:function(e){n.a.prototype.initialize.apply(this,arguments),this.classData=s.result(e,"classData"),new a.a},onClickApproveClass:function(){this.doApproveClass(0,"This class will be in forever mode and WILL NOT be featured.")},onClickApproveAndFeatureClass:function(){this.doApproveClass(1,"This class will be in forever mode and WILL be featured.")},doApproveClass:function(t,i){var s="Are you sure you want to approve this inbound class?\n\n        Pressing OK will publish this class so that it's live and enrollable. \n ".concat(i),n="/listings/publish?";n+=e.param({sku:this.classData.sku,feature:t});this.actionOnClick(s,n,null,"Error publishing class. Are you sure your class doesn't have any validation errors?")},onClickFeatured:function(){var e=parseInt(this.classData.parentClass.is_featured,10),t=e?0:1,i="Are you sure you want to change the featured status to ".concat(e?"NO":"YES"," ?"),s={id:this.classData.parentClass.id,attributes:{is_featured:t,is_forever:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating featured status. Are you sure your class doesn't have any validation errors?")},onClickIndexed:function(){var e=parseInt(this.classData.parentClass.is_indexed,10),t=e?0:1,i="Are you sure you want to change the indexing status to ".concat(e?"NO":"YES","?"),s={id:this.classData.parentClass.id,attributes:{is_indexed:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating the indexing status. Are you sure your class doesn't have any validation errors?")},onClickStaffPick:function(){var e=parseInt(this.classData.parentClass.is_staff_pick,10),t=e?0:1,i="Are you sure you want to change the staff pick status to ".concat(e?"NO":"YES"," ?"),s={id:this.classData.parentClass.id,attributes:{is_staff_pick:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating the staff pick status. Are you sure your class doesn't have any validation errors?")},onClickDisplayStatus:function(e){e.preventDefault();var t=parseInt(e.target.value,10),i=e.target.labels[0].innerText,s="Are you sure you want to change the display status to ".concat(i,"?"),n={id:this.classData.parentClass.id,attributes:{display_status:t}};this.actionOnClick(s,"/classes/adminUpdateAttributes",n,"Error updating the display status. Are you sure your class doesn't have any validation errors?")},onChangeQualityGradeNote:function(){this.updateButtonGradeGradeNoteOnly.removeClass("hide")},onClickButtonUpdateNotesOnly:function(){var e={quality_grade:parseInt(this.gradeDropdown.val(),10),grade_note:this.gradeNote.val()};this.updateQualityGrade(null,e)},showConfirmation:function(){var e=this;this.updateButtonGradeGradeNoteOnly.prop("disabled",!1),this.updateButtonGradeGradeNoteOnly.addClass("hide"),this.gradeNoteConfimation.removeClass("hide"),window.setTimeout(function(){return e.gradeNoteConfimation.addClass("hide")},1500)},onFocusQualityGrade:function(){this.previousGradeDropdownState={label:e("#site-menu .ss-select .label").text(),value:this.gradeDropdown.val()}},resetGrade:function(){var t=this.previousGradeDropdownState;t&&(e("#site-menu .ss-select .label").text(t.label),this.gradeDropdown.find("option[value=".concat(t.value,"]")).prop("selected",!0))},onChangeQualityGrade:function(e){e.preventDefault();var t=parseInt(this.gradeDropdown.val(),10),i=this.gradeNote.val(),s=this.gradeDropdown.find(":selected");if(s.data("request-note")&&i.length<3)alert("This type of grade needs a note!\nPlease input a grade note and reselect this grade.\nThe grade has not been updated!"),this.resetGrade();else{var n=null;s.data("request-confirm-msg")&&(n="Are you sure you want to select "+s.text()+" for this class?");var a={quality_grade:t,grade_note:i};this.updateQualityGrade(n,a)}},updateQualityGrade:function(e,t){this.updateButtonGradeGradeNoteOnly.prop("disabled",!0);var i={id:this.classData.parentClass.id,attributes:t};this.actionOnClick(e,"/classes/adminUpdateAttributes",i,"Error updating the quality grade.",this.resetGrade.bind(this),this.showConfirmation.bind(this))},onClickPreviewable:function(){var e=parseInt(this.classData.parentClass.is_previewable,10),t=e?0:1,i="Are you sure you want to set whether this class is visible as a draft to "+(e?"NO":"YES")+"?",s={id:this.classData.parentClass.id,attributes:{is_previewable:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating previewable status. Are you sure your class doesn't have any validation errors?")},onClickSkillshareOwned:function(){var e=parseInt(this.classData.parentClass.is_skillshare_owned,10),t=e?0:1,i="Are you sure you want to change the Skillshare owned status to ".concat(e?"NO":"YES"," ?"),s={id:this.classData.parentClass.id,attributes:{is_skillshare_owned:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating Skillshare owned status. Are you sure your class doesn't have any validation errors?")},onClickSkillshareProduced:function(){var e=parseInt(this.classData.parentClass.is_skillshare_produced,10),t=e?0:1,i="Are you sure you want to change the Skillshare produced status to ".concat(e?"NO":"YES","?"),s={id:this.classData.parentClass.id,attributes:{is_skillshare_produced:t}};this.actionOnClick(i,"/classes/adminUpdateAttributes",s,"Error updating Skillshare produced status. Are you sure your class doesn't have any validation errors?")},onClickDeleteParentClass:function(){var e={sku:this.classData.parentClass.sku};this.actionOnClick("Are you sure you want to delete this class and all related enrollments, projects, notes, etc.?","/listings/delete",e,"Could not delete the class")}});t.a=o}).call(this,i(9),i(10))},function(e,t,i){"use strict";var s=i(838),n=i(529),a=i(1211),o=i.n(a),r=s.a.extend({className:"follow-dialog shadow on-main",placement:"left",arrowPlacement:"right",template:o.a,dialogId:n.a.CLASS_DETAILS_FOLLOW_DIALOG_ID,initialize:function(){s.a.prototype.initialize.apply(this,arguments)}});t.a=r},function(e,t){e.exports='<div class="inner-popover">\n    <div class="arrow"></div>\n    <div class="content">\n        <h4 class="dialog-header">Follow this Teacher</h4>\n        <p class="description">Like this class? Follow the teacher for more!</p>\n        <div class="btn small secondary primary close-button">Got It</div>\n    </div>\n</div>\n'},function(e,t){e.exports='<p class="unenroll-popup-content">\n    Unenrolling from this class will remove it from your My Classes section and profile. \n    You will no longer receive notifications for this class.\n</p>\n<p>\n    You will be able to access and edit your project in this class.\n</p>\n'},function(e,t,i){"use strict";(function(e,s){var n=i(895),a=i(679),o=i(708),r=i(891),l=i(892),c=i(73),d=i(117),h=i(1215),u=i.n(h),p=n.a.extend({defaultPrivacyStatus:1,template:u.a,events:{"click .close-button":"closeDrawer"},initComponent:function(t){e.bindAll(this,"addNotesCollectionView","onStateChange"),e.extend(this,e.pick(t,["displayNote","via","templateData"])),this.notes=new o.a([]),this.notes.comparator="video_time",this.listenTo(this.notes,"sync",this.onCollectionFetch),SS.EventTracker.track("Viewed Learn Mode",{},{via:this.via})},afterRender:function(){n.a.prototype.afterRender.apply(this,arguments),this.$loadingIcon=this.$(".icon-loading"),this.$numNotes=this.$(".num-notes"),this.$sessionTitle=this.$(".session-title"),this.$notesWrapper=this.$(".notes-wrapper"),this.$notesCollectionWrapper=this.$(".learn-mode-notes-collection-wrapper"),this.$emptyArea=this.$(".empty-area"),this.addNoteForm(),this.addNotesCollectionView(),this.fetchNotes(),this.endLoading()},onStateChange:function(){this.fetchNotes(),this.removeNoteForm(),this.addNoteForm()},addNoteForm:function(){var e={session:this.session},t=new a.a({privacy_status:this.defaultPrivacyStatus},e);this.noteForm=new r.a({container:this.$(".note-form-wrapper"),player:this.player,model:t,session:this.session,via:"learn-mode"}),this.listenTo(this.noteForm,"created:note",this.onNewNote),this.listenTo(this.noteForm,"change:privacy_status",this.onPrivacyStatusChange)},removeNoteForm:function(){this.noteForm.remove()},onNewNote:function(e){this.notes.add(e),this.resetNoteForm(),this.incrementNoteCount(),this.updateEmptyState(),this.trigger("created:note",e)},resetNoteForm:function(){this.removeNoteForm(),this.addNoteForm(),this.noteForm.show()},addNotesCollectionView:function(){var e=new l.a({container:this.$notesCollectionWrapper,collection:this.notes});this.infiniteScroller=new c.a({collection:this.notes,container:this.$notesCollectionWrapper,buffer:300}),this.listenTo(e,"click:videoTime",this.onVideoTimeClick),this.listenTo(this.notes,"remove",this.onNoteRemove)},fetchNotes:function(){this.startLoading();var e=this;this.notes.fetchSet({data:this.state.attributes,success:function(){e.endLoading()},error:function(){e.endLoading()}})},onCollectionFetch:function(){this.displayNote&&(this.highlightNote(this.displayNote),this.displayNote=void 0),this.infiniteScroller.update({fetchOptions:{data:this.state.attributes}}),this.$sessionTitle.html(this.session.get("title")),this.updateEmptyState(),this.$numNotes.html(d.a.pluralize(this.notes.total," Note"))},updateEmptyState:function(){if(this.notes.total>0)return this.$emptyArea.hide(),void this.$numNotes.css("display","inline-block");this.$numNotes.hide(),this.$emptyArea.html("There are no notes for this video.").show()},incrementNoteCount:function(){this.notes.total+=1;var e=parseInt(this.$numNotes.html(),10);this.$numNotes.html(d.a.pluralize(e+1," Note"))},decrementNoteCount:function(){this.notes.total-=1;var e=parseInt(this.$numNotes.html(),10);this.$numNotes.html(d.a.pluralize(e-1," Note"))},onNoteRemove:function(){this.decrementNoteCount(),this.updateEmptyState()},onVideoTimeClick:function(e){this.player.setCurrentTime(e.get("video_time")),this.player.play(),s("html, body").scrollTop(0)},onPrivacyStatusChange:function(e){this.defaultPrivacyStatus=e},highlightNote:function(e){var t=this.notes.get(e);t&&t.trigger("highlight")},startLoading:function(){this.$loadingIcon.show()},endLoading:function(){this.$loadingIcon.hide()}});t.a=p}).call(this,i(10),i(9))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({});t.a=i}).call(this,i(15))},function(e,t){e.exports='<div class="video-drawer-view">\n\n    <a href="javascript:;" class="close-button ss-icon-close" rel="tooltip" title="Hide Notes"></a>\n\n    <div class="video-drawer-content">\n        {{#showNoteForm}}\n            <div class="note-form-wrapper"></div>\n        {{/showNoteForm}}\n        {{#showLoginCTA}}\n            <div class="video-drawer-header">\n                <a href="javascript:;" data-ss-restrict="signup" class="secondary">Post a note on this video</a>\n            </div>\n        {{/showLoginCTA}}\n        <div class="notes-wrapper">\n            <div class="icon-loading"></div>\n            <div class="notes-header clear">\n                <h4 class="session-title left">{{sessionTitle}}</h4>\n                <h5 class="ss-icon-notes-pin num-notes left">{{numNotes}}</h5>\n            </div>\n            <div class="learn-mode-notes-collection-wrapper"></div>\n            <div class="empty-area">There are no notes for this video.</div>\n        </div>\n    </div>\n</div>\n'},function(e,t,i){"use strict";(function(e,s){i(122),i(123),i(40);var n=i(895),a=i(1217),o=i(1218),r=i.n(o),l=n.a.extend({template:r.a,$window:e(window),templateData:function(){return s.extend({},this.state.attributes,this.transcript.attributes)},events:{"click .close-button":"closeDrawer"},initComponent:function(e){s.bindAll(this,"onStateChange","updateTranscript","updateLoading","updateError"),this.state.set({maxHeight:"none"}),this.transcript=new a.a(e.transcriptData),this.trackViewedTranscript(e.via),this.on("didRender",function(){this.$emptyTranscript=this.$(".empty-transcript"),this.$transcriptContainer=this.$(".transcript-scroll-container"),this.$transcriptTitle=this.$(".transcript-title"),this.$transcriptText=this.$(".transcript-text"),this.$loadingIndicator=this.$(".icon-loading"),this.listenTo(this.transcript,"change",this.updateTranscript),this.listenTo(this.state,"change:loading change:error",this.updateLoading),this.listenTo(this.state,"change:error",this.updateError),e.transcriptData?this.state.set("loading",!1):this.fetchTranscript()})},onStateChange:function(){this.fetchTranscript(),this.trackViewedTranscript()},trackViewedTranscript:function(e){SS.EventTracker.track("Viewed Transcript",{},{via:e})},open:function(e){n.a.prototype.open.apply(this,arguments),this.setMaxHeight(this._calculateMaxHeight(e)),this.$window.on("scroll",s.throttle(s.bind(function(){this.setMaxHeight(this._calculateMaxHeight(e))},this),200))},setMaxHeight:function(e){this.$transcriptContainer.css("maxHeight",e.toString()+"px")},fetchTranscript:function(){this.transcript.set({sessionId:this.state.get("session_id")}),this.startLoading();var e=this;this.transcript.fetch({success:function(){e.endLoading(),e.state.set("error",!1)},error:function(){e.endLoading(),e.state.set("error",!0)}})},updateTranscript:function(){this.$transcriptTitle.text(this.transcript.get("title")),this.$transcriptText.text(this.transcript.get("text"))},updateLoading:function(){this.state.get("loading")?(this.$loadingIndicator.show(),this.$transcriptContainer.hide(),this.$emptyTranscript.hide()):(this.$loadingIndicator.hide(),this.updateError())},updateError:function(){this.state.get("error")?(this.$emptyTranscript.show(),this.$transcriptContainer.hide()):(this.$emptyTranscript.hide(),this.$transcriptContainer.show())},_calculateMaxHeight:function(){var e=this.$window.scrollTop(),t=this.$window.height()-(this.$el.offset().top-e)-25;return Math.max(150,t)}});t.a=l}).call(this,i(9),i(10))},function(e,t,i){"use strict";(function(e){var i=e.Model.extend({url:function(){return"/sessions/"+this.get("sessionId")+"/transcriptData"}});t.a=i}).call(this,i(15))},function(e,t){e.exports='<div class="video-drawer-view">\n    <a href="javascript:;" class="close-button ss-icon-close" rel="tooltip" title="Hide Transcript"></a>\n\n    <div class="video-drawer-content">\n        <div class="icon-loading"></div>\n\n        <div class="empty-transcript">\n            <h4 class="transcript-title">\n                No Transcript Available\n            </h4>\n            <pre class="transcript-text">\n                Sorry, this video has not yet been transcribed.\n            </pre>\n        </div>\n\n        <div class="transcript-scroll-container">\n            <h4 class="transcript-title">\n                {{title}}\n            </h4>\n            <pre class="transcript-text">\n                {{text}}\n            </pre>\n        </div>\n    </div>\n</div>\n'}])]);
//# sourceMappingURL=pages-newClasses.8a7c3fc459d2fe514eeb.build.min.js.map